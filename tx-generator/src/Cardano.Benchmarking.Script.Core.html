<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">{- HLINT ignore &quot;Reduce duplication&quot; -}</span><span>
</span><span id="line-2"></span><span class="hs-comment">{- HLINT ignore &quot;Use uncurry&quot; -}</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE ExistentialQuantification #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE NumericUnderscores #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE PackageImports #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE RecordWildCards #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-15"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-16"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Cardano.Benchmarking.Script.Core</span><span>
</span><span id="line-19"></span><span class="hs-keyword">where</span><span>
</span><span id="line-20"></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span>           </span><span class="hs-string">&quot;contra-tracer&quot;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.3/trace-dispatcher-2.5.2/doc/html/trace-dispatcher/src/Control.Tracer.html"><span class="hs-identifier">Control.Tracer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/dkmky2ci646kg44ca5yvqjsbpllsmy3f-contra-tracer-lib-contra-tracer-0.1.0.2-haddock-doc/share/doc/contra-tracer/html/src/Control.Tracer.html#Tracer"><span class="hs-identifier">Tracer</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Concurrent.html"><span class="hs-identifier">Control.Concurrent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Conc.IO.html#threadDelay"><span class="hs-identifier">threadDelay</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.html"><span class="hs-identifier">Control.Monad</span></a></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html"><span class="hs-identifier">Control.Monad.IO.Class</span></a></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html"><span class="hs-identifier">Control.Monad.Trans.Except</span></a></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/srn6bsn7d18q6zw42x7hh4yazaq31pm5-transformers-except-lib-transformers-except-0.1.4-haddock-doc/share/doc/transformers-except/html/src/Control.Monad.Trans.Except.Extra.html"><span class="hs-identifier">Control.Monad.Trans.Except.Extra</span></a></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/src/Data.ByteString.Lazy.Char8.html"><span class="hs-identifier">Data.ByteString.Lazy.Char8</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BSL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/src/Data.ByteString.Lazy.html#writeFile"><span class="hs-identifier">writeFile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Ratio.html"><span class="hs-identifier">Data.Ratio</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Real.html#%25"><span class="hs-operator">(%)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/wxfak5x5nml9hdfwan01apf0v81nglck-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.html"><span class="hs-identifier">Streaming</span></a></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/wxfak5x5nml9hdfwan01apf0v81nglck-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Prelude.html"><span class="hs-identifier">Streaming.Prelude</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><a href="file:///nix/store/wxfak5x5nml9hdfwan01apf0v81nglck-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.html"><span class="hs-identifier">Streaming</span></a></span><span>
</span><span id="line-33"></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/text-2.0.2/src/Data.Text.html"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier">unpack</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Prelude.html"><span class="hs-identifier">Prelude</span></a></span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/bss88hay1dshpzm18jhm97dmcnjhsx7y-cardano-api-lib-cardano-api-8.38.0.1-haddock-doc/share/doc/cardano-api/html/src/Cardano.Api.html"><span class="hs-identifier">Cardano.Api</span></a></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/bss88hay1dshpzm18jhm97dmcnjhsx7y-cardano-api-lib-cardano-api-8.38.0.1-haddock-doc/share/doc/cardano-api/html/src/Cardano.Api.Shelley.html"><span class="hs-identifier">Cardano.Api.Shelley</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">PlutusScriptOrReferenceInput</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ProtocolParameters</span></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>                   </span><span class="annot"><span class="hs-identifier">ShelleyLedgerEra</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">convertToLedgerProtocolParameters</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">protocolParamMaxTxExUnits</span></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>                   </span><span class="annot"><span class="hs-identifier">protocolParamPrices</span></span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.3/trace-dispatcher-2.5.2/doc/html/trace-dispatcher/src/Cardano.Logging.html"><span class="hs-identifier">Cardano.Logging</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.3/trace-dispatcher-2.5.2/doc/html/trace-dispatcher/src/Cardano.Logging.Types.html#LocalSocket"><span class="hs-identifier">LocalSocket</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/jfad4i4xrd9a86pd5gr4qq2jj7pzkqlh-cardano-ledger-core-lib-cardano-ledger-core-1.10.0.0-haddock-doc/share/doc/cardano-ledger-core/html/src/Cardano.Ledger.Core.html"><span class="hs-identifier">Cardano.Ledger.Core</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Ledger</span></span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.TxGenerator.Fund.html"><span class="hs-identifier">Cardano.TxGenerator.Fund</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Fund</span></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.FundQueue.html"><span class="hs-identifier">Cardano.TxGenerator.FundQueue</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">FundQueue</span></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.TxGenerator.Setup.Plutus.html"><span class="hs-identifier">Cardano.TxGenerator.Setup.Plutus</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Plutus</span></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.TxGenerator.Tx.html"><span class="hs-identifier">Cardano.TxGenerator.Tx</span></a></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.TxGenerator.Types.html"><span class="hs-identifier">Cardano.TxGenerator.Types</span></a></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Utils.html"><span class="hs-identifier">Cardano.TxGenerator.Utils</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><a href="file:///nix/store/gkkq1mvcnsl4d4s15sv4vk4ybyqw1h4l-scientific-lib-scientific-0.3.7.0-haddock-doc/share/doc/scientific/html/src/Utils.html"><span class="hs-identifier">Utils</span></a></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.TxGenerator.UTxO.html"><span class="hs-identifier">Cardano.TxGenerator.UTxO</span></a></span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Benchmarking.GeneratorTx.html"><span class="hs-identifier">Cardano.Benchmarking.GeneratorTx</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">GeneratorTx</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.GeneratorTx.html#AsyncBenchmarkControl"><span class="hs-identifier">AsyncBenchmarkControl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.GeneratorTx.html"><span class="hs-identifier">Cardano.Benchmarking.GeneratorTx</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">GeneratorTx</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.GeneratorTx.html#waitBenchmark"><span class="hs-identifier">waitBenchmark</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.GeneratorTx.html#walletBenchmark"><span class="hs-identifier">walletBenchmark</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Benchmarking.GeneratorTx.NodeToNode.html"><span class="hs-identifier">Cardano.Benchmarking.GeneratorTx.NodeToNode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.GeneratorTx.NodeToNode.html#ConnectClient"><span class="hs-identifier">ConnectClient</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>                   </span><span class="annot"><a href="Cardano.Benchmarking.GeneratorTx.NodeToNode.html#benchmarkConnectTxSubmit"><span class="hs-identifier">benchmarkConnectTxSubmit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Benchmarking.GeneratorTx.SizedMetadata.html"><span class="hs-identifier">Cardano.Benchmarking.GeneratorTx.SizedMetadata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.GeneratorTx.SizedMetadata.html#mkMetadata"><span class="hs-identifier">mkMetadata</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Genesis.html"><span class="hs-identifier">Cardano.TxGenerator.Genesis</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Genesis</span></span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.TxGenerator.PlutusContext.html"><span class="hs-identifier">Cardano.TxGenerator.PlutusContext</span></a></span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.TxGenerator.Setup.SigningKey.html"><span class="hs-identifier">Cardano.TxGenerator.Setup.SigningKey</span></a></span><span>
</span><span id="line-62"></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Benchmarking.OuroborosImports.html"><span class="hs-identifier">Cardano.Benchmarking.OuroborosImports</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Core</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.OuroborosImports.html#LocalSubmitTx"><span class="hs-identifier">LocalSubmitTx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.3/cardano-cli-8.20.0.0/doc/html/cardano-cli/src/Cardano.CLI.Types.Common.html#SigningKeyFile"><span class="hs-identifier">SigningKeyFile</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-64"></span><span>                   </span><span class="annot"><a href="Cardano.Benchmarking.OuroborosImports.html#makeLocalConnectInfo"><span class="hs-identifier">makeLocalConnectInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.OuroborosImports.html#protocolToCodecConfig"><span class="hs-identifier">protocolToCodecConfig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Benchmarking.LogTypes.html"><span class="hs-identifier">Cardano.Benchmarking.LogTypes</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Core</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.LogTypes.html#TraceBenchTxSubmit"><span class="hs-identifier">TraceBenchTxSubmit</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.LogTypes.html#btConnect_"><span class="hs-identifier">btConnect_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.LogTypes.html#btN2N_"><span class="hs-identifier">btN2N_</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-67"></span><span>                   </span><span class="annot"><a href="Cardano.Benchmarking.LogTypes.html#btSubmission2_"><span class="hs-identifier">btSubmission2_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.LogTypes.html#btTxSubmit_"><span class="hs-identifier">btTxSubmit_</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Benchmarking.Types.html"><span class="hs-identifier">Cardano.Benchmarking.Types</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Core</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Types.html#SubmissionErrorPolicy"><span class="hs-identifier">SubmissionErrorPolicy</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Benchmarking.Wallet.html"><span class="hs-identifier">Cardano.Benchmarking.Wallet</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Wallet</span></span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Benchmarking.Script.Aeson.html"><span class="hs-identifier">Cardano.Benchmarking.Script.Aeson</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Script.Aeson.html#prettyPrintOrdered"><span class="hs-identifier">prettyPrintOrdered</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Aeson.html#readProtocolParametersFile"><span class="hs-identifier">readProtocolParametersFile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html"><span class="hs-identifier">Cardano.Benchmarking.Script.Env</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#Error"><span class="hs-identifier">Error</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#TxGenError"><span class="hs-identifier">TxGenError</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html"><span class="hs-identifier">Cardano.Benchmarking.Script.Env</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Env</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#Error"><span class="hs-identifier">Error</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#TxGenError"><span class="hs-identifier">TxGenError</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html"><span class="hs-identifier">Cardano.Benchmarking.Script.Types</span></a></span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Benchmarking.Version.html"><span class="hs-identifier">Cardano.Benchmarking.Version</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Version</span></span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/bhs8casn1xfq9vh4hqnzywg9gkpr93cn-ouroboros-network-protocols-lib-ouroboros-network-protocols-0.7.0.0-haddock-doc/share/doc/ouroboros-network-protocols/html/src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html"><span class="hs-identifier">Ouroboros.Network.Protocol.LocalStateQuery.Type</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/bhs8casn1xfq9vh4hqnzywg9gkpr93cn-ouroboros-network-protocols-lib-ouroboros-network-protocols-0.7.0.0-haddock-doc/share/doc/ouroboros-network-protocols/html/src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#Target"><span class="hs-identifier">Target</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span id="local-6989586621679815309"><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#liftCoreWithEra"><span class="hs-identifier hs-type">liftCoreWithEra</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AnyCardanoEra</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679815306"><span class="annot"><a href="#local-6989586621679815306"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsShelleyBasedEra</span></span><span> </span><span class="annot"><a href="#local-6989586621679815306"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AsType</span></span><span> </span><span class="annot"><a href="#local-6989586621679815306"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Types.html#TxGenError"><span class="hs-identifier hs-type">TxGenError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679815309"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Types.html#TxGenError"><span class="hs-identifier hs-type">TxGenError</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679815309"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-79"></span><span id="liftCoreWithEra"><span class="annot"><span class="annottext">liftCoreWithEra :: forall x.
AnyCardanoEra
-&gt; (forall era.
    IsShelleyBasedEra era =&gt;
    AsType era -&gt; ExceptT TxGenError IO x)
-&gt; ActionM (Either TxGenError x)
</span><a href="Cardano.Benchmarking.Script.Core.html#liftCoreWithEra"><span class="hs-identifier hs-var hs-var">liftCoreWithEra</span></a></span></span><span> </span><span id="local-6989586621679815876"><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679815876"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span id="local-6989586621679815877"><span class="annot"><span class="annottext">forall era.
IsShelleyBasedEra era =&gt;
AsType era -&gt; ExceptT TxGenError IO x
</span><a href="#local-6989586621679815877"><span class="hs-identifier hs-var">coreCall</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
-&gt; (forall era.
    IsShelleyBasedEra era =&gt;
    AsType era -&gt; ActionM (Either TxGenError x))
-&gt; ActionM (Either TxGenError x)
forall x.
AnyCardanoEra
-&gt; (forall era. IsShelleyBasedEra era =&gt; AsType era -&gt; ActionM x)
-&gt; ActionM x
</span><a href="Cardano.Benchmarking.Script.Core.html#withEra"><span class="hs-identifier hs-var">withEra</span></a></span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679815876"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">IO (Either TxGenError x) -&gt; ActionM (Either TxGenError x)
forall a. IO a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either TxGenError x) -&gt; ActionM (Either TxGenError x))
-&gt; (AsType era -&gt; IO (Either TxGenError x))
-&gt; AsType era
-&gt; ActionM (Either TxGenError x)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ExceptT TxGenError IO x -&gt; IO (Either TxGenError x)
forall e (m :: * -&gt; *) a. ExceptT e m a -&gt; m (Either e a)
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#runExceptT"><span class="hs-identifier hs-var">runExceptT</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT TxGenError IO x -&gt; IO (Either TxGenError x))
-&gt; (AsType era -&gt; ExceptT TxGenError IO x)
-&gt; AsType era
-&gt; IO (Either TxGenError x)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AsType era -&gt; ExceptT TxGenError IO x
forall era.
IsShelleyBasedEra era =&gt;
AsType era -&gt; ExceptT TxGenError IO x
</span><a href="#local-6989586621679815877"><span class="hs-identifier hs-var">coreCall</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span id="local-6989586621679815313"><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#withEra"><span class="hs-identifier hs-type">withEra</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AnyCardanoEra</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679815312"><span class="annot"><a href="#local-6989586621679815312"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsShelleyBasedEra</span></span><span> </span><span class="annot"><a href="#local-6989586621679815312"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AsType</span></span><span> </span><span class="annot"><a href="#local-6989586621679815312"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679815313"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679815313"><span class="hs-identifier hs-type">x</span></a></span></span><span>
</span><span id="line-82"></span><span id="withEra"><span class="annot"><span class="annottext">withEra :: forall x.
AnyCardanoEra
-&gt; (forall era. IsShelleyBasedEra era =&gt; AsType era -&gt; ActionM x)
-&gt; ActionM x
</span><a href="Cardano.Benchmarking.Script.Core.html#withEra"><span class="hs-identifier hs-var hs-var">withEra</span></a></span></span><span> </span><span id="local-6989586621679815885"><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679815885"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span id="local-6989586621679815886"><span class="annot"><span class="annottext">forall era. IsShelleyBasedEra era =&gt; AsType era -&gt; ActionM x
</span><a href="#local-6989586621679815886"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-83"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679815885"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-84"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">AnyCardanoEra</span></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><span class="hs-identifier hs-var">ConwayEra</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AsType ConwayEra -&gt; ActionM x
forall era. IsShelleyBasedEra era =&gt; AsType era -&gt; ActionM x
</span><a href="#local-6989586621679815886"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="annot"><span class="annottext">AsType ConwayEra
</span><span class="hs-identifier hs-var">AsConwayEra</span></span><span>
</span><span id="line-85"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">AnyCardanoEra</span></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><span class="hs-identifier hs-var">BabbageEra</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AsType BabbageEra -&gt; ActionM x
forall era. IsShelleyBasedEra era =&gt; AsType era -&gt; ActionM x
</span><a href="#local-6989586621679815886"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="annot"><span class="annottext">AsType BabbageEra
</span><span class="hs-identifier hs-var">AsBabbageEra</span></span><span>
</span><span id="line-86"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">AnyCardanoEra</span></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><span class="hs-identifier hs-var">AlonzoEra</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AsType AlonzoEra -&gt; ActionM x
forall era. IsShelleyBasedEra era =&gt; AsType era -&gt; ActionM x
</span><a href="#local-6989586621679815886"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="annot"><span class="annottext">AsType AlonzoEra
</span><span class="hs-identifier hs-var">AsAlonzoEra</span></span><span>
</span><span id="line-87"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">AnyCardanoEra</span></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><span class="hs-identifier hs-var">MaryEra</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AsType MaryEra -&gt; ActionM x
forall era. IsShelleyBasedEra era =&gt; AsType era -&gt; ActionM x
</span><a href="#local-6989586621679815886"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="annot"><span class="annottext">AsType MaryEra
</span><span class="hs-identifier hs-var">AsMaryEra</span></span><span>
</span><span id="line-88"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">AnyCardanoEra</span></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><span class="hs-identifier hs-var">AllegraEra</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AsType AllegraEra -&gt; ActionM x
forall era. IsShelleyBasedEra era =&gt; AsType era -&gt; ActionM x
</span><a href="#local-6989586621679815886"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="annot"><span class="annottext">AsType AllegraEra
</span><span class="hs-identifier hs-var">AsAllegraEra</span></span><span>
</span><span id="line-89"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">AnyCardanoEra</span></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><span class="hs-identifier hs-var">ShelleyEra</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AsType ShelleyEra -&gt; ActionM x
forall era. IsShelleyBasedEra era =&gt; AsType era -&gt; ActionM x
</span><a href="#local-6989586621679815886"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="annot"><span class="annottext">AsType ShelleyEra
</span><span class="hs-identifier hs-var">AsShelleyEra</span></span><span>
</span><span id="line-90"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">AnyCardanoEra</span></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><span class="hs-identifier hs-var">ByronEra</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM x
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;byron not supported&quot;</span></span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#setProtocolParameters"><span class="hs-identifier hs-type">setProtocolParameters</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#ProtocolParametersSource"><span class="hs-identifier hs-type">ProtocolParametersSource</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span id="setProtocolParameters"><span class="annot"><span class="annottext">setProtocolParameters :: ProtocolParametersSource -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#setProtocolParameters"><span class="hs-identifier hs-var hs-var">setProtocolParameters</span></a></span></span><span> </span><span id="local-6989586621679815931"><span class="annot"><span class="annottext">ProtocolParametersSource
</span><a href="#local-6989586621679815931"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ProtocolParametersSource
</span><a href="#local-6989586621679815931"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-94"></span><span>  </span><span class="annot"><span class="annottext">ProtocolParametersSource
</span><a href="Cardano.Benchmarking.Script.Types.html#QueryLocalNode"><span class="hs-identifier hs-var">QueryLocalNode</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-95"></span><span>    </span><span class="annot"><span class="annottext">ProtocolParameterMode -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#setProtoParamMode"><span class="hs-identifier hs-var">setProtoParamMode</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParameterMode
</span><a href="Cardano.Benchmarking.Script.Types.html#ProtocolParameterQuery"><span class="hs-identifier hs-var">ProtocolParameterQuery</span></a></span><span>
</span><span id="line-96"></span><span>  </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#UseLocalProtocolFile"><span class="hs-identifier hs-type">UseLocalProtocolFile</span></a></span><span> </span><span id="local-6989586621679815936"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679815936"><span class="hs-identifier hs-var">file</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-97"></span><span>    </span><span id="local-6989586621679815937"><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679815937"><span class="hs-identifier hs-var">protocolParameters</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO ProtocolParameters
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
forall a. IO a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO ProtocolParameters
 -&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters)
-&gt; IO ProtocolParameters
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IO ProtocolParameters
</span><a href="Cardano.Benchmarking.Script.Aeson.html#readProtocolParametersFile"><span class="hs-identifier hs-var">readProtocolParametersFile</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679815936"><span class="hs-identifier hs-var">file</span></a></span><span>
</span><span id="line-98"></span><span>    </span><span class="annot"><span class="annottext">ProtocolParameterMode -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#setProtoParamMode"><span class="hs-identifier hs-var">setProtoParamMode</span></a></span><span> </span><span class="annot"><span class="annottext">(ProtocolParameterMode -&gt; ActionM ())
-&gt; ProtocolParameterMode -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParameters -&gt; ProtocolParameterMode
</span><a href="Cardano.Benchmarking.Script.Types.html#ProtocolParameterLocal"><span class="hs-identifier hs-var">ProtocolParameterLocal</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679815937"><span class="hs-identifier hs-var">protocolParameters</span></a></span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#readSigningKey"><span class="hs-identifier hs-type">readSigningKey</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.3/cardano-cli-8.20.0.0/doc/html/cardano-cli/src/Cardano.CLI.Types.Common.html#SigningKeyFile"><span class="hs-identifier hs-type">SigningKeyFile</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">In</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span id="readSigningKey"><span class="annot"><span class="annottext">readSigningKey :: [Char] -&gt; SigningKeyFile 'In -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#readSigningKey"><span class="hs-identifier hs-var hs-var">readSigningKey</span></a></span></span><span> </span><span id="local-6989586621679815940"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679815940"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679815941"><span class="annot"><span class="annottext">SigningKeyFile 'In
</span><a href="#local-6989586621679815941"><span class="hs-identifier hs-var">filePath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-102"></span><span>  </span><span class="annot"><span class="annottext">IO (Either TxGenError (SigningKey PaymentKey))
-&gt; ExceptT
     Error
     (RWST IOManager () Env IO)
     (Either TxGenError (SigningKey PaymentKey))
forall a. IO a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SigningKeyFile 'In
-&gt; IO (Either TxGenError (SigningKey PaymentKey))
</span><a href="Cardano.TxGenerator.Setup.SigningKey.html#readSigningKeyFile"><span class="hs-identifier hs-var">readSigningKeyFile</span></a></span><span> </span><span class="annot"><span class="annottext">SigningKeyFile 'In
</span><a href="#local-6989586621679815941"><span class="hs-identifier hs-var">filePath</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ExceptT
  Error
  (RWST IOManager () Env IO)
  (Either TxGenError (SigningKey PaymentKey))
-&gt; (Either TxGenError (SigningKey PaymentKey) -&gt; ActionM ())
-&gt; ActionM ()
forall a b.
ExceptT Error (RWST IOManager () Env IO) a
-&gt; (a -&gt; ExceptT Error (RWST IOManager () Env IO) b)
-&gt; ExceptT Error (RWST IOManager () Env IO) b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-103"></span><span>    </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679815943"><span class="annot"><span class="annottext">TxGenError
</span><a href="#local-6989586621679815943"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxGenError -&gt; ActionM ()
forall a. TxGenError -&gt; ActionM a
</span><a href="Cardano.Benchmarking.Script.Env.html#liftTxGenError"><span class="hs-identifier hs-var">liftTxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenError
</span><a href="#local-6989586621679815943"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-104"></span><span>    </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679815945"><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679815945"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; SigningKey PaymentKey -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#setEnvKeys"><span class="hs-identifier hs-var">setEnvKeys</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679815940"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679815945"><span class="hs-identifier hs-var">key</span></a></span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#defineSigningKey"><span class="hs-identifier hs-type">defineSigningKey</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SigningKey</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PaymentKey</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span id="defineSigningKey"><span class="annot"><span class="annottext">defineSigningKey :: [Char] -&gt; SigningKey PaymentKey -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#defineSigningKey"><span class="hs-identifier hs-var hs-var">defineSigningKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; SigningKey PaymentKey -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#setEnvKeys"><span class="hs-identifier hs-var">setEnvKeys</span></a></span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#addFund"><span class="hs-identifier hs-type">addFund</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AnyCardanoEra</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxIn</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Lovelace</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span id="addFund"><span class="annot"><span class="annottext">addFund :: AnyCardanoEra -&gt; [Char] -&gt; TxIn -&gt; Lovelace -&gt; [Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#addFund"><span class="hs-identifier hs-var hs-var">addFund</span></a></span></span><span> </span><span id="local-6989586621679815949"><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679815949"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span id="local-6989586621679815950"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679815950"><span class="hs-identifier hs-var">wallet</span></a></span></span><span> </span><span id="local-6989586621679815951"><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621679815951"><span class="hs-identifier hs-var">txIn</span></a></span></span><span> </span><span id="local-6989586621679815952"><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621679815952"><span class="hs-identifier hs-var">lovelace</span></a></span></span><span> </span><span id="local-6989586621679815953"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679815953"><span class="hs-identifier hs-var">keyName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-111"></span><span>  </span><span id="local-6989586621679815954"><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679815954"><span class="hs-identifier hs-var">fundKey</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM (SigningKey PaymentKey)
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvKeys"><span class="hs-identifier hs-var">getEnvKeys</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679815953"><span class="hs-identifier hs-var">keyName</span></a></span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-113"></span><span>    </span><span class="annot"><a href="#local-6989586621679815956"><span class="hs-identifier hs-type">mkOutValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679815358"><span class="annot"><a href="#local-6989586621679815358"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsShelleyBasedEra</span></span><span> </span><span class="annot"><a href="#local-6989586621679815358"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AsType</span></span><span> </span><span class="annot"><a href="#local-6989586621679815358"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">InAnyCardanoEra</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxOutValue</span></span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span>    </span><span id="local-6989586621679815956"><span class="annot"><span class="annottext">mkOutValue :: forall era.
IsShelleyBasedEra era =&gt;
AsType era -&gt; ActionM (InAnyCardanoEra TxOutValue)
</span><a href="#local-6989586621679815956"><span class="hs-identifier hs-var hs-var">mkOutValue</span></a></span></span><span> </span><span class="annot"><span class="annottext">AsType era
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InAnyCardanoEra TxOutValue -&gt; ActionM (InAnyCardanoEra TxOutValue)
forall a. a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(InAnyCardanoEra TxOutValue
 -&gt; ActionM (InAnyCardanoEra TxOutValue))
-&gt; InAnyCardanoEra TxOutValue
-&gt; ActionM (InAnyCardanoEra TxOutValue)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era -&gt; TxOutValue era -&gt; InAnyCardanoEra TxOutValue
forall era (thing :: * -&gt; *).
Typeable era =&gt;
CardanoEra era -&gt; thing era -&gt; InAnyCardanoEra thing
</span><span class="hs-identifier hs-var">InAnyCardanoEra</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsCardanoEra era =&gt; CardanoEra era
</span><span class="hs-identifier hs-var">cardanoEra</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679815358"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; Lovelace -&gt; TxOutValue era
forall era. ShelleyBasedEra era -&gt; Lovelace -&gt; TxOutValue era
</span><span class="hs-identifier hs-var">lovelaceToTxOutValue</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsShelleyBasedEra era =&gt; ShelleyBasedEra era
</span><span class="hs-identifier hs-var">shelleyBasedEra</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679815358"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621679815952"><span class="hs-identifier hs-var">lovelace</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span>  </span><span id="local-6989586621679815972"><span class="annot"><span class="annottext">InAnyCardanoEra TxOutValue
</span><a href="#local-6989586621679815972"><span class="hs-identifier hs-var">outValue</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
-&gt; (forall era.
    IsShelleyBasedEra era =&gt;
    AsType era -&gt; ActionM (InAnyCardanoEra TxOutValue))
-&gt; ActionM (InAnyCardanoEra TxOutValue)
forall x.
AnyCardanoEra
-&gt; (forall era. IsShelleyBasedEra era =&gt; AsType era -&gt; ActionM x)
-&gt; ActionM x
</span><a href="Cardano.Benchmarking.Script.Core.html#withEra"><span class="hs-identifier hs-var">withEra</span></a></span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679815949"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">AsType era -&gt; ActionM (InAnyCardanoEra TxOutValue)
forall era.
IsShelleyBasedEra era =&gt;
AsType era -&gt; ActionM (InAnyCardanoEra TxOutValue)
</span><a href="#local-6989586621679815956"><span class="hs-identifier hs-var">mkOutValue</span></a></span><span>
</span><span id="line-116"></span><span>  </span><span class="annot"><span class="annottext">[Char]
-&gt; TxIn
-&gt; InAnyCardanoEra TxOutValue
-&gt; SigningKey PaymentKey
-&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#addFundToWallet"><span class="hs-identifier hs-var">addFundToWallet</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679815950"><span class="hs-identifier hs-var">wallet</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621679815951"><span class="hs-identifier hs-var">txIn</span></a></span><span> </span><span class="annot"><span class="annottext">InAnyCardanoEra TxOutValue
</span><a href="#local-6989586621679815972"><span class="hs-identifier hs-var">outValue</span></a></span><span> </span><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679815954"><span class="hs-identifier hs-var">fundKey</span></a></span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#addFundToWallet"><span class="hs-identifier hs-type">addFundToWallet</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxIn</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">InAnyCardanoEra</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxOutValue</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SigningKey</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PaymentKey</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-119"></span><span id="addFundToWallet"><span class="annot"><span class="annottext">addFundToWallet :: [Char]
-&gt; TxIn
-&gt; InAnyCardanoEra TxOutValue
-&gt; SigningKey PaymentKey
-&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#addFundToWallet"><span class="hs-identifier hs-var hs-var">addFundToWallet</span></a></span></span><span> </span><span id="local-6989586621679815976"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679815976"><span class="hs-identifier hs-var">wallet</span></a></span></span><span> </span><span id="local-6989586621679815977"><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621679815977"><span class="hs-identifier hs-var">txIn</span></a></span></span><span> </span><span id="local-6989586621679815978"><span class="annot"><span class="annottext">InAnyCardanoEra TxOutValue
</span><a href="#local-6989586621679815978"><span class="hs-identifier hs-var">outVal</span></a></span></span><span> </span><span id="local-6989586621679815979"><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679815979"><span class="hs-identifier hs-var">skey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-120"></span><span>  </span><span id="local-6989586621679815980"><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679815980"><span class="hs-identifier hs-var">walletRef</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM WalletRef
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvWallets"><span class="hs-identifier hs-var">getEnvWallets</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679815976"><span class="hs-identifier hs-var">wallet</span></a></span><span>
</span><span id="line-121"></span><span>  </span><span class="annot"><span class="annottext">IO () -&gt; ActionM ()
forall a. IO a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WalletRef -&gt; Fund -&gt; IO ()
</span><a href="Cardano.Benchmarking.Wallet.html#walletRefInsertFund"><span class="hs-identifier hs-var">walletRefInsertFund</span></a></span><span> </span><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679815980"><span class="hs-identifier hs-var">walletRef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InAnyCardanoEra FundInEra -&gt; Fund
</span><a href="Cardano.TxGenerator.Fund.html#Fund"><span class="hs-identifier hs-var">FundQueue.Fund</span></a></span><span> </span><span class="annot"><span class="annottext">(InAnyCardanoEra FundInEra -&gt; Fund)
-&gt; InAnyCardanoEra FundInEra -&gt; Fund
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">InAnyCardanoEra TxOutValue -&gt; InAnyCardanoEra FundInEra
</span><a href="#local-6989586621679815984"><span class="hs-identifier hs-var">mkFund</span></a></span><span> </span><span class="annot"><span class="annottext">InAnyCardanoEra TxOutValue
</span><a href="#local-6989586621679815978"><span class="hs-identifier hs-var">outVal</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-122"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-123"></span><span>    </span><span id="local-6989586621679815984"><span class="annot"><span class="annottext">mkFund :: InAnyCardanoEra TxOutValue -&gt; InAnyCardanoEra FundInEra
</span><a href="#local-6989586621679815984"><span class="hs-identifier hs-var hs-var">mkFund</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall era. IsCardanoEra era =&gt; TxOutValue era -&gt; FundInEra era)
-&gt; InAnyCardanoEra TxOutValue -&gt; InAnyCardanoEra FundInEra
forall (f1 :: * -&gt; *) (f2 :: * -&gt; *).
(forall era. IsCardanoEra era =&gt; f1 era -&gt; f2 era)
-&gt; InAnyCardanoEra f1 -&gt; InAnyCardanoEra f2
</span><a href="Cardano.TxGenerator.Utils.html#liftAnyEra"><span class="hs-identifier hs-var">Utils.liftAnyEra</span></a></span><span> </span><span class="annot"><span class="annottext">((forall era. IsCardanoEra era =&gt; TxOutValue era -&gt; FundInEra era)
 -&gt; InAnyCardanoEra TxOutValue -&gt; InAnyCardanoEra FundInEra)
-&gt; (forall era.
    IsCardanoEra era =&gt;
    TxOutValue era -&gt; FundInEra era)
-&gt; InAnyCardanoEra TxOutValue
-&gt; InAnyCardanoEra FundInEra
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679815987"><span class="annot"><span class="annottext">TxOutValue era
</span><a href="#local-6989586621679815987"><span class="hs-identifier hs-var">value</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Fund.html#FundInEra"><span class="hs-identifier hs-type">FundInEra</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-124"></span><span>           </span><span class="annot"><span class="annottext">_fundTxIn :: TxIn
</span><a href="Cardano.TxGenerator.Fund.html#_fundTxIn"><span class="hs-identifier hs-var">_fundTxIn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621679815977"><span class="hs-identifier hs-var">txIn</span></a></span><span>
</span><span id="line-125"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_fundWitness :: Witness WitCtxTxIn era
</span><a href="Cardano.TxGenerator.Fund.html#_fundWitness"><span class="hs-identifier hs-var">_fundWitness</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KeyWitnessInCtx WitCtxTxIn -&gt; Witness WitCtxTxIn era
forall witctx era. KeyWitnessInCtx witctx -&gt; Witness witctx era
</span><span class="hs-identifier hs-var">KeyWitness</span></span><span> </span><span class="annot"><span class="annottext">KeyWitnessInCtx WitCtxTxIn
</span><span class="hs-identifier hs-var">KeyWitnessForSpending</span></span><span>
</span><span id="line-126"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_fundVal :: TxOutValue era
</span><a href="Cardano.TxGenerator.Fund.html#_fundVal"><span class="hs-identifier hs-var">_fundVal</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxOutValue era
</span><a href="#local-6989586621679815987"><span class="hs-identifier hs-var">value</span></a></span><span>
</span><span id="line-127"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_fundSigningKey :: Maybe (SigningKey PaymentKey)
</span><a href="Cardano.TxGenerator.Fund.html#_fundSigningKey"><span class="hs-identifier hs-var">_fundSigningKey</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SigningKey PaymentKey -&gt; Maybe (SigningKey PaymentKey)
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679815979"><span class="hs-identifier hs-var">skey</span></a></span><span>
</span><span id="line-128"></span><span>         </span><span class="hs-special">}</span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#getLocalSubmitTx"><span class="hs-identifier hs-type">getLocalSubmitTx</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.OuroborosImports.html#LocalSubmitTx"><span class="hs-identifier hs-type">LocalSubmitTx</span></a></span><span>
</span><span id="line-131"></span><span id="getLocalSubmitTx"><span class="annot"><span class="annottext">getLocalSubmitTx :: ActionM LocalSubmitTx
</span><a href="Cardano.Benchmarking.Script.Core.html#getLocalSubmitTx"><span class="hs-identifier hs-var hs-var">getLocalSubmitTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo -&gt; LocalSubmitTx
</span><span class="hs-identifier hs-var">submitTxToNodeLocal</span></span><span> </span><span class="annot"><span class="annottext">(LocalNodeConnectInfo -&gt; LocalSubmitTx)
-&gt; ExceptT Error (RWST IOManager () Env IO) LocalNodeConnectInfo
-&gt; ActionM LocalSubmitTx
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExceptT Error (RWST IOManager () Env IO) LocalNodeConnectInfo
</span><a href="Cardano.Benchmarking.Script.Core.html#getLocalConnectInfo"><span class="hs-identifier hs-var">getLocalConnectInfo</span></a></span><span>
</span><span id="line-132"></span><span>
</span><span id="line-133"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#delay"><span class="hs-identifier hs-type">delay</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span id="delay"><span class="annot"><span class="annottext">delay :: Double -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#delay"><span class="hs-identifier hs-var hs-var">delay</span></a></span></span><span> </span><span id="local-6989586621679816000"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679816000"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO () -&gt; ActionM ()
forall a. IO a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ActionM ()) -&gt; IO () -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; IO ()
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Conc.IO.html#threadDelay"><span class="hs-identifier hs-var">threadDelay</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; IO ()) -&gt; Int -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Int
forall b. Integral b =&gt; Double -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Real.html#floor"><span class="hs-identifier hs-var">floor</span></a></span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Int) -&gt; Double -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">1_000_000</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679816000"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#waitBenchmarkCore"><span class="hs-identifier hs-type">waitBenchmarkCore</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.GeneratorTx.html#AsyncBenchmarkControl"><span class="hs-identifier hs-type">AsyncBenchmarkControl</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>  </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-137"></span><span id="waitBenchmarkCore"><span class="annot"><span class="annottext">waitBenchmarkCore :: AsyncBenchmarkControl -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#waitBenchmarkCore"><span class="hs-identifier hs-var hs-var">waitBenchmarkCore</span></a></span></span><span> </span><span id="local-6989586621679816004"><span class="annot"><span class="annottext">AsyncBenchmarkControl
</span><a href="#local-6989586621679816004"><span class="hs-identifier hs-var">ctl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-138"></span><span>  </span><span id="local-6989586621679816005"><span class="annot"><span class="annottext">BenchTracers
</span><a href="#local-6989586621679816005"><span class="hs-identifier hs-var">tracers</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM BenchTracers
</span><a href="Cardano.Benchmarking.Script.Env.html#getBenchTracers"><span class="hs-identifier hs-var">getBenchTracers</span></a></span><span>
</span><span id="line-139"></span><span>  </span><span class="annot"><span class="annottext">Either TxGenError ()
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Either TxGenError ())
-&gt; ExceptT Error (RWST IOManager () Env IO) (Either TxGenError ())
forall a. IO a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either TxGenError ())
 -&gt; ExceptT Error (RWST IOManager () Env IO) (Either TxGenError ()))
-&gt; IO (Either TxGenError ())
-&gt; ExceptT Error (RWST IOManager () Env IO) (Either TxGenError ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ExceptT TxGenError IO () -&gt; IO (Either TxGenError ())
forall e (m :: * -&gt; *) a. ExceptT e m a -&gt; m (Either e a)
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#runExceptT"><span class="hs-identifier hs-var">runExceptT</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT TxGenError IO () -&gt; IO (Either TxGenError ()))
-&gt; ExceptT TxGenError IO () -&gt; IO (Either TxGenError ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO (TraceBenchTxSubmit TxId)
-&gt; AsyncBenchmarkControl -&gt; ExceptT TxGenError IO ()
</span><a href="Cardano.Benchmarking.GeneratorTx.html#waitBenchmark"><span class="hs-identifier hs-var">GeneratorTx.waitBenchmark</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BenchTracers -&gt; Trace IO (TraceBenchTxSubmit TxId)
</span><a href="Cardano.Benchmarking.LogTypes.html#btTxSubmit_"><span class="hs-identifier hs-var">btTxSubmit_</span></a></span><span> </span><span class="annot"><span class="annottext">BenchTracers
</span><a href="#local-6989586621679816005"><span class="hs-identifier hs-var">tracers</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AsyncBenchmarkControl
</span><a href="#local-6989586621679816004"><span class="hs-identifier hs-var">ctl</span></a></span><span>
</span><span id="line-140"></span><span>  </span><span class="annot"><span class="annottext">() -&gt; ActionM ()
forall a. a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-141"></span><span>
</span><span id="line-142"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#getConnectClient"><span class="hs-identifier hs-type">getConnectClient</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.GeneratorTx.NodeToNode.html#ConnectClient"><span class="hs-identifier hs-type">ConnectClient</span></a></span><span>
</span><span id="line-143"></span><span id="getConnectClient"><span class="annot"><span class="annottext">getConnectClient :: ActionM ConnectClient
</span><a href="Cardano.Benchmarking.Script.Core.html#getConnectClient"><span class="hs-identifier hs-var hs-var">getConnectClient</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-144"></span><span>  </span><span id="local-6989586621679816008"><span class="annot"><span class="annottext">BenchTracers
</span><a href="#local-6989586621679816008"><span class="hs-identifier hs-var">tracers</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM BenchTracers
</span><a href="Cardano.Benchmarking.Script.Env.html#getBenchTracers"><span class="hs-identifier hs-var">getBenchTracers</span></a></span><span>
</span><span id="line-145"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Testnet</span></span><span> </span><span id="local-6989586621679816010"><span class="annot"><span class="annottext">NetworkMagic
</span><a href="#local-6989586621679816010"><span class="hs-identifier hs-var">networkMagic</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM NetworkId
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvNetworkId"><span class="hs-identifier hs-var">getEnvNetworkId</span></a></span><span>
</span><span id="line-146"></span><span>  </span><span id="local-6989586621679816012"><span class="annot"><span class="annottext">SomeConsensusProtocol
</span><a href="#local-6989586621679816012"><span class="hs-identifier hs-var">protocol</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM SomeConsensusProtocol
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvProtocol"><span class="hs-identifier hs-var">getEnvProtocol</span></a></span><span>
</span><span id="line-147"></span><span>  </span><span class="annot"><span class="annottext">ExceptT
  Error (RWST IOManager () Env IO) (Trace IO SendRecvTxSubmission2)
-&gt; ActionM ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#void"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT
   Error (RWST IOManager () Env IO) (Trace IO SendRecvTxSubmission2)
 -&gt; ActionM ())
-&gt; ExceptT
     Error (RWST IOManager () Env IO) (Trace IO SendRecvTxSubmission2)
-&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO SendRecvTxSubmission2
-&gt; ExceptT
     Error (RWST IOManager () Env IO) (Trace IO SendRecvTxSubmission2)
forall a. a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Trace IO SendRecvTxSubmission2
 -&gt; ExceptT
      Error (RWST IOManager () Env IO) (Trace IO SendRecvTxSubmission2))
-&gt; Trace IO SendRecvTxSubmission2
-&gt; ExceptT
     Error (RWST IOManager () Env IO) (Trace IO SendRecvTxSubmission2)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">BenchTracers -&gt; Trace IO SendRecvTxSubmission2
</span><a href="Cardano.Benchmarking.LogTypes.html#btSubmission2_"><span class="hs-identifier hs-var">btSubmission2_</span></a></span><span> </span><span class="annot"><span class="annottext">BenchTracers
</span><a href="#local-6989586621679816008"><span class="hs-identifier hs-var">tracers</span></a></span><span>
</span><span id="line-148"></span><span>  </span><span id="local-6989586621679816015"><span class="annot"><span class="annottext">IOManager
</span><a href="#local-6989586621679816015"><span class="hs-identifier hs-var">ioManager</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM IOManager
</span><a href="Cardano.Benchmarking.Script.Env.html#askIOManager"><span class="hs-identifier hs-var">askIOManager</span></a></span><span>
</span><span id="line-149"></span><span>  </span><span class="annot"><span class="annottext">ConnectClient -&gt; ActionM ConnectClient
forall a. a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(ConnectClient -&gt; ActionM ConnectClient)
-&gt; ConnectClient -&gt; ActionM ConnectClient
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IOManager
-&gt; Tracer IO SendRecvConnect
-&gt; Tracer IO SendRecvTxSubmission2
-&gt; CodecConfig CardanoBlock
-&gt; NetworkMagic
-&gt; ConnectClient
forall blk.
(blk ~ CardanoBlock, RunNode blk) =&gt;
IOManager
-&gt; Tracer IO SendRecvConnect
-&gt; Tracer IO SendRecvTxSubmission2
-&gt; CodecConfig CardanoBlock
-&gt; NetworkMagic
-&gt; AddrInfo
-&gt; TxSubmissionClient (GenTxId blk) (GenTx blk) IO ()
-&gt; IO ()
</span><a href="Cardano.Benchmarking.GeneratorTx.NodeToNode.html#benchmarkConnectTxSubmit"><span class="hs-identifier hs-var">benchmarkConnectTxSubmit</span></a></span><span>
</span><span id="line-150"></span><span>                       </span><span class="annot"><span class="annottext">IOManager
</span><a href="#local-6989586621679816015"><span class="hs-identifier hs-var">ioManager</span></a></span><span>
</span><span id="line-151"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SendRecvConnect -&gt; IO ()) -&gt; Tracer IO SendRecvConnect
forall (m :: * -&gt; *) a. (a -&gt; m ()) -&gt; Tracer m a
</span><a href="file:///nix/store/dkmky2ci646kg44ca5yvqjsbpllsmy3f-contra-tracer-lib-contra-tracer-0.1.0.2-haddock-doc/share/doc/contra-tracer/html/src/Control.Tracer.html#Tracer"><span class="hs-identifier hs-var">Tracer</span></a></span><span> </span><span class="annot"><span class="annottext">((SendRecvConnect -&gt; IO ()) -&gt; Tracer IO SendRecvConnect)
-&gt; (SendRecvConnect -&gt; IO ()) -&gt; Tracer IO SendRecvConnect
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO SendRecvConnect -&gt; SendRecvConnect -&gt; IO ()
forall (m :: * -&gt; *) a. Monad m =&gt; Trace m a -&gt; a -&gt; m ()
</span><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.3/trace-dispatcher-2.5.2/doc/html/trace-dispatcher/src/Cardano.Logging.Trace.html#traceWith"><span class="hs-identifier hs-var">traceWith</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BenchTracers -&gt; Trace IO SendRecvConnect
</span><a href="Cardano.Benchmarking.LogTypes.html#btConnect_"><span class="hs-identifier hs-var">btConnect_</span></a></span><span> </span><span class="annot"><span class="annottext">BenchTracers
</span><a href="#local-6989586621679816008"><span class="hs-identifier hs-var">tracers</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-152"></span><span>                       </span><span class="annot"><span class="annottext">Tracer IO SendRecvTxSubmission2
forall a. Monoid a =&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="hs-comment">-- (btSubmission2_ tracers)</span><span>
</span><span id="line-153"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SomeConsensusProtocol -&gt; CodecConfig CardanoBlock
</span><a href="Cardano.Benchmarking.OuroborosImports.html#protocolToCodecConfig"><span class="hs-identifier hs-var">protocolToCodecConfig</span></a></span><span> </span><span class="annot"><span class="annottext">SomeConsensusProtocol
</span><a href="#local-6989586621679816012"><span class="hs-identifier hs-var">protocol</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-154"></span><span>                       </span><span class="annot"><span class="annottext">NetworkMagic
</span><a href="#local-6989586621679816010"><span class="hs-identifier hs-var">networkMagic</span></a></span><span>
</span><span id="line-155"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#waitBenchmark"><span class="hs-identifier hs-type">waitBenchmark</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-156"></span><span id="waitBenchmark"><span class="annot"><span class="annottext">waitBenchmark :: [Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#waitBenchmark"><span class="hs-identifier hs-var hs-var">waitBenchmark</span></a></span></span><span> </span><span id="local-6989586621679816020"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816020"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM AsyncBenchmarkControl
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvThreads"><span class="hs-identifier hs-var">getEnvThreads</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816020"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">ActionM AsyncBenchmarkControl
-&gt; (AsyncBenchmarkControl -&gt; ActionM ()) -&gt; ActionM ()
forall a b.
ExceptT Error (RWST IOManager () Env IO) a
-&gt; (a -&gt; ExceptT Error (RWST IOManager () Env IO) b)
-&gt; ExceptT Error (RWST IOManager () Env IO) b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">AsyncBenchmarkControl -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#waitBenchmarkCore"><span class="hs-identifier hs-var">waitBenchmarkCore</span></a></span><span>
</span><span id="line-157"></span><span>
</span><span id="line-158"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#cancelBenchmark"><span class="hs-identifier hs-type">cancelBenchmark</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-159"></span><span id="cancelBenchmark"><span class="annot"><span class="annottext">cancelBenchmark :: [Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#cancelBenchmark"><span class="hs-identifier hs-var hs-var">cancelBenchmark</span></a></span></span><span> </span><span id="local-6989586621679816023"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816023"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-160"></span><span>  </span><span id="local-6989586621679816024"><span class="annot"><span class="annottext">ctl :: AsyncBenchmarkControl
</span><a href="#local-6989586621679816024"><span class="hs-identifier hs-var">ctl</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Async ()
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Async ()]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IO SubmissionSummary
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679816025"><span class="annot"><span class="annottext">IO ()
</span><a href="#local-6989586621679816025"><span class="hs-identifier hs-var">shutdownAction</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM AsyncBenchmarkControl
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvThreads"><span class="hs-identifier hs-var">getEnvThreads</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816023"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-161"></span><span>  </span><span class="annot"><span class="annottext">IO () -&gt; ActionM ()
forall a. IO a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">IO ()
</span><a href="#local-6989586621679816025"><span class="hs-identifier hs-var">shutdownAction</span></a></span><span>
</span><span id="line-162"></span><span>  </span><span class="annot"><span class="annottext">AsyncBenchmarkControl -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#waitBenchmarkCore"><span class="hs-identifier hs-var">waitBenchmarkCore</span></a></span><span> </span><span class="annot"><span class="annottext">AsyncBenchmarkControl
</span><a href="#local-6989586621679816024"><span class="hs-identifier hs-var">ctl</span></a></span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#getLocalConnectInfo"><span class="hs-identifier hs-type">getLocalConnectInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LocalNodeConnectInfo</span></span><span>
</span><span id="line-165"></span><span id="getLocalConnectInfo"><span class="annot"><span class="annottext">getLocalConnectInfo :: ExceptT Error (RWST IOManager () Env IO) LocalNodeConnectInfo
</span><a href="Cardano.Benchmarking.Script.Core.html#getLocalConnectInfo"><span class="hs-identifier hs-var hs-var">getLocalConnectInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NetworkId -&gt; SocketPath -&gt; LocalNodeConnectInfo
</span><a href="Cardano.Benchmarking.OuroborosImports.html#makeLocalConnectInfo"><span class="hs-identifier hs-var">makeLocalConnectInfo</span></a></span><span> </span><span class="annot"><span class="annottext">(NetworkId -&gt; SocketPath -&gt; LocalNodeConnectInfo)
-&gt; ActionM NetworkId
-&gt; ExceptT
     Error
     (RWST IOManager () Env IO)
     (SocketPath -&gt; LocalNodeConnectInfo)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ActionM NetworkId
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvNetworkId"><span class="hs-identifier hs-var">getEnvNetworkId</span></a></span><span> </span><span class="annot"><span class="annottext">ExceptT
  Error
  (RWST IOManager () Env IO)
  (SocketPath -&gt; LocalNodeConnectInfo)
-&gt; ExceptT Error (RWST IOManager () Env IO) SocketPath
-&gt; ExceptT Error (RWST IOManager () Env IO) LocalNodeConnectInfo
forall a b.
ExceptT Error (RWST IOManager () Env IO) (a -&gt; b)
-&gt; ExceptT Error (RWST IOManager () Env IO) a
-&gt; ExceptT Error (RWST IOManager () Env IO) b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExceptT Error (RWST IOManager () Env IO) SocketPath
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvSocketPath"><span class="hs-identifier hs-var">getEnvSocketPath</span></a></span><span>
</span><span id="line-166"></span><span>
</span><span id="line-167"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#queryEra"><span class="hs-identifier hs-type">queryEra</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">AnyCardanoEra</span></span><span>
</span><span id="line-168"></span><span id="queryEra"><span class="annot"><span class="annottext">queryEra :: ActionM AnyCardanoEra
</span><a href="Cardano.Benchmarking.Script.Core.html#queryEra"><span class="hs-identifier hs-var hs-var">queryEra</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-169"></span><span>  </span><span id="local-6989586621679816028"><span class="annot"><span class="annottext">LocalNodeConnectInfo
</span><a href="#local-6989586621679816028"><span class="hs-identifier hs-var">localNodeConnectInfo</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExceptT Error (RWST IOManager () Env IO) LocalNodeConnectInfo
</span><a href="Cardano.Benchmarking.Script.Core.html#getLocalConnectInfo"><span class="hs-identifier hs-var">getLocalConnectInfo</span></a></span><span>
</span><span id="line-170"></span><span>  </span><span id="local-6989586621679816029"><span class="annot"><span class="annottext">ChainTip
</span><a href="#local-6989586621679816029"><span class="hs-identifier hs-var">chainTip</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO ChainTip -&gt; ExceptT Error (RWST IOManager () Env IO) ChainTip
forall a. IO a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO ChainTip -&gt; ExceptT Error (RWST IOManager () Env IO) ChainTip)
-&gt; IO ChainTip -&gt; ExceptT Error (RWST IOManager () Env IO) ChainTip
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo -&gt; IO ChainTip
</span><span class="hs-identifier hs-var">getLocalChainTip</span></span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo
</span><a href="#local-6989586621679816028"><span class="hs-identifier hs-var">localNodeConnectInfo</span></a></span><span>
</span><span id="line-171"></span><span>  </span><span id="local-6989586621679816031"><span class="annot"><span class="annottext">Either AcquiringFailure AnyCardanoEra
</span><a href="#local-6989586621679816031"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Either AcquiringFailure AnyCardanoEra)
-&gt; ExceptT
     Error
     (RWST IOManager () Env IO)
     (Either AcquiringFailure AnyCardanoEra)
forall a. IO a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either AcquiringFailure AnyCardanoEra)
 -&gt; ExceptT
      Error
      (RWST IOManager () Env IO)
      (Either AcquiringFailure AnyCardanoEra))
-&gt; IO (Either AcquiringFailure AnyCardanoEra)
-&gt; ExceptT
     Error
     (RWST IOManager () Env IO)
     (Either AcquiringFailure AnyCardanoEra)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo
-&gt; Target ChainPoint
-&gt; QueryInMode AnyCardanoEra
-&gt; IO (Either AcquiringFailure AnyCardanoEra)
forall result.
LocalNodeConnectInfo
-&gt; Target ChainPoint
-&gt; QueryInMode result
-&gt; IO (Either AcquiringFailure result)
</span><span class="hs-identifier hs-var">queryNodeLocalState</span></span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo
</span><a href="#local-6989586621679816028"><span class="hs-identifier hs-var">localNodeConnectInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ChainPoint -&gt; Target ChainPoint
forall point. point -&gt; Target point
</span><a href="file:///nix/store/bhs8casn1xfq9vh4hqnzywg9gkpr93cn-ouroboros-network-protocols-lib-ouroboros-network-protocols-0.7.0.0-haddock-doc/share/doc/ouroboros-network-protocols/html/src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#SpecificPoint"><span class="hs-identifier hs-var">SpecificPoint</span></a></span><span> </span><span class="annot"><span class="annottext">(ChainPoint -&gt; Target ChainPoint)
-&gt; ChainPoint -&gt; Target ChainPoint
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ChainTip -&gt; ChainPoint
</span><span class="hs-identifier hs-var">chainTipToChainPoint</span></span><span> </span><span class="annot"><span class="annottext">ChainTip
</span><a href="#local-6989586621679816029"><span class="hs-identifier hs-var">chainTip</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">QueryInMode AnyCardanoEra
</span><span class="hs-identifier hs-var">QueryCurrentEra</span></span><span>
</span><span id="line-172"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either AcquiringFailure AnyCardanoEra
</span><a href="#local-6989586621679816031"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-173"></span><span>    </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679816036"><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679816036"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra -&gt; ActionM AnyCardanoEra
forall a. a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679816036"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-174"></span><span>    </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679816037"><span class="annot"><span class="annottext">AcquiringFailure
</span><a href="#local-6989586621679816037"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxGenError -&gt; ActionM AnyCardanoEra
forall a. TxGenError -&gt; ActionM a
</span><a href="Cardano.Benchmarking.Script.Env.html#liftTxGenError"><span class="hs-identifier hs-var">liftTxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">(TxGenError -&gt; ActionM AnyCardanoEra)
-&gt; TxGenError -&gt; ActionM AnyCardanoEra
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; TxGenError
</span><a href="Cardano.TxGenerator.Types.html#TxGenError"><span class="hs-identifier hs-var">TxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; TxGenError) -&gt; [Char] -&gt; TxGenError
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">AcquiringFailure -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">AcquiringFailure
</span><a href="#local-6989586621679816037"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#queryRemoteProtocolParameters"><span class="hs-identifier hs-type">queryRemoteProtocolParameters</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ProtocolParameters</span></span><span>
</span><span id="line-177"></span><span id="queryRemoteProtocolParameters"><span class="annot"><span class="annottext">queryRemoteProtocolParameters :: ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
</span><a href="Cardano.Benchmarking.Script.Core.html#queryRemoteProtocolParameters"><span class="hs-identifier hs-var hs-var">queryRemoteProtocolParameters</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-178"></span><span>  </span><span id="local-6989586621679816041"><span class="annot"><span class="annottext">LocalNodeConnectInfo
</span><a href="#local-6989586621679816041"><span class="hs-identifier hs-var">localNodeConnectInfo</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExceptT Error (RWST IOManager () Env IO) LocalNodeConnectInfo
</span><a href="Cardano.Benchmarking.Script.Core.html#getLocalConnectInfo"><span class="hs-identifier hs-var">getLocalConnectInfo</span></a></span><span>
</span><span id="line-179"></span><span>  </span><span id="local-6989586621679816042"><span class="annot"><span class="annottext">ChainTip
</span><a href="#local-6989586621679816042"><span class="hs-identifier hs-var">chainTip</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO ChainTip -&gt; ExceptT Error (RWST IOManager () Env IO) ChainTip
forall a. IO a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO ChainTip -&gt; ExceptT Error (RWST IOManager () Env IO) ChainTip)
-&gt; IO ChainTip -&gt; ExceptT Error (RWST IOManager () Env IO) ChainTip
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo -&gt; IO ChainTip
</span><span class="hs-identifier hs-var">getLocalChainTip</span></span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo
</span><a href="#local-6989586621679816041"><span class="hs-identifier hs-var">localNodeConnectInfo</span></a></span><span>
</span><span id="line-180"></span><span>  </span><span id="local-6989586621679816043"><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679816043"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM AnyCardanoEra
</span><a href="Cardano.Benchmarking.Script.Core.html#queryEra"><span class="hs-identifier hs-var">queryEra</span></a></span><span>
</span><span id="line-181"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-182"></span><span>    </span><span class="annot"><a href="#local-6989586621679816044"><span class="hs-identifier hs-type">callQuery</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679815429"><span class="annot"><a href="#local-6989586621679815429"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-183"></span><span>                 </span><span class="annot"><span class="hs-identifier hs-type">QueryInEra</span></span><span> </span><span class="annot"><a href="#local-6989586621679815429"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/jfad4i4xrd9a86pd5gr4qq2jj7pzkqlh-cardano-ledger-core-lib-cardano-ledger-core-1.10.0.0-haddock-doc/share/doc/cardano-ledger-core/html/src/Cardano.Ledger.Core.PParams.html#PParams"><span class="hs-identifier hs-type">Ledger.PParams</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ShelleyLedgerEra</span></span><span> </span><span class="annot"><a href="#local-6989586621679815429"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ProtocolParameters</span></span><span>
</span><span id="line-185"></span><span>    </span><span id="local-6989586621679816044"><span class="annot"><span class="annottext">callQuery :: forall era.
QueryInEra era (PParams (ShelleyLedgerEra era))
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
</span><a href="#local-6989586621679816044"><span class="hs-identifier hs-var hs-var">callQuery</span></a></span></span><span> </span><span id="local-6989586621679816057"><span class="annot"><span class="annottext">query :: QueryInEra era (PParams (ShelleyLedgerEra era))
</span><a href="#local-6989586621679816057"><span class="hs-identifier hs-var">query</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">QueryInShelleyBasedEra</span></span><span> </span><span id="local-6989586621679816059"><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621679816059"><span class="hs-identifier hs-var">shelleyEra</span></a></span></span><span> </span><span class="annot"><span class="annottext">QueryInShelleyBasedEra era (PParams (ShelleyLedgerEra era))
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-186"></span><span>        </span><span id="local-6989586621679816060"><span class="annot"><span class="annottext">Either
  AcquiringFailure
  (Either EraMismatch (PParams (ShelleyLedgerEra era)))
</span><a href="#local-6989586621679816060"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO
  (Either
     AcquiringFailure
     (Either EraMismatch (PParams (ShelleyLedgerEra era))))
-&gt; ExceptT
     Error
     (RWST IOManager () Env IO)
     (Either
        AcquiringFailure
        (Either EraMismatch (PParams (ShelleyLedgerEra era))))
forall a. IO a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO
   (Either
      AcquiringFailure
      (Either EraMismatch (PParams (ShelleyLedgerEra era))))
 -&gt; ExceptT
      Error
      (RWST IOManager () Env IO)
      (Either
         AcquiringFailure
         (Either EraMismatch (PParams (ShelleyLedgerEra era)))))
-&gt; IO
     (Either
        AcquiringFailure
        (Either EraMismatch (PParams (ShelleyLedgerEra era))))
-&gt; ExceptT
     Error
     (RWST IOManager () Env IO)
     (Either
        AcquiringFailure
        (Either EraMismatch (PParams (ShelleyLedgerEra era))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo
-&gt; Target ChainPoint
-&gt; QueryInMode
     (Either EraMismatch (PParams (ShelleyLedgerEra era)))
-&gt; IO
     (Either
        AcquiringFailure
        (Either EraMismatch (PParams (ShelleyLedgerEra era))))
forall result.
LocalNodeConnectInfo
-&gt; Target ChainPoint
-&gt; QueryInMode result
-&gt; IO (Either AcquiringFailure result)
</span><span class="hs-identifier hs-var">queryNodeLocalState</span></span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo
</span><a href="#local-6989586621679816041"><span class="hs-identifier hs-var">localNodeConnectInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ChainPoint -&gt; Target ChainPoint
forall point. point -&gt; Target point
</span><a href="file:///nix/store/bhs8casn1xfq9vh4hqnzywg9gkpr93cn-ouroboros-network-protocols-lib-ouroboros-network-protocols-0.7.0.0-haddock-doc/share/doc/ouroboros-network-protocols/html/src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#SpecificPoint"><span class="hs-identifier hs-var">SpecificPoint</span></a></span><span> </span><span class="annot"><span class="annottext">(ChainPoint -&gt; Target ChainPoint)
-&gt; ChainPoint -&gt; Target ChainPoint
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ChainTip -&gt; ChainPoint
</span><span class="hs-identifier hs-var">chainTipToChainPoint</span></span><span> </span><span class="annot"><span class="annottext">ChainTip
</span><a href="#local-6989586621679816042"><span class="hs-identifier hs-var">chainTip</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QueryInEra era (PParams (ShelleyLedgerEra era))
-&gt; QueryInMode
     (Either EraMismatch (PParams (ShelleyLedgerEra era)))
forall era result1.
QueryInEra era result1 -&gt; QueryInMode (Either EraMismatch result1)
</span><span class="hs-identifier hs-var">QueryInEra</span></span><span> </span><span class="annot"><span class="annottext">QueryInEra era (PParams (ShelleyLedgerEra era))
</span><a href="#local-6989586621679816057"><span class="hs-identifier hs-var">query</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-187"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either
  AcquiringFailure
  (Either EraMismatch (PParams (ShelleyLedgerEra era)))
</span><a href="#local-6989586621679816060"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-188"></span><span>          </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679816062"><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
</span><a href="#local-6989586621679816062"><span class="hs-identifier hs-var">pp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-189"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679816063"><span class="annot"><span class="annottext">pp' :: ProtocolParameters
</span><a href="#local-6989586621679816063"><span class="hs-identifier hs-var hs-var">pp'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; PParams (ShelleyLedgerEra era) -&gt; ProtocolParameters
forall era.
ShelleyBasedEra era
-&gt; PParams (ShelleyLedgerEra era) -&gt; ProtocolParameters
</span><span class="hs-identifier hs-var">fromLedgerPParams</span></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621679816059"><span class="hs-identifier hs-var">shelleyEra</span></a></span><span> </span><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
</span><a href="#local-6989586621679816062"><span class="hs-identifier hs-var">pp</span></a></span><span>
</span><span id="line-190"></span><span>                </span><span id="local-6989586621679816066"><span class="annot"><span class="annottext">pparamsFile :: [Char]
</span><a href="#local-6989586621679816066"><span class="hs-identifier hs-var hs-var">pparamsFile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;protocol-parameters-queried.json&quot;</span></span><span>
</span><span id="line-191"></span><span>            </span><span class="annot"><span class="annottext">IO () -&gt; ActionM ()
forall a. IO a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ActionM ()) -&gt; IO () -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ByteString -&gt; IO ()
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/src/Data.ByteString.Lazy.html#writeFile"><span class="hs-identifier hs-var">BSL.writeFile</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816066"><span class="hs-identifier hs-var">pparamsFile</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ()) -&gt; ByteString -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParameters -&gt; ByteString
forall a. ToJSON a =&gt; a -&gt; ByteString
</span><a href="Cardano.Benchmarking.Script.Aeson.html#prettyPrintOrdered"><span class="hs-identifier hs-var">prettyPrintOrdered</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679816063"><span class="hs-identifier hs-var">pp'</span></a></span><span>
</span><span id="line-192"></span><span>            </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceDebug"><span class="hs-identifier hs-var">traceDebug</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ActionM ()) -&gt; [Char] -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;queryRemoteProtocolParameters : query result saved in: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816066"><span class="hs-identifier hs-var">pparamsFile</span></a></span><span>
</span><span id="line-193"></span><span>            </span><span class="annot"><span class="annottext">ProtocolParameters
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
forall a. a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679816063"><span class="hs-identifier hs-var">pp'</span></a></span><span>
</span><span id="line-194"></span><span>          </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679816068"><span class="annot"><span class="annottext">EraMismatch
</span><a href="#local-6989586621679816068"><span class="hs-identifier hs-var">err</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxGenError
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
forall a. TxGenError -&gt; ActionM a
</span><a href="Cardano.Benchmarking.Script.Env.html#liftTxGenError"><span class="hs-identifier hs-var">liftTxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">(TxGenError
 -&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters)
-&gt; TxGenError
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; TxGenError
</span><a href="Cardano.TxGenerator.Types.html#TxGenError"><span class="hs-identifier hs-var">TxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; TxGenError) -&gt; [Char] -&gt; TxGenError
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">EraMismatch -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">EraMismatch
</span><a href="#local-6989586621679816068"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-195"></span><span>          </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679816069"><span class="annot"><span class="annottext">AcquiringFailure
</span><a href="#local-6989586621679816069"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxGenError
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
forall a. TxGenError -&gt; ActionM a
</span><a href="Cardano.Benchmarking.Script.Env.html#liftTxGenError"><span class="hs-identifier hs-var">liftTxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">(TxGenError
 -&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters)
-&gt; TxGenError
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; TxGenError
</span><a href="Cardano.TxGenerator.Types.html#TxGenError"><span class="hs-identifier hs-var">TxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; TxGenError) -&gt; [Char] -&gt; TxGenError
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">AcquiringFailure -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">AcquiringFailure
</span><a href="#local-6989586621679816069"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-196"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679816043"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-197"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">AnyCardanoEra</span></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><span class="hs-identifier hs-var">ByronEra</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxGenError
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
forall a. TxGenError -&gt; ActionM a
</span><a href="Cardano.Benchmarking.Script.Env.html#liftTxGenError"><span class="hs-identifier hs-var">liftTxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">(TxGenError
 -&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters)
-&gt; TxGenError
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; TxGenError
</span><a href="Cardano.TxGenerator.Types.html#TxGenError"><span class="hs-identifier hs-var">TxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;queryRemoteProtocolParameters Byron not supported&quot;</span></span><span>
</span><span id="line-198"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">AnyCardanoEra</span></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><span class="hs-identifier hs-var">ShelleyEra</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">QueryInEra ShelleyEra (PParams (ShelleyLedgerEra ShelleyEra))
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
forall era.
QueryInEra era (PParams (ShelleyLedgerEra era))
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
</span><a href="#local-6989586621679816044"><span class="hs-identifier hs-var">callQuery</span></a></span><span> </span><span class="annot"><span class="annottext">(QueryInEra ShelleyEra (PParams (ShelleyLedgerEra ShelleyEra))
 -&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters)
-&gt; QueryInEra ShelleyEra (PParams (ShelleyLedgerEra ShelleyEra))
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra ShelleyEra
-&gt; QueryInShelleyBasedEra
     ShelleyEra (PParams (ShelleyEra StandardCrypto))
-&gt; QueryInEra ShelleyEra (PParams (ShelleyEra StandardCrypto))
forall era result.
ShelleyBasedEra era
-&gt; QueryInShelleyBasedEra era result -&gt; QueryInEra era result
</span><span class="hs-identifier hs-var">QueryInShelleyBasedEra</span></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra ShelleyEra
</span><span class="hs-identifier hs-var">ShelleyBasedEraShelley</span></span><span> </span><span class="annot"><span class="annottext">QueryInShelleyBasedEra
  ShelleyEra (PParams (ShelleyLedgerEra ShelleyEra))
QueryInShelleyBasedEra
  ShelleyEra (PParams (ShelleyEra StandardCrypto))
forall era.
QueryInShelleyBasedEra era (PParams (ShelleyLedgerEra era))
</span><span class="hs-identifier hs-var">QueryProtocolParameters</span></span><span>
</span><span id="line-199"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">AnyCardanoEra</span></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><span class="hs-identifier hs-var">AllegraEra</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">QueryInEra AllegraEra (PParams (ShelleyLedgerEra AllegraEra))
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
forall era.
QueryInEra era (PParams (ShelleyLedgerEra era))
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
</span><a href="#local-6989586621679816044"><span class="hs-identifier hs-var">callQuery</span></a></span><span> </span><span class="annot"><span class="annottext">(QueryInEra AllegraEra (PParams (ShelleyLedgerEra AllegraEra))
 -&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters)
-&gt; QueryInEra AllegraEra (PParams (ShelleyLedgerEra AllegraEra))
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra AllegraEra
-&gt; QueryInShelleyBasedEra
     AllegraEra (PParams (AllegraEra StandardCrypto))
-&gt; QueryInEra AllegraEra (PParams (AllegraEra StandardCrypto))
forall era result.
ShelleyBasedEra era
-&gt; QueryInShelleyBasedEra era result -&gt; QueryInEra era result
</span><span class="hs-identifier hs-var">QueryInShelleyBasedEra</span></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra AllegraEra
</span><span class="hs-identifier hs-var">ShelleyBasedEraAllegra</span></span><span> </span><span class="annot"><span class="annottext">QueryInShelleyBasedEra
  AllegraEra (PParams (ShelleyLedgerEra AllegraEra))
QueryInShelleyBasedEra
  AllegraEra (PParams (AllegraEra StandardCrypto))
forall era.
QueryInShelleyBasedEra era (PParams (ShelleyLedgerEra era))
</span><span class="hs-identifier hs-var">QueryProtocolParameters</span></span><span>
</span><span id="line-200"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">AnyCardanoEra</span></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><span class="hs-identifier hs-var">MaryEra</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">QueryInEra MaryEra (PParams (ShelleyLedgerEra MaryEra))
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
forall era.
QueryInEra era (PParams (ShelleyLedgerEra era))
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
</span><a href="#local-6989586621679816044"><span class="hs-identifier hs-var">callQuery</span></a></span><span> </span><span class="annot"><span class="annottext">(QueryInEra MaryEra (PParams (ShelleyLedgerEra MaryEra))
 -&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters)
-&gt; QueryInEra MaryEra (PParams (ShelleyLedgerEra MaryEra))
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra MaryEra
-&gt; QueryInShelleyBasedEra
     MaryEra (PParams (MaryEra StandardCrypto))
-&gt; QueryInEra MaryEra (PParams (MaryEra StandardCrypto))
forall era result.
ShelleyBasedEra era
-&gt; QueryInShelleyBasedEra era result -&gt; QueryInEra era result
</span><span class="hs-identifier hs-var">QueryInShelleyBasedEra</span></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra MaryEra
</span><span class="hs-identifier hs-var">ShelleyBasedEraMary</span></span><span>    </span><span class="annot"><span class="annottext">QueryInShelleyBasedEra MaryEra (PParams (ShelleyLedgerEra MaryEra))
QueryInShelleyBasedEra MaryEra (PParams (MaryEra StandardCrypto))
forall era.
QueryInShelleyBasedEra era (PParams (ShelleyLedgerEra era))
</span><span class="hs-identifier hs-var">QueryProtocolParameters</span></span><span>
</span><span id="line-201"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">AnyCardanoEra</span></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><span class="hs-identifier hs-var">AlonzoEra</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">QueryInEra AlonzoEra (PParams (ShelleyLedgerEra AlonzoEra))
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
forall era.
QueryInEra era (PParams (ShelleyLedgerEra era))
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
</span><a href="#local-6989586621679816044"><span class="hs-identifier hs-var">callQuery</span></a></span><span> </span><span class="annot"><span class="annottext">(QueryInEra AlonzoEra (PParams (ShelleyLedgerEra AlonzoEra))
 -&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters)
-&gt; QueryInEra AlonzoEra (PParams (ShelleyLedgerEra AlonzoEra))
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra AlonzoEra
-&gt; QueryInShelleyBasedEra
     AlonzoEra (PParams (AlonzoEra StandardCrypto))
-&gt; QueryInEra AlonzoEra (PParams (AlonzoEra StandardCrypto))
forall era result.
ShelleyBasedEra era
-&gt; QueryInShelleyBasedEra era result -&gt; QueryInEra era result
</span><span class="hs-identifier hs-var">QueryInShelleyBasedEra</span></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra AlonzoEra
</span><span class="hs-identifier hs-var">ShelleyBasedEraAlonzo</span></span><span> </span><span class="annot"><span class="annottext">QueryInShelleyBasedEra
  AlonzoEra (PParams (ShelleyLedgerEra AlonzoEra))
QueryInShelleyBasedEra
  AlonzoEra (PParams (AlonzoEra StandardCrypto))
forall era.
QueryInShelleyBasedEra era (PParams (ShelleyLedgerEra era))
</span><span class="hs-identifier hs-var">QueryProtocolParameters</span></span><span>
</span><span id="line-202"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">AnyCardanoEra</span></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><span class="hs-identifier hs-var">BabbageEra</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">QueryInEra BabbageEra (PParams (ShelleyLedgerEra BabbageEra))
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
forall era.
QueryInEra era (PParams (ShelleyLedgerEra era))
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
</span><a href="#local-6989586621679816044"><span class="hs-identifier hs-var">callQuery</span></a></span><span> </span><span class="annot"><span class="annottext">(QueryInEra BabbageEra (PParams (ShelleyLedgerEra BabbageEra))
 -&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters)
-&gt; QueryInEra BabbageEra (PParams (ShelleyLedgerEra BabbageEra))
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra BabbageEra
-&gt; QueryInShelleyBasedEra
     BabbageEra (PParams (BabbageEra StandardCrypto))
-&gt; QueryInEra BabbageEra (PParams (BabbageEra StandardCrypto))
forall era result.
ShelleyBasedEra era
-&gt; QueryInShelleyBasedEra era result -&gt; QueryInEra era result
</span><span class="hs-identifier hs-var">QueryInShelleyBasedEra</span></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra BabbageEra
</span><span class="hs-identifier hs-var">ShelleyBasedEraBabbage</span></span><span> </span><span class="annot"><span class="annottext">QueryInShelleyBasedEra
  BabbageEra (PParams (ShelleyLedgerEra BabbageEra))
QueryInShelleyBasedEra
  BabbageEra (PParams (BabbageEra StandardCrypto))
forall era.
QueryInShelleyBasedEra era (PParams (ShelleyLedgerEra era))
</span><span class="hs-identifier hs-var">QueryProtocolParameters</span></span><span>
</span><span id="line-203"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">AnyCardanoEra</span></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><span class="hs-identifier hs-var">ConwayEra</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">QueryInEra ConwayEra (PParams (ShelleyLedgerEra ConwayEra))
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
forall era.
QueryInEra era (PParams (ShelleyLedgerEra era))
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
</span><a href="#local-6989586621679816044"><span class="hs-identifier hs-var">callQuery</span></a></span><span> </span><span class="annot"><span class="annottext">(QueryInEra ConwayEra (PParams (ShelleyLedgerEra ConwayEra))
 -&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters)
-&gt; QueryInEra ConwayEra (PParams (ShelleyLedgerEra ConwayEra))
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra ConwayEra
-&gt; QueryInShelleyBasedEra
     ConwayEra (PParams (ConwayEra StandardCrypto))
-&gt; QueryInEra ConwayEra (PParams (ConwayEra StandardCrypto))
forall era result.
ShelleyBasedEra era
-&gt; QueryInShelleyBasedEra era result -&gt; QueryInEra era result
</span><span class="hs-identifier hs-var">QueryInShelleyBasedEra</span></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra ConwayEra
</span><span class="hs-identifier hs-var">ShelleyBasedEraConway</span></span><span> </span><span class="annot"><span class="annottext">QueryInShelleyBasedEra
  ConwayEra (PParams (ShelleyLedgerEra ConwayEra))
QueryInShelleyBasedEra
  ConwayEra (PParams (ConwayEra StandardCrypto))
forall era.
QueryInShelleyBasedEra era (PParams (ShelleyLedgerEra era))
</span><span class="hs-identifier hs-var">QueryProtocolParameters</span></span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#getProtocolParameters"><span class="hs-identifier hs-type">getProtocolParameters</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ProtocolParameters</span></span><span>
</span><span id="line-206"></span><span id="getProtocolParameters"><span class="annot"><span class="annottext">getProtocolParameters :: ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
</span><a href="Cardano.Benchmarking.Script.Core.html#getProtocolParameters"><span class="hs-identifier hs-var hs-var">getProtocolParameters</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-207"></span><span>  </span><span class="annot"><span class="annottext">ActionM ProtocolParameterMode
</span><a href="Cardano.Benchmarking.Script.Env.html#getProtoParamMode"><span class="hs-identifier hs-var">getProtoParamMode</span></a></span><span>  </span><span class="annot"><span class="annottext">ActionM ProtocolParameterMode
-&gt; (ProtocolParameterMode
    -&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters)
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
forall a b.
ExceptT Error (RWST IOManager () Env IO) a
-&gt; (a -&gt; ExceptT Error (RWST IOManager () Env IO) b)
-&gt; ExceptT Error (RWST IOManager () Env IO) b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-208"></span><span>    </span><span class="annot"><span class="annottext">ProtocolParameterMode
</span><a href="Cardano.Benchmarking.Script.Types.html#ProtocolParameterQuery"><span class="hs-identifier hs-var">ProtocolParameterQuery</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
</span><a href="Cardano.Benchmarking.Script.Core.html#queryRemoteProtocolParameters"><span class="hs-identifier hs-var">queryRemoteProtocolParameters</span></a></span><span>
</span><span id="line-209"></span><span>    </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#ProtocolParameterLocal"><span class="hs-identifier hs-type">ProtocolParameterLocal</span></a></span><span> </span><span id="local-6989586621679816093"><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679816093"><span class="hs-identifier hs-var">parameters</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
-&gt; ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
forall a. a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679816093"><span class="hs-identifier hs-var">parameters</span></a></span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#waitForEra"><span class="hs-identifier hs-type">waitForEra</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AnyCardanoEra</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-212"></span><span id="waitForEra"><span class="annot"><span class="annottext">waitForEra :: AnyCardanoEra -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#waitForEra"><span class="hs-identifier hs-var hs-var">waitForEra</span></a></span></span><span> </span><span id="local-6989586621679816095"><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679816095"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-213"></span><span>  </span><span id="local-6989586621679816096"><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679816096"><span class="hs-identifier hs-var">currentEra</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM AnyCardanoEra
</span><a href="Cardano.Benchmarking.Script.Core.html#queryEra"><span class="hs-identifier hs-var">queryEra</span></a></span><span>
</span><span id="line-214"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679816096"><span class="hs-identifier hs-var">currentEra</span></a></span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra -&gt; AnyCardanoEra -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679816095"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-215"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">() -&gt; ActionM ()
forall a. a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-216"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-217"></span><span>      </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceError"><span class="hs-identifier hs-var">traceError</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ActionM ()) -&gt; [Char] -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Current era: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679816096"><span class="hs-identifier hs-var">currentEra</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; Waiting for: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679816095"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-218"></span><span>      </span><span class="annot"><span class="annottext">IO () -&gt; ActionM ()
forall a. IO a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ActionM ()) -&gt; IO () -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; IO ()
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Conc.IO.html#threadDelay"><span class="hs-identifier hs-var">threadDelay</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1_000_000</span></span><span>
</span><span id="line-219"></span><span>      </span><span class="annot"><span class="annottext">AnyCardanoEra -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#waitForEra"><span class="hs-identifier hs-var">waitForEra</span></a></span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679816095"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#localSubmitTx"><span class="hs-identifier hs-type">localSubmitTx</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxInMode</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/bhs8casn1xfq9vh4hqnzywg9gkpr93cn-ouroboros-network-protocols-lib-ouroboros-network-protocols-0.7.0.0-haddock-doc/share/doc/ouroboros-network-protocols/html/src/Ouroboros.Network.Protocol.LocalTxSubmission.Type.html#SubmitResult"><span class="hs-identifier hs-type">SubmitResult</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxValidationErrorInCardanoMode</span></span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span id="localSubmitTx"><span class="annot"><span class="annottext">localSubmitTx :: TxInMode -&gt; ActionM (SubmitResult TxValidationErrorInCardanoMode)
</span><a href="Cardano.Benchmarking.Script.Core.html#localSubmitTx"><span class="hs-identifier hs-var hs-var">localSubmitTx</span></a></span></span><span> </span><span id="local-6989586621679816099"><span class="annot"><span class="annottext">TxInMode
</span><a href="#local-6989586621679816099"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-223"></span><span>  </span><span id="local-6989586621679816100"><span class="annot"><span class="annottext">LocalSubmitTx
</span><a href="#local-6989586621679816100"><span class="hs-identifier hs-var">submit</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM LocalSubmitTx
</span><a href="Cardano.Benchmarking.Script.Core.html#getLocalSubmitTx"><span class="hs-identifier hs-var">getLocalSubmitTx</span></a></span><span>
</span><span id="line-224"></span><span>  </span><span id="local-6989586621679816101"><span class="annot"><span class="annottext">SubmitResult TxValidationErrorInCardanoMode
</span><a href="#local-6989586621679816101"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (SubmitResult TxValidationErrorInCardanoMode)
-&gt; ActionM (SubmitResult TxValidationErrorInCardanoMode)
forall a. IO a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (SubmitResult TxValidationErrorInCardanoMode)
 -&gt; ActionM (SubmitResult TxValidationErrorInCardanoMode))
-&gt; IO (SubmitResult TxValidationErrorInCardanoMode)
-&gt; ActionM (SubmitResult TxValidationErrorInCardanoMode)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LocalSubmitTx
</span><a href="#local-6989586621679816100"><span class="hs-identifier hs-var">submit</span></a></span><span> </span><span class="annot"><span class="annottext">TxInMode
</span><a href="#local-6989586621679816099"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-225"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SubmitResult TxValidationErrorInCardanoMode
</span><a href="#local-6989586621679816101"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-226"></span><span>    </span><span class="annot"><span class="annottext">SubmitResult TxValidationErrorInCardanoMode
</span><a href="file:///nix/store/bhs8casn1xfq9vh4hqnzywg9gkpr93cn-ouroboros-network-protocols-lib-ouroboros-network-protocols-0.7.0.0-haddock-doc/share/doc/ouroboros-network-protocols/html/src/Ouroboros.Network.Protocol.LocalTxSubmission.Type.html#SubmitSuccess"><span class="hs-identifier hs-var">SubmitSuccess</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SubmitResult TxValidationErrorInCardanoMode
-&gt; ActionM (SubmitResult TxValidationErrorInCardanoMode)
forall a. a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">SubmitResult TxValidationErrorInCardanoMode
</span><a href="#local-6989586621679816101"><span class="hs-identifier hs-var">ret</span></a></span><span>
</span><span id="line-227"></span><span>    </span><span class="annot"><a href="file:///nix/store/bhs8casn1xfq9vh4hqnzywg9gkpr93cn-ouroboros-network-protocols-lib-ouroboros-network-protocols-0.7.0.0-haddock-doc/share/doc/ouroboros-network-protocols/html/src/Ouroboros.Network.Protocol.LocalTxSubmission.Type.html#SubmitFail"><span class="hs-identifier hs-type">SubmitFail</span></a></span><span> </span><span id="local-6989586621679816104"><span class="annot"><span class="annottext">TxValidationErrorInCardanoMode
</span><a href="#local-6989586621679816104"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-228"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679816105"><span class="annot"><span class="annottext">msg :: [Char]
</span><a href="#local-6989586621679816105"><span class="hs-identifier hs-var hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[[Char]] -&gt; [Char]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;local submit failed: &quot;</span></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TxValidationErrorInCardanoMode -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">TxValidationErrorInCardanoMode
</span><a href="#local-6989586621679816104"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; (&quot;</span></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TxInMode -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">TxInMode
</span><a href="#local-6989586621679816099"><span class="hs-identifier hs-var">tx</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;)&quot;</span></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-229"></span><span>      </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceDebug"><span class="hs-identifier hs-var">traceDebug</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816105"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-230"></span><span>      </span><span class="annot"><span class="annottext">SubmitResult TxValidationErrorInCardanoMode
-&gt; ActionM (SubmitResult TxValidationErrorInCardanoMode)
forall a. a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">SubmitResult TxValidationErrorInCardanoMode
</span><a href="#local-6989586621679816101"><span class="hs-identifier hs-var">ret</span></a></span><span>
</span><span id="line-231"></span><span class="hs-comment">--      throwE $ ApiError msg</span><span>
</span><span id="line-232"></span><span>
</span><span id="line-233"></span><span class="hs-comment">-- TODO:</span><span>
</span><span id="line-234"></span><span class="hs-comment">-- It should be possible to exit the tx-generator with an exception and also get the log messages.</span><span>
</span><span id="line-235"></span><span class="hs-comment">-- Problem 1: When doing throwE $ ApiError msg logmessages get lost !</span><span>
</span><span id="line-236"></span><span class="hs-comment">-- Problem 2: Workbench restarts the tx-generator -&gt; this may be the reason for loss of messages</span><span>
</span><span id="line-237"></span><span>
</span><span id="line-238"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#toMetadata"><span class="hs-identifier hs-type">toMetadata</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679815456"><span class="annot"><a href="#local-6989586621679815456"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsShelleyBasedEra</span></span><span> </span><span class="annot"><a href="#local-6989586621679815456"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxMetadataInEra</span></span><span> </span><span class="annot"><a href="#local-6989586621679815456"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-239"></span><span id="toMetadata"><span class="annot"><span class="annottext">toMetadata :: forall era.
IsShelleyBasedEra era =&gt;
Maybe Int -&gt; TxMetadataInEra era
</span><a href="Cardano.Benchmarking.Script.Core.html#toMetadata"><span class="hs-identifier hs-var hs-var">toMetadata</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe Int
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxMetadataInEra era
forall era. TxMetadataInEra era
</span><span class="hs-identifier hs-var">TxMetadataNone</span></span><span>
</span><span id="line-240"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#toMetadata"><span class="hs-identifier hs-var">toMetadata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679816113"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679816113"><span class="hs-identifier hs-var">payloadSize</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Either [Char] (TxMetadataInEra era)
forall era.
IsShelleyBasedEra era =&gt;
Int -&gt; Either [Char] (TxMetadataInEra era)
</span><a href="Cardano.Benchmarking.GeneratorTx.SizedMetadata.html#mkMetadata"><span class="hs-identifier hs-var">mkMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679816113"><span class="hs-identifier hs-var">payloadSize</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-241"></span><span>  </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679816114"><span class="annot"><span class="annottext">TxMetadataInEra era
</span><a href="#local-6989586621679816114"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxMetadataInEra era
</span><a href="#local-6989586621679816114"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-242"></span><span>  </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679816115"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816115"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; TxMetadataInEra era
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816115"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#submitAction"><span class="hs-identifier hs-type">submitAction</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AnyCardanoEra</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#SubmitMode"><span class="hs-identifier hs-type">SubmitMode</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#Generator"><span class="hs-identifier hs-type">Generator</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Types.html#TxGenTxParams"><span class="hs-identifier hs-type">TxGenTxParams</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-245"></span><span id="submitAction"><span class="annot"><span class="annottext">submitAction :: AnyCardanoEra
-&gt; SubmitMode -&gt; Generator -&gt; TxGenTxParams -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#submitAction"><span class="hs-identifier hs-var hs-var">submitAction</span></a></span></span><span> </span><span id="local-6989586621679816117"><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679816117"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span id="local-6989586621679816118"><span class="annot"><span class="annottext">SubmitMode
</span><a href="#local-6989586621679816118"><span class="hs-identifier hs-var">submitMode</span></a></span></span><span> </span><span id="local-6989586621679816119"><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679816119"><span class="hs-identifier hs-var">generator</span></a></span></span><span> </span><span id="local-6989586621679816120"><span class="annot"><span class="annottext">TxGenTxParams
</span><a href="#local-6989586621679816120"><span class="hs-identifier hs-var">txParams</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
-&gt; (forall {era}.
    IsShelleyBasedEra era =&gt;
    AsType era -&gt; ActionM ())
-&gt; ActionM ()
forall x.
AnyCardanoEra
-&gt; (forall era. IsShelleyBasedEra era =&gt; AsType era -&gt; ActionM x)
-&gt; ActionM x
</span><a href="Cardano.Benchmarking.Script.Core.html#withEra"><span class="hs-identifier hs-var">withEra</span></a></span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679816117"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">((forall {era}. IsShelleyBasedEra era =&gt; AsType era -&gt; ActionM ())
 -&gt; ActionM ())
-&gt; (forall {era}.
    IsShelleyBasedEra era =&gt;
    AsType era -&gt; ActionM ())
-&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SubmitMode
-&gt; Generator -&gt; TxGenTxParams -&gt; AsType era -&gt; ActionM ()
forall era.
IsShelleyBasedEra era =&gt;
SubmitMode
-&gt; Generator -&gt; TxGenTxParams -&gt; AsType era -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#submitInEra"><span class="hs-identifier hs-var">submitInEra</span></a></span><span> </span><span class="annot"><span class="annottext">SubmitMode
</span><a href="#local-6989586621679816118"><span class="hs-identifier hs-var">submitMode</span></a></span><span> </span><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679816119"><span class="hs-identifier hs-var">generator</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenTxParams
</span><a href="#local-6989586621679816120"><span class="hs-identifier hs-var">txParams</span></a></span><span>
</span><span id="line-246"></span><span>
</span><span id="line-247"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#submitInEra"><span class="hs-identifier hs-type">submitInEra</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679815466"><span class="annot"><a href="#local-6989586621679815466"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsShelleyBasedEra</span></span><span> </span><span class="annot"><a href="#local-6989586621679815466"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#SubmitMode"><span class="hs-identifier hs-type">SubmitMode</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#Generator"><span class="hs-identifier hs-type">Generator</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Types.html#TxGenTxParams"><span class="hs-identifier hs-type">TxGenTxParams</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AsType</span></span><span> </span><span class="annot"><a href="#local-6989586621679815466"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-248"></span><span id="submitInEra"><span class="annot"><span class="annottext">submitInEra :: forall era.
IsShelleyBasedEra era =&gt;
SubmitMode
-&gt; Generator -&gt; TxGenTxParams -&gt; AsType era -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#submitInEra"><span class="hs-identifier hs-var hs-var">submitInEra</span></a></span></span><span> </span><span id="local-6989586621679816147"><span class="annot"><span class="annottext">SubmitMode
</span><a href="#local-6989586621679816147"><span class="hs-identifier hs-var">submitMode</span></a></span></span><span> </span><span id="local-6989586621679816148"><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679816148"><span class="hs-identifier hs-var">generator</span></a></span></span><span> </span><span id="local-6989586621679816149"><span class="annot"><span class="annottext">TxGenTxParams
</span><a href="#local-6989586621679816149"><span class="hs-identifier hs-var">txParams</span></a></span></span><span> </span><span id="local-6989586621679816150"><span class="annot"><span class="annottext">AsType era
</span><a href="#local-6989586621679816150"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-249"></span><span>  </span><span id="local-6989586621679816151"><span class="annot"><span class="annottext">TxStream IO era
</span><a href="#local-6989586621679816151"><span class="hs-identifier hs-var">txStream</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Generator
-&gt; TxGenTxParams -&gt; AsType era -&gt; ActionM (TxStream IO era)
forall era.
IsShelleyBasedEra era =&gt;
Generator
-&gt; TxGenTxParams -&gt; AsType era -&gt; ActionM (TxStream IO era)
</span><a href="Cardano.Benchmarking.Script.Core.html#evalGenerator"><span class="hs-identifier hs-var">evalGenerator</span></a></span><span> </span><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679816148"><span class="hs-identifier hs-var">generator</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenTxParams
</span><a href="#local-6989586621679816149"><span class="hs-identifier hs-var">txParams</span></a></span><span> </span><span class="annot"><span class="annottext">AsType era
</span><a href="#local-6989586621679816150"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-250"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SubmitMode
</span><a href="#local-6989586621679816147"><span class="hs-identifier hs-var">submitMode</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-251"></span><span>    </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#NodeToNode"><span class="hs-identifier hs-type">NodeToNode</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty NodeIPv4Address
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;NodeToNode deprecated: ToDo: remove&quot;</span></span><span>
</span><span id="line-252"></span><span>    </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#Benchmark"><span class="hs-identifier hs-type">Benchmark</span></a></span><span> </span><span id="local-6989586621679816155"><span class="annot"><span class="annottext">NonEmpty NodeIPv4Address
</span><a href="#local-6989586621679816155"><span class="hs-identifier hs-var">nodes</span></a></span></span><span> </span><span id="local-6989586621679816156"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816156"><span class="hs-identifier hs-var">threadName</span></a></span></span><span> </span><span id="local-6989586621679816157"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679816157"><span class="hs-identifier hs-var">tpsRate</span></a></span></span><span> </span><span id="local-6989586621679816158"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679816158"><span class="hs-identifier hs-var">txCount</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxStream IO era
-&gt; NonEmpty NodeIPv4Address
-&gt; [Char]
-&gt; Double
-&gt; Int
-&gt; AsType era
-&gt; ActionM ()
forall era.
IsShelleyBasedEra era =&gt;
TxStream IO era
-&gt; NonEmpty NodeIPv4Address
-&gt; [Char]
-&gt; Double
-&gt; Int
-&gt; AsType era
-&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#benchmarkTxStream"><span class="hs-identifier hs-var">benchmarkTxStream</span></a></span><span> </span><span class="annot"><span class="annottext">TxStream IO era
</span><a href="#local-6989586621679816151"><span class="hs-identifier hs-var">txStream</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty NodeIPv4Address
</span><a href="#local-6989586621679816155"><span class="hs-identifier hs-var">nodes</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816156"><span class="hs-identifier hs-var">threadName</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679816157"><span class="hs-identifier hs-var">tpsRate</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679816158"><span class="hs-identifier hs-var">txCount</span></a></span><span> </span><span class="annot"><span class="annottext">AsType era
</span><a href="#local-6989586621679816150"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-253"></span><span>    </span><span class="annot"><span class="annottext">SubmitMode
</span><a href="Cardano.Benchmarking.Script.Types.html#LocalSocket"><span class="hs-identifier hs-var">LocalSocket</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Tx era -&gt; ActionM ()) -&gt; TxStream IO era -&gt; ActionM ()
</span><a href="#local-6989586621679816161"><span class="hs-identifier hs-var">submitAll</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ActionM (SubmitResult TxValidationErrorInCardanoMode) -&gt; ActionM ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#void"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="annot"><span class="annottext">(ActionM (SubmitResult TxValidationErrorInCardanoMode)
 -&gt; ActionM ())
-&gt; (Tx era
    -&gt; ActionM (SubmitResult TxValidationErrorInCardanoMode))
-&gt; Tx era
-&gt; ActionM ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TxInMode -&gt; ActionM (SubmitResult TxValidationErrorInCardanoMode)
</span><a href="Cardano.Benchmarking.Script.Core.html#localSubmitTx"><span class="hs-identifier hs-var">localSubmitTx</span></a></span><span> </span><span class="annot"><span class="annottext">(TxInMode -&gt; ActionM (SubmitResult TxValidationErrorInCardanoMode))
-&gt; (Tx era -&gt; TxInMode)
-&gt; Tx era
-&gt; ActionM (SubmitResult TxValidationErrorInCardanoMode)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era -&gt; TxInMode
forall era. IsShelleyBasedEra era =&gt; Tx era -&gt; TxInMode
</span><a href="Cardano.TxGenerator.Utils.html#mkTxInModeCardano"><span class="hs-identifier hs-var">Utils.mkTxInModeCardano</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TxStream IO era
</span><a href="#local-6989586621679816151"><span class="hs-identifier hs-var">txStream</span></a></span><span>
</span><span id="line-254"></span><span>    </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#DumpToFile"><span class="hs-identifier hs-type">DumpToFile</span></a></span><span> </span><span id="local-6989586621679816164"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816164"><span class="hs-identifier hs-var">filePath</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO () -&gt; ActionM ()
forall a. IO a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ActionM ()) -&gt; IO () -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Stream (Of [Char]) IO () -&gt; IO ()
forall r. [Char] -&gt; Stream (Of [Char]) IO r -&gt; IO r
</span><a href="file:///nix/store/wxfak5x5nml9hdfwan01apf0v81nglck-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Prelude.html#writeFile"><span class="hs-identifier hs-var">Streaming.writeFile</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816164"><span class="hs-identifier hs-var">filePath</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream (Of [Char]) IO () -&gt; IO ())
-&gt; Stream (Of [Char]) IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Either TxGenError (Tx era) -&gt; [Char])
-&gt; TxStream IO era -&gt; Stream (Of [Char]) IO ()
forall (m :: * -&gt; *) a b r.
Monad m =&gt;
(a -&gt; b) -&gt; Stream (Of a) m r -&gt; Stream (Of b) m r
</span><a href="file:///nix/store/wxfak5x5nml9hdfwan01apf0v81nglck-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Prelude.html#map"><span class="hs-identifier hs-var">Streaming.map</span></a></span><span> </span><span class="annot"><span class="annottext">Either TxGenError (Tx era) -&gt; [Char]
forall {a} {a}. (Show a, Show a) =&gt; Either a a -&gt; [Char]
</span><a href="#local-6989586621679816167"><span class="hs-identifier hs-var">showTx</span></a></span><span> </span><span class="annot"><span class="annottext">TxStream IO era
</span><a href="#local-6989586621679816151"><span class="hs-identifier hs-var">txStream</span></a></span><span>
</span><span id="line-255"></span><span>    </span><span class="annot"><span class="annottext">SubmitMode
</span><a href="Cardano.Benchmarking.Script.Types.html#DiscardTX"><span class="hs-identifier hs-var">DiscardTX</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO () -&gt; ActionM ()
forall a. IO a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ActionM ()) -&gt; IO () -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Either TxGenError (Tx era) -&gt; IO ()) -&gt; TxStream IO era -&gt; IO ()
forall (m :: * -&gt; *) a x r.
Monad m =&gt;
(a -&gt; m x) -&gt; Stream (Of a) m r -&gt; m r
</span><a href="file:///nix/store/wxfak5x5nml9hdfwan01apf0v81nglck-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Prelude.html#mapM_"><span class="hs-identifier hs-var">Streaming.mapM_</span></a></span><span> </span><span class="annot"><span class="annottext">Either TxGenError (Tx era) -&gt; IO ()
forall {m :: * -&gt; *} {a} {b}.
(Monad m, Show a) =&gt;
Either a b -&gt; m ()
</span><a href="#local-6989586621679816170"><span class="hs-identifier hs-var">forceTx</span></a></span><span> </span><span class="annot"><span class="annottext">TxStream IO era
</span><a href="#local-6989586621679816151"><span class="hs-identifier hs-var">txStream</span></a></span><span>
</span><span id="line-256"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-257"></span><span>  </span><span id="local-6989586621679816170"><span class="annot"><span class="annottext">forceTx :: Either a b -&gt; m ()
</span><a href="#local-6989586621679816170"><span class="hs-identifier hs-var hs-var">forceTx</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; m ()
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-258"></span><span>  </span><span class="annot"><a href="#local-6989586621679816170"><span class="hs-identifier hs-var">forceTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679816183"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679816183"><span class="hs-identifier hs-var">err</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; m ()
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; m ()) -&gt; [Char] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679816183"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-259"></span><span>  </span><span id="local-6989586621679816167"><span class="annot"><span class="annottext">showTx :: Either a a -&gt; [Char]
</span><a href="#local-6989586621679816167"><span class="hs-identifier hs-var hs-var">showTx</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679816190"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679816190"><span class="hs-identifier hs-var">err</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char]
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; [Char]) -&gt; [Char] -&gt; [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679816190"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-260"></span><span>  </span><span class="annot"><a href="#local-6989586621679816167"><span class="hs-identifier hs-var">showTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679816191"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679816191"><span class="hs-identifier hs-var">tx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\n'</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; [Char] -&gt; [Char]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679816191"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-261"></span><span>   </span><span class="hs-comment">-- todo: use Streaming.run</span><span>
</span><span id="line-262"></span><span>  </span><span class="annot"><a href="#local-6989586621679816161"><span class="hs-identifier hs-type">submitAll</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Tx</span></span><span> </span><span class="annot"><a href="#local-6989586621679815466"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Wallet.html#TxStream"><span class="hs-identifier hs-type">TxStream</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679815466"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-263"></span><span>  </span><span id="local-6989586621679816161"><span class="annot"><span class="annottext">submitAll :: (Tx era -&gt; ActionM ()) -&gt; TxStream IO era -&gt; ActionM ()
</span><a href="#local-6989586621679816161"><span class="hs-identifier hs-var hs-var">submitAll</span></a></span></span><span> </span><span id="local-6989586621679816192"><span class="annot"><span class="annottext">Tx era -&gt; ActionM ()
</span><a href="#local-6989586621679816192"><span class="hs-identifier hs-var">callback</span></a></span></span><span> </span><span id="local-6989586621679816193"><span class="annot"><span class="annottext">TxStream IO era
</span><a href="#local-6989586621679816193"><span class="hs-identifier hs-var">stream</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-264"></span><span>    </span><span id="local-6989586621679816194"><span class="annot"><span class="annottext">Either () (Of (Either TxGenError (Tx era)) (TxStream IO era))
</span><a href="#local-6989586621679816194"><span class="hs-identifier hs-var">step</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Either () (Of (Either TxGenError (Tx era)) (TxStream IO era)))
-&gt; ExceptT
     Error
     (RWST IOManager () Env IO)
     (Either () (Of (Either TxGenError (Tx era)) (TxStream IO era)))
forall a. IO a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either () (Of (Either TxGenError (Tx era)) (TxStream IO era)))
 -&gt; ExceptT
      Error
      (RWST IOManager () Env IO)
      (Either () (Of (Either TxGenError (Tx era)) (TxStream IO era))))
-&gt; IO
     (Either () (Of (Either TxGenError (Tx era)) (TxStream IO era)))
-&gt; ExceptT
     Error
     (RWST IOManager () Env IO)
     (Either () (Of (Either TxGenError (Tx era)) (TxStream IO era)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxStream IO era
-&gt; IO
     (Either () (Of (Either TxGenError (Tx era)) (TxStream IO era)))
forall (m :: * -&gt; *) (f :: * -&gt; *) r.
Monad m =&gt;
Stream f m r -&gt; m (Either r (f (Stream f m r)))
</span><a href="file:///nix/store/wxfak5x5nml9hdfwan01apf0v81nglck-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Internal.html#inspect"><span class="hs-identifier hs-var">Streaming.inspect</span></a></span><span> </span><span class="annot"><span class="annottext">TxStream IO era
</span><a href="#local-6989586621679816193"><span class="hs-identifier hs-var">stream</span></a></span><span>
</span><span id="line-265"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either () (Of (Either TxGenError (Tx era)) (TxStream IO era))
</span><a href="#local-6989586621679816194"><span class="hs-identifier hs-var">step</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-266"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; ActionM ()
forall a. a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-267"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679816196"><span class="annot"><span class="annottext">TxGenError
</span><a href="#local-6989586621679816196"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/wxfak5x5nml9hdfwan01apf0v81nglck-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Data.Functor.Of.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span id="local-6989586621679816198"><span class="annot"><span class="annottext">TxStream IO era
</span><a href="#local-6989586621679816198"><span class="hs-identifier hs-var">_rest</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxGenError -&gt; ActionM ()
forall a. TxGenError -&gt; ActionM a
</span><a href="Cardano.Benchmarking.Script.Env.html#liftTxGenError"><span class="hs-identifier hs-var">liftTxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">(TxGenError -&gt; ActionM ()) -&gt; TxGenError -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; TxGenError
</span><a href="Cardano.TxGenerator.Types.html#TxGenError"><span class="hs-identifier hs-var">TxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; TxGenError) -&gt; [Char] -&gt; TxGenError
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenError -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenError
</span><a href="#local-6989586621679816196"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-268"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679816199"><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621679816199"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/wxfak5x5nml9hdfwan01apf0v81nglck-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Data.Functor.Of.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span id="local-6989586621679816200"><span class="annot"><span class="annottext">TxStream IO era
</span><a href="#local-6989586621679816200"><span class="hs-identifier hs-var">rest</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-269"></span><span>        </span><span class="annot"><span class="annottext">Tx era -&gt; ActionM ()
</span><a href="#local-6989586621679816192"><span class="hs-identifier hs-var">callback</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621679816199"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-270"></span><span>        </span><span class="annot"><span class="annottext">(Tx era -&gt; ActionM ()) -&gt; TxStream IO era -&gt; ActionM ()
</span><a href="#local-6989586621679816161"><span class="hs-identifier hs-var">submitAll</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era -&gt; ActionM ()
</span><a href="#local-6989586621679816192"><span class="hs-identifier hs-var">callback</span></a></span><span> </span><span class="annot"><span class="annottext">TxStream IO era
</span><a href="#local-6989586621679816200"><span class="hs-identifier hs-var">rest</span></a></span><span>
</span><span id="line-271"></span><span>
</span><span id="line-272"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#benchmarkTxStream"><span class="hs-identifier hs-type">benchmarkTxStream</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679815473"><span class="annot"><a href="#local-6989586621679815473"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsShelleyBasedEra</span></span><span> </span><span class="annot"><a href="#local-6989586621679815473"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-273"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Wallet.html#TxStream"><span class="hs-identifier hs-type">TxStream</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679815473"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-274"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#TargetNodes"><span class="hs-identifier hs-type">TargetNodes</span></a></span><span>
</span><span id="line-275"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-276"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Types.html#TPSRate"><span class="hs-identifier hs-type">TPSRate</span></a></span><span>
</span><span id="line-277"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Types.html#NumberOfTxs"><span class="hs-identifier hs-type">NumberOfTxs</span></a></span><span>
</span><span id="line-278"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AsType</span></span><span> </span><span class="annot"><a href="#local-6989586621679815473"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-279"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-280"></span><span id="benchmarkTxStream"><span class="annot"><span class="annottext">benchmarkTxStream :: forall era.
IsShelleyBasedEra era =&gt;
TxStream IO era
-&gt; NonEmpty NodeIPv4Address
-&gt; [Char]
-&gt; Double
-&gt; Int
-&gt; AsType era
-&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#benchmarkTxStream"><span class="hs-identifier hs-var hs-var">benchmarkTxStream</span></a></span></span><span> </span><span id="local-6989586621679816210"><span class="annot"><span class="annottext">TxStream IO era
</span><a href="#local-6989586621679816210"><span class="hs-identifier hs-var">txStream</span></a></span></span><span> </span><span id="local-6989586621679816211"><span class="annot"><span class="annottext">NonEmpty NodeIPv4Address
</span><a href="#local-6989586621679816211"><span class="hs-identifier hs-var">targetNodes</span></a></span></span><span> </span><span id="local-6989586621679816212"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816212"><span class="hs-identifier hs-var">threadName</span></a></span></span><span> </span><span id="local-6989586621679816213"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679816213"><span class="hs-identifier hs-var">tps</span></a></span></span><span> </span><span id="local-6989586621679816214"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679816214"><span class="hs-identifier hs-var">txCount</span></a></span></span><span> </span><span id="local-6989586621679816215"><span class="annot"><span class="annottext">AsType era
</span><a href="#local-6989586621679816215"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-281"></span><span>  </span><span id="local-6989586621679816216"><span class="annot"><span class="annottext">BenchTracers
</span><a href="#local-6989586621679816216"><span class="hs-identifier hs-var">tracers</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM BenchTracers
</span><a href="Cardano.Benchmarking.Script.Env.html#getBenchTracers"><span class="hs-identifier hs-var">getBenchTracers</span></a></span><span>
</span><span id="line-282"></span><span>  </span><span id="local-6989586621679816217"><span class="annot"><span class="annottext">ConnectClient
</span><a href="#local-6989586621679816217"><span class="hs-identifier hs-var">connectClient</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM ConnectClient
</span><a href="Cardano.Benchmarking.Script.Core.html#getConnectClient"><span class="hs-identifier hs-var">getConnectClient</span></a></span><span>
</span><span id="line-283"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-284"></span><span>    </span><span class="annot"><a href="#local-6989586621679816218"><span class="hs-identifier hs-type">coreCall</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AsType</span></span><span> </span><span class="annot"><a href="#local-6989586621679815473"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Types.html#TxGenError"><span class="hs-identifier hs-type">TxGenError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.GeneratorTx.html#AsyncBenchmarkControl"><span class="hs-identifier hs-type">AsyncBenchmarkControl</span></a></span><span>
</span><span id="line-285"></span><span>    </span><span id="local-6989586621679816218"><span class="annot"><span class="annottext">coreCall :: AsType era -&gt; ExceptT TxGenError IO AsyncBenchmarkControl
</span><a href="#local-6989586621679816218"><span class="hs-identifier hs-var hs-var">coreCall</span></a></span></span><span> </span><span id="local-6989586621679816219"><span class="annot"><span class="annottext">AsType era
</span><a href="#local-6989586621679816219"><span class="hs-identifier hs-var">eraProxy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Trace IO (TraceBenchTxSubmit TxId)
-&gt; Trace IO NodeToNodeSubmissionTrace
-&gt; ConnectClient
-&gt; [Char]
-&gt; NonEmpty NodeIPv4Address
-&gt; Double
-&gt; SubmissionErrorPolicy
-&gt; AsType era
-&gt; Int
-&gt; TxStream IO era
-&gt; ExceptT TxGenError IO AsyncBenchmarkControl
forall era.
IsShelleyBasedEra era =&gt;
Trace IO (TraceBenchTxSubmit TxId)
-&gt; Trace IO NodeToNodeSubmissionTrace
-&gt; ConnectClient
-&gt; [Char]
-&gt; NonEmpty NodeIPv4Address
-&gt; Double
-&gt; SubmissionErrorPolicy
-&gt; AsType era
-&gt; Int
-&gt; TxStream IO era
-&gt; ExceptT TxGenError IO AsyncBenchmarkControl
</span><a href="Cardano.Benchmarking.GeneratorTx.html#walletBenchmark"><span class="hs-identifier hs-var">GeneratorTx.walletBenchmark</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BenchTracers -&gt; Trace IO (TraceBenchTxSubmit TxId)
</span><a href="Cardano.Benchmarking.LogTypes.html#btTxSubmit_"><span class="hs-identifier hs-var">btTxSubmit_</span></a></span><span> </span><span class="annot"><span class="annottext">BenchTracers
</span><a href="#local-6989586621679816216"><span class="hs-identifier hs-var">tracers</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BenchTracers -&gt; Trace IO NodeToNodeSubmissionTrace
</span><a href="Cardano.Benchmarking.LogTypes.html#btN2N_"><span class="hs-identifier hs-var">btN2N_</span></a></span><span> </span><span class="annot"><span class="annottext">BenchTracers
</span><a href="#local-6989586621679816216"><span class="hs-identifier hs-var">tracers</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ConnectClient
</span><a href="#local-6989586621679816217"><span class="hs-identifier hs-var">connectClient</span></a></span><span>
</span><span id="line-286"></span><span>                                               </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816212"><span class="hs-identifier hs-var">threadName</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty NodeIPv4Address
</span><a href="#local-6989586621679816211"><span class="hs-identifier hs-var">targetNodes</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679816213"><span class="hs-identifier hs-var">tps</span></a></span><span> </span><span class="annot"><span class="annottext">SubmissionErrorPolicy
</span><a href="Cardano.Benchmarking.Types.html#LogErrors"><span class="hs-identifier hs-var">LogErrors</span></a></span><span> </span><span class="annot"><span class="annottext">AsType era
</span><a href="#local-6989586621679816219"><span class="hs-identifier hs-var">eraProxy</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679816214"><span class="hs-identifier hs-var">txCount</span></a></span><span> </span><span class="annot"><span class="annottext">TxStream IO era
</span><a href="#local-6989586621679816210"><span class="hs-identifier hs-var">txStream</span></a></span><span>
</span><span id="line-287"></span><span>  </span><span id="local-6989586621679816221"><span class="annot"><span class="annottext">Either TxGenError AsyncBenchmarkControl
</span><a href="#local-6989586621679816221"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Either TxGenError AsyncBenchmarkControl)
-&gt; ExceptT
     Error
     (RWST IOManager () Env IO)
     (Either TxGenError AsyncBenchmarkControl)
forall a. IO a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either TxGenError AsyncBenchmarkControl)
 -&gt; ExceptT
      Error
      (RWST IOManager () Env IO)
      (Either TxGenError AsyncBenchmarkControl))
-&gt; IO (Either TxGenError AsyncBenchmarkControl)
-&gt; ExceptT
     Error
     (RWST IOManager () Env IO)
     (Either TxGenError AsyncBenchmarkControl)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ExceptT TxGenError IO AsyncBenchmarkControl
-&gt; IO (Either TxGenError AsyncBenchmarkControl)
forall e (m :: * -&gt; *) a. ExceptT e m a -&gt; m (Either e a)
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#runExceptT"><span class="hs-identifier hs-var">runExceptT</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT TxGenError IO AsyncBenchmarkControl
 -&gt; IO (Either TxGenError AsyncBenchmarkControl))
-&gt; ExceptT TxGenError IO AsyncBenchmarkControl
-&gt; IO (Either TxGenError AsyncBenchmarkControl)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">AsType era -&gt; ExceptT TxGenError IO AsyncBenchmarkControl
</span><a href="#local-6989586621679816218"><span class="hs-identifier hs-var">coreCall</span></a></span><span> </span><span class="annot"><span class="annottext">AsType era
</span><a href="#local-6989586621679816215"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-288"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either TxGenError AsyncBenchmarkControl
</span><a href="#local-6989586621679816221"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-289"></span><span>    </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679816222"><span class="annot"><span class="annottext">TxGenError
</span><a href="#local-6989586621679816222"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxGenError -&gt; ActionM ()
forall a. TxGenError -&gt; ActionM a
</span><a href="Cardano.Benchmarking.Script.Env.html#liftTxGenError"><span class="hs-identifier hs-var">liftTxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenError
</span><a href="#local-6989586621679816222"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-290"></span><span>    </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679816223"><span class="annot"><span class="annottext">AsyncBenchmarkControl
</span><a href="#local-6989586621679816223"><span class="hs-identifier hs-var">ctl</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; AsyncBenchmarkControl -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#setEnvThreads"><span class="hs-identifier hs-var">setEnvThreads</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816212"><span class="hs-identifier hs-var">threadName</span></a></span><span> </span><span class="annot"><span class="annottext">AsyncBenchmarkControl
</span><a href="#local-6989586621679816223"><span class="hs-identifier hs-var">ctl</span></a></span><span>
</span><span id="line-291"></span><span>
</span><span id="line-292"></span><span id="local-6989586621679815471"><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#evalGenerator"><span class="hs-identifier hs-type">evalGenerator</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsShelleyBasedEra</span></span><span> </span><span class="annot"><a href="#local-6989586621679815471"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#Generator"><span class="hs-identifier hs-type">Generator</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Types.html#TxGenTxParams"><span class="hs-identifier hs-type">TxGenTxParams</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AsType</span></span><span> </span><span class="annot"><a href="#local-6989586621679815471"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Wallet.html#TxStream"><span class="hs-identifier hs-type">TxStream</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679815471"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-293"></span><span id="evalGenerator"><span class="annot"><span class="annottext">evalGenerator :: forall era.
IsShelleyBasedEra era =&gt;
Generator
-&gt; TxGenTxParams -&gt; AsType era -&gt; ActionM (TxStream IO era)
</span><a href="Cardano.Benchmarking.Script.Core.html#evalGenerator"><span class="hs-identifier hs-var hs-var">evalGenerator</span></a></span></span><span> </span><span id="local-6989586621679816340"><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679816340"><span class="hs-identifier hs-var">generator</span></a></span></span><span> </span><span id="local-6989586621679816341"><span class="annot"><span class="annottext">txParams :: TxGenTxParams
</span><a href="#local-6989586621679816341"><span class="hs-identifier hs-var">txParams</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Cardano.TxGenerator.Types.html#TxGenTxParams"><span class="hs-identifier hs-type">TxGenTxParams</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">txParamFee :: TxGenTxParams -&gt; Lovelace
</span><a href="Cardano.TxGenerator.Types.html#txParamFee"><span class="hs-identifier hs-var">txParamFee</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679816344"><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621679816344"><span class="hs-identifier hs-var">fee</span></a></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621679816345"><span class="annot"><span class="annottext">AsType era
</span><a href="#local-6989586621679816345"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-294"></span><span>  </span><span id="local-6989586621679816346"><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621679816346"><span class="hs-identifier hs-var">networkId</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM NetworkId
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvNetworkId"><span class="hs-identifier hs-var">getEnvNetworkId</span></a></span><span>
</span><span id="line-295"></span><span>  </span><span id="local-6989586621679816347"><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679816347"><span class="hs-identifier hs-var">protocolParameters</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
</span><a href="Cardano.Benchmarking.Script.Core.html#getProtocolParameters"><span class="hs-identifier hs-var">getProtocolParameters</span></a></span><span>
</span><span id="line-296"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; ProtocolParameters
-&gt; Either
     ProtocolParametersConversionError (LedgerProtocolParameters era)
forall era.
ShelleyBasedEra era
-&gt; ProtocolParameters
-&gt; Either
     ProtocolParametersConversionError (LedgerProtocolParameters era)
</span><span class="hs-identifier hs-var">convertToLedgerProtocolParameters</span></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
forall era. IsShelleyBasedEra era =&gt; ShelleyBasedEra era
</span><span class="hs-identifier hs-var">shelleyBasedEra</span></span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679816347"><span class="hs-identifier hs-var">protocolParameters</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-297"></span><span>    </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679816348"><span class="annot"><span class="annottext">ProtocolParametersConversionError
</span><a href="#local-6989586621679816348"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Error -&gt; ActionM (TxStream IO era)
forall (m :: * -&gt; *) e a. Monad m =&gt; e -&gt; ExceptT e m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#throwE"><span class="hs-identifier hs-var">throwE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxGenError -&gt; Error
</span><a href="Cardano.Benchmarking.Script.Env.html#TxGenError"><span class="hs-identifier hs-var">Env.TxGenError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtocolParametersConversionError -&gt; TxGenError
forall e. Error e =&gt; e -&gt; TxGenError
</span><a href="Cardano.TxGenerator.Types.html#ApiError"><span class="hs-identifier hs-var">ApiError</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParametersConversionError
</span><a href="#local-6989586621679816348"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-298"></span><span>    </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679816351"><span class="annot"><span class="annottext">LedgerProtocolParameters era
</span><a href="#local-6989586621679816351"><span class="hs-identifier hs-var">ledgerParameters</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-299"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679816340"><span class="hs-identifier hs-var">generator</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-300"></span><span>        </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#SecureGenesis"><span class="hs-identifier hs-type">SecureGenesis</span></a></span><span> </span><span id="local-6989586621679816353"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816353"><span class="hs-identifier hs-var">wallet</span></a></span></span><span> </span><span id="local-6989586621679816354"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816354"><span class="hs-identifier hs-var">genesisKeyName</span></a></span></span><span> </span><span id="local-6989586621679816355"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816355"><span class="hs-identifier hs-var">destKeyName</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-301"></span><span>          </span><span id="local-6989586621679816356"><span class="annot"><span class="annottext">ShelleyGenesis StandardCrypto
</span><a href="#local-6989586621679816356"><span class="hs-identifier hs-var">genesis</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM (ShelleyGenesis StandardCrypto)
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvGenesis"><span class="hs-identifier hs-var">getEnvGenesis</span></a></span><span>
</span><span id="line-302"></span><span>          </span><span id="local-6989586621679816358"><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679816358"><span class="hs-identifier hs-var">destKey</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM (SigningKey PaymentKey)
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvKeys"><span class="hs-identifier hs-var">getEnvKeys</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816355"><span class="hs-identifier hs-var">destKeyName</span></a></span><span>
</span><span id="line-303"></span><span>          </span><span id="local-6989586621679816359"><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679816359"><span class="hs-identifier hs-var">destWallet</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM WalletRef
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvWallets"><span class="hs-identifier hs-var">getEnvWallets</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816353"><span class="hs-identifier hs-var">wallet</span></a></span><span>
</span><span id="line-304"></span><span>          </span><span id="local-6989586621679816360"><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679816360"><span class="hs-identifier hs-var">genesisKey</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM (SigningKey PaymentKey)
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvKeys"><span class="hs-identifier hs-var">getEnvKeys</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816354"><span class="hs-identifier hs-var">genesisKeyName</span></a></span><span>
</span><span id="line-305"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621679816361"><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621679816361"><span class="hs-identifier hs-var">tx</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679816362"><span class="annot"><span class="annottext">Fund
</span><a href="#local-6989586621679816362"><span class="hs-identifier hs-var">fund</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(TxGenError -&gt; Error)
-&gt; ExceptT TxGenError (RWST IOManager () Env IO) (Tx era, Fund)
-&gt; ExceptT Error (RWST IOManager () Env IO) (Tx era, Fund)
forall (m :: * -&gt; *) x y a.
Functor m =&gt;
(x -&gt; y) -&gt; ExceptT x m a -&gt; ExceptT y m a
</span><a href="file:///nix/store/srn6bsn7d18q6zw42x7hh4yazaq31pm5-transformers-except-lib-transformers-except-0.1.4-haddock-doc/share/doc/transformers-except/html/src/Control.Monad.Trans.Except.Extra.html#firstExceptT"><span class="hs-identifier hs-var">firstExceptT</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenError -&gt; Error
</span><a href="Cardano.Benchmarking.Script.Env.html#TxGenError"><span class="hs-identifier hs-var">Env.TxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT TxGenError (RWST IOManager () Env IO) (Tx era, Fund)
 -&gt; ExceptT Error (RWST IOManager () Env IO) (Tx era, Fund))
-&gt; ExceptT TxGenError (RWST IOManager () Env IO) (Tx era, Fund)
-&gt; ExceptT Error (RWST IOManager () Env IO) (Tx era, Fund)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Either TxGenError (Tx era, Fund)
-&gt; ExceptT TxGenError (RWST IOManager () Env IO) (Tx era, Fund)
forall (m :: * -&gt; *) x a. Monad m =&gt; Either x a -&gt; ExceptT x m a
</span><a href="file:///nix/store/srn6bsn7d18q6zw42x7hh4yazaq31pm5-transformers-except-lib-transformers-except-0.1.4-haddock-doc/share/doc/transformers-except/html/src/Control.Monad.Trans.Except.Extra.html#hoistEither"><span class="hs-identifier hs-var">hoistEither</span></a></span><span> </span><span class="annot"><span class="annottext">(Either TxGenError (Tx era, Fund)
 -&gt; ExceptT TxGenError (RWST IOManager () Env IO) (Tx era, Fund))
-&gt; Either TxGenError (Tx era, Fund)
-&gt; ExceptT TxGenError (RWST IOManager () Env IO) (Tx era, Fund)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-306"></span><span>            </span><span class="annot"><span class="annottext">NetworkId
-&gt; ShelleyGenesis StandardCrypto
-&gt; SigningKey PaymentKey
-&gt; SigningKey PaymentKey
-&gt; TxGenTxParams
-&gt; Either TxGenError (Tx era, Fund)
forall era.
IsShelleyBasedEra era =&gt;
NetworkId
-&gt; ShelleyGenesis StandardCrypto
-&gt; SigningKey PaymentKey
-&gt; SigningKey PaymentKey
-&gt; TxGenTxParams
-&gt; Either TxGenError (Tx era, Fund)
</span><a href="Cardano.TxGenerator.Genesis.html#genesisSecureInitialFund"><span class="hs-identifier hs-var">Genesis.genesisSecureInitialFund</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621679816346"><span class="hs-identifier hs-var">networkId</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis StandardCrypto
</span><a href="#local-6989586621679816356"><span class="hs-identifier hs-var">genesis</span></a></span><span> </span><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679816360"><span class="hs-identifier hs-var">genesisKey</span></a></span><span> </span><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679816358"><span class="hs-identifier hs-var">destKey</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenTxParams
</span><a href="#local-6989586621679816341"><span class="hs-identifier hs-var">txParams</span></a></span><span>
</span><span id="line-307"></span><span>          </span><span class="hs-keyword">let</span><span>
</span><span id="line-308"></span><span>            </span><span id="local-6989586621679816366"><span class="annot"><span class="annottext">gen :: IO (Either TxGenError (Tx era))
</span><a href="#local-6989586621679816366"><span class="hs-identifier hs-var hs-var">gen</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-309"></span><span>              </span><span class="annot"><span class="annottext">WalletRef -&gt; Fund -&gt; IO ()
</span><a href="Cardano.Benchmarking.Wallet.html#walletRefInsertFund"><span class="hs-identifier hs-var">walletRefInsertFund</span></a></span><span> </span><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679816359"><span class="hs-identifier hs-var">destWallet</span></a></span><span> </span><span class="annot"><span class="annottext">Fund
</span><a href="#local-6989586621679816362"><span class="hs-identifier hs-var">fund</span></a></span><span>
</span><span id="line-310"></span><span>              </span><span class="annot"><span class="annottext">Either TxGenError (Tx era) -&gt; IO (Either TxGenError (Tx era))
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Either TxGenError (Tx era) -&gt; IO (Either TxGenError (Tx era)))
-&gt; Either TxGenError (Tx era) -&gt; IO (Either TxGenError (Tx era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era -&gt; Either TxGenError (Tx era)
forall a b. b -&gt; Either a b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Right"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621679816361"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-311"></span><span>          </span><span class="annot"><span class="annottext">TxStream IO era -&gt; ActionM (TxStream IO era)
forall a. a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(TxStream IO era -&gt; ActionM (TxStream IO era))
-&gt; TxStream IO era -&gt; ActionM (TxStream IO era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IO (TxStream IO era) -&gt; TxStream IO era
forall (m :: * -&gt; *) (f :: * -&gt; *) r.
(Monad m, Functor f) =&gt;
m (Stream f m r) -&gt; Stream f m r
</span><a href="file:///nix/store/wxfak5x5nml9hdfwan01apf0v81nglck-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Internal.html#effect"><span class="hs-identifier hs-var">Streaming.effect</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either TxGenError (Tx era) -&gt; TxStream IO era
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; Stream (Of a) m ()
</span><a href="file:///nix/store/wxfak5x5nml9hdfwan01apf0v81nglck-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Prelude.html#yield"><span class="hs-identifier hs-var">Streaming.yield</span></a></span><span> </span><span class="annot"><span class="annottext">(Either TxGenError (Tx era) -&gt; TxStream IO era)
-&gt; IO (Either TxGenError (Tx era)) -&gt; IO (TxStream IO era)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Either TxGenError (Tx era))
</span><a href="#local-6989586621679816366"><span class="hs-identifier hs-var">gen</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-312"></span><span>
</span><span id="line-313"></span><span>        </span><span class="hs-comment">-- 'Split' combines regular payments and payments for change.</span><span>
</span><span id="line-314"></span><span>        </span><span class="hs-comment">-- There are lists of payments buried in the 'PayWithChange'</span><span>
</span><span id="line-315"></span><span>        </span><span class="hs-comment">-- type conditionally sent back by 'Utils.includeChange', to</span><span>
</span><span id="line-316"></span><span>        </span><span class="hs-comment">-- then be used while partially applied as the @valueSplitter@</span><span>
</span><span id="line-317"></span><span>        </span><span class="hs-comment">-- in 'sourceToStoreTransactionNew'.</span><span>
</span><span id="line-318"></span><span>        </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#Split"><span class="hs-identifier hs-type">Split</span></a></span><span> </span><span id="local-6989586621679816370"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816370"><span class="hs-identifier hs-var">walletName</span></a></span></span><span> </span><span id="local-6989586621679816371"><span class="annot"><span class="annottext">PayMode
</span><a href="#local-6989586621679816371"><span class="hs-identifier hs-var">payMode</span></a></span></span><span> </span><span id="local-6989586621679816372"><span class="annot"><span class="annottext">PayMode
</span><a href="#local-6989586621679816372"><span class="hs-identifier hs-var">payModeChange</span></a></span></span><span> </span><span id="local-6989586621679816373"><span class="annot"><span class="annottext">[Lovelace]
</span><a href="#local-6989586621679816373"><span class="hs-identifier hs-var">coins</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-319"></span><span>          </span><span id="local-6989586621679816374"><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679816374"><span class="hs-identifier hs-var">wallet</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM WalletRef
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvWallets"><span class="hs-identifier hs-var">getEnvWallets</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816370"><span class="hs-identifier hs-var">walletName</span></a></span><span>
</span><span id="line-320"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621679816375"><span class="annot"><span class="annottext">CreateAndStore IO era
</span><a href="#local-6989586621679816375"><span class="hs-identifier hs-var">toUTxO</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679816376"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816376"><span class="hs-identifier hs-var">addressOut</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PayMode -&gt; ActionM (CreateAndStore IO era, [Char])
forall era.
IsShelleyBasedEra era =&gt;
PayMode -&gt; ActionM (CreateAndStore IO era, [Char])
</span><a href="Cardano.Benchmarking.Script.Core.html#interpretPayMode"><span class="hs-identifier hs-var">interpretPayMode</span></a></span><span> </span><span class="annot"><span class="annottext">PayMode
</span><a href="#local-6989586621679816371"><span class="hs-identifier hs-var">payMode</span></a></span><span>
</span><span id="line-321"></span><span>          </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceDebug"><span class="hs-identifier hs-var">traceDebug</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ActionM ()) -&gt; [Char] -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;split output address : &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816376"><span class="hs-identifier hs-var">addressOut</span></a></span><span>
</span><span id="line-322"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621679816378"><span class="annot"><span class="annottext">CreateAndStore IO era
</span><a href="#local-6989586621679816378"><span class="hs-identifier hs-var">toUTxOChange</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679816379"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816379"><span class="hs-identifier hs-var">addressChange</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PayMode -&gt; ActionM (CreateAndStore IO era, [Char])
forall era.
IsShelleyBasedEra era =&gt;
PayMode -&gt; ActionM (CreateAndStore IO era, [Char])
</span><a href="Cardano.Benchmarking.Script.Core.html#interpretPayMode"><span class="hs-identifier hs-var">interpretPayMode</span></a></span><span> </span><span class="annot"><span class="annottext">PayMode
</span><a href="#local-6989586621679816372"><span class="hs-identifier hs-var">payModeChange</span></a></span><span>
</span><span id="line-323"></span><span>          </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceDebug"><span class="hs-identifier hs-var">traceDebug</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ActionM ()) -&gt; [Char] -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;split change address : &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816379"><span class="hs-identifier hs-var">addressChange</span></a></span><span>
</span><span id="line-324"></span><span>          </span><span class="hs-keyword">let</span><span>
</span><span id="line-325"></span><span>            </span><span id="local-6989586621679816380"><span class="annot"><span class="annottext">fundSource :: FundSource IO
</span><a href="#local-6989586621679816380"><span class="hs-identifier hs-var hs-var">fundSource</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WalletRef -&gt; Int -&gt; FundSource IO
</span><a href="Cardano.Benchmarking.Wallet.html#walletSource"><span class="hs-identifier hs-var">walletSource</span></a></span><span> </span><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679816374"><span class="hs-identifier hs-var">wallet</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-326"></span><span>            </span><span id="local-6989586621679816382"><span class="annot"><span class="annottext">inToOut :: [Lovelace] -&gt; PayWithChange
</span><a href="#local-6989586621679816382"><span class="hs-identifier hs-var hs-var">inToOut</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Lovelace -&gt; [Lovelace] -&gt; [Lovelace] -&gt; PayWithChange
</span><a href="Cardano.TxGenerator.Utils.html#includeChange"><span class="hs-identifier hs-var">Utils.includeChange</span></a></span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621679816344"><span class="hs-identifier hs-var">fee</span></a></span><span> </span><span class="annot"><span class="annottext">[Lovelace]
</span><a href="#local-6989586621679816373"><span class="hs-identifier hs-var">coins</span></a></span><span>
</span><span id="line-327"></span><span>            </span><span id="local-6989586621679816384"><span class="annot"><span class="annottext">txGenerator :: TxGenerator era
</span><a href="#local-6989586621679816384"><span class="hs-identifier hs-var hs-var">txGenerator</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; LedgerProtocolParameters era
-&gt; (TxInsCollateral era, [Fund])
-&gt; TxFee era
-&gt; TxMetadataInEra era
-&gt; TxGenerator era
forall era.
IsShelleyBasedEra era =&gt;
ShelleyBasedEra era
-&gt; LedgerProtocolParameters era
-&gt; (TxInsCollateral era, [Fund])
-&gt; TxFee era
-&gt; TxMetadataInEra era
-&gt; TxGenerator era
</span><a href="Cardano.TxGenerator.Tx.html#genTx"><span class="hs-identifier hs-var">genTx</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
forall era. IsShelleyBasedEra era =&gt; ShelleyBasedEra era
</span><span class="hs-identifier hs-var">shelleyBasedEra</span></span><span> </span><span class="annot"><span class="annottext">LedgerProtocolParameters era
</span><a href="#local-6989586621679816351"><span class="hs-identifier hs-var">ledgerParameters</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxInsCollateral era
forall era. TxInsCollateral era
</span><span class="hs-identifier hs-var">TxInsCollateralNone</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TxFee era
</span><a href="#local-6989586621679816387"><span class="hs-identifier hs-var">feeInEra</span></a></span><span> </span><span class="annot"><span class="annottext">TxMetadataInEra era
forall era. TxMetadataInEra era
</span><span class="hs-identifier hs-var">TxMetadataNone</span></span><span>
</span><span id="line-328"></span><span>            </span><span id="local-6989586621679816388"><span class="annot"><span class="annottext">sourceToStore :: IO (Either TxGenError (Tx era))
</span><a href="#local-6989586621679816388"><span class="hs-identifier hs-var hs-var">sourceToStore</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxGenerator era
-&gt; FundSource IO
-&gt; ([Lovelace] -&gt; PayWithChange)
-&gt; CreateAndStoreList IO era PayWithChange
-&gt; IO (Either TxGenError (Tx era))
forall (m :: * -&gt; *) era split.
Monad m =&gt;
TxGenerator era
-&gt; FundSource m
-&gt; ([Lovelace] -&gt; split)
-&gt; CreateAndStoreList m era split
-&gt; m (Either TxGenError (Tx era))
</span><a href="Cardano.TxGenerator.Tx.html#sourceToStoreTransactionNew"><span class="hs-identifier hs-var">sourceToStoreTransactionNew</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenerator era
</span><a href="#local-6989586621679816384"><span class="hs-identifier hs-var">txGenerator</span></a></span><span> </span><span class="annot"><span class="annottext">FundSource IO
</span><a href="#local-6989586621679816380"><span class="hs-identifier hs-var">fundSource</span></a></span><span> </span><span class="annot"><span class="annottext">[Lovelace] -&gt; PayWithChange
</span><a href="#local-6989586621679816382"><span class="hs-identifier hs-var">inToOut</span></a></span><span> </span><span class="annot"><span class="annottext">(CreateAndStoreList IO era PayWithChange
 -&gt; IO (Either TxGenError (Tx era)))
-&gt; CreateAndStoreList IO era PayWithChange
-&gt; IO (Either TxGenError (Tx era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CreateAndStore IO era
-&gt; CreateAndStore IO era -&gt; CreateAndStoreList IO era PayWithChange
forall (m :: * -&gt; *) era.
Monad m =&gt;
CreateAndStore m era
-&gt; CreateAndStore m era -&gt; CreateAndStoreList m era PayWithChange
</span><a href="Cardano.Benchmarking.Wallet.html#mangleWithChange"><span class="hs-identifier hs-var">mangleWithChange</span></a></span><span> </span><span class="annot"><span class="annottext">CreateAndStore IO era
</span><a href="#local-6989586621679816378"><span class="hs-identifier hs-var">toUTxOChange</span></a></span><span> </span><span class="annot"><span class="annottext">CreateAndStore IO era
</span><a href="#local-6989586621679816375"><span class="hs-identifier hs-var">toUTxO</span></a></span><span>
</span><span id="line-329"></span><span>          </span><span class="annot"><span class="annottext">TxStream IO era -&gt; ActionM (TxStream IO era)
forall a. a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(TxStream IO era -&gt; ActionM (TxStream IO era))
-&gt; TxStream IO era -&gt; ActionM (TxStream IO era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IO (TxStream IO era) -&gt; TxStream IO era
forall (m :: * -&gt; *) (f :: * -&gt; *) r.
(Monad m, Functor f) =&gt;
m (Stream f m r) -&gt; Stream f m r
</span><a href="file:///nix/store/wxfak5x5nml9hdfwan01apf0v81nglck-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Internal.html#effect"><span class="hs-identifier hs-var">Streaming.effect</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either TxGenError (Tx era) -&gt; TxStream IO era
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; Stream (Of a) m ()
</span><a href="file:///nix/store/wxfak5x5nml9hdfwan01apf0v81nglck-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Prelude.html#yield"><span class="hs-identifier hs-var">Streaming.yield</span></a></span><span> </span><span class="annot"><span class="annottext">(Either TxGenError (Tx era) -&gt; TxStream IO era)
-&gt; IO (Either TxGenError (Tx era)) -&gt; IO (TxStream IO era)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Either TxGenError (Tx era))
</span><a href="#local-6989586621679816388"><span class="hs-identifier hs-var">sourceToStore</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-330"></span><span>
</span><span id="line-331"></span><span>        </span><span class="hs-comment">-- The 'SplitN' case's call chain is somewhat elaborate.</span><span>
</span><span id="line-332"></span><span>        </span><span class="hs-comment">-- The division is done in 'Utils.inputsToOutputsWithFee'</span><span>
</span><span id="line-333"></span><span>        </span><span class="hs-comment">-- but things are threaded through</span><span>
</span><span id="line-334"></span><span>        </span><span class="hs-comment">-- 'Cardano.Benchmarking.Wallet.mangle' and packed into</span><span>
</span><span id="line-335"></span><span>        </span><span class="hs-comment">-- the transaction assembled by 'sourceToStoreTransactionNew'.</span><span>
</span><span id="line-336"></span><span>        </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#SplitN"><span class="hs-identifier hs-type">SplitN</span></a></span><span> </span><span id="local-6989586621679816392"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816392"><span class="hs-identifier hs-var">walletName</span></a></span></span><span> </span><span id="local-6989586621679816393"><span class="annot"><span class="annottext">PayMode
</span><a href="#local-6989586621679816393"><span class="hs-identifier hs-var">payMode</span></a></span></span><span> </span><span id="local-6989586621679816394"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679816394"><span class="hs-identifier hs-var">count</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-337"></span><span>          </span><span id="local-6989586621679816395"><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679816395"><span class="hs-identifier hs-var">wallet</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM WalletRef
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvWallets"><span class="hs-identifier hs-var">getEnvWallets</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816392"><span class="hs-identifier hs-var">walletName</span></a></span><span>
</span><span id="line-338"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621679816396"><span class="annot"><span class="annottext">CreateAndStore IO era
</span><a href="#local-6989586621679816396"><span class="hs-identifier hs-var">toUTxO</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679816397"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816397"><span class="hs-identifier hs-var">addressOut</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PayMode -&gt; ActionM (CreateAndStore IO era, [Char])
forall era.
IsShelleyBasedEra era =&gt;
PayMode -&gt; ActionM (CreateAndStore IO era, [Char])
</span><a href="Cardano.Benchmarking.Script.Core.html#interpretPayMode"><span class="hs-identifier hs-var">interpretPayMode</span></a></span><span> </span><span class="annot"><span class="annottext">PayMode
</span><a href="#local-6989586621679816393"><span class="hs-identifier hs-var">payMode</span></a></span><span>
</span><span id="line-339"></span><span>          </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceDebug"><span class="hs-identifier hs-var">traceDebug</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ActionM ()) -&gt; [Char] -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;SplitN output address : &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816397"><span class="hs-identifier hs-var">addressOut</span></a></span><span>
</span><span id="line-340"></span><span>          </span><span class="hs-keyword">let</span><span>
</span><span id="line-341"></span><span>            </span><span id="local-6989586621679816398"><span class="annot"><span class="annottext">fundSource :: FundSource IO
</span><a href="#local-6989586621679816398"><span class="hs-identifier hs-var hs-var">fundSource</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WalletRef -&gt; Int -&gt; FundSource IO
</span><a href="Cardano.Benchmarking.Wallet.html#walletSource"><span class="hs-identifier hs-var">walletSource</span></a></span><span> </span><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679816395"><span class="hs-identifier hs-var">wallet</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-342"></span><span>            </span><span id="local-6989586621679816399"><span class="annot"><span class="annottext">inToOut :: [Lovelace] -&gt; [Lovelace]
</span><a href="#local-6989586621679816399"><span class="hs-identifier hs-var hs-var">inToOut</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Lovelace -&gt; Int -&gt; [Lovelace] -&gt; [Lovelace]
</span><a href="Cardano.TxGenerator.Utils.html#inputsToOutputsWithFee"><span class="hs-identifier hs-var">Utils.inputsToOutputsWithFee</span></a></span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621679816344"><span class="hs-identifier hs-var">fee</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679816394"><span class="hs-identifier hs-var">count</span></a></span><span>
</span><span id="line-343"></span><span>            </span><span id="local-6989586621679816401"><span class="annot"><span class="annottext">txGenerator :: TxGenerator era
</span><a href="#local-6989586621679816401"><span class="hs-identifier hs-var hs-var">txGenerator</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; LedgerProtocolParameters era
-&gt; (TxInsCollateral era, [Fund])
-&gt; TxFee era
-&gt; TxMetadataInEra era
-&gt; TxGenerator era
forall era.
IsShelleyBasedEra era =&gt;
ShelleyBasedEra era
-&gt; LedgerProtocolParameters era
-&gt; (TxInsCollateral era, [Fund])
-&gt; TxFee era
-&gt; TxMetadataInEra era
-&gt; TxGenerator era
</span><a href="Cardano.TxGenerator.Tx.html#genTx"><span class="hs-identifier hs-var">genTx</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
forall era. IsShelleyBasedEra era =&gt; ShelleyBasedEra era
</span><span class="hs-identifier hs-var">shelleyBasedEra</span></span><span> </span><span class="annot"><span class="annottext">LedgerProtocolParameters era
</span><a href="#local-6989586621679816351"><span class="hs-identifier hs-var">ledgerParameters</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxInsCollateral era
forall era. TxInsCollateral era
</span><span class="hs-identifier hs-var">TxInsCollateralNone</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TxFee era
</span><a href="#local-6989586621679816387"><span class="hs-identifier hs-var">feeInEra</span></a></span><span> </span><span class="annot"><span class="annottext">TxMetadataInEra era
forall era. TxMetadataInEra era
</span><span class="hs-identifier hs-var">TxMetadataNone</span></span><span>
</span><span id="line-344"></span><span>            </span><span id="local-6989586621679816402"><span class="annot"><span class="annottext">sourceToStore :: IO (Either TxGenError (Tx era))
</span><a href="#local-6989586621679816402"><span class="hs-identifier hs-var hs-var">sourceToStore</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxGenerator era
-&gt; FundSource IO
-&gt; ([Lovelace] -&gt; [Lovelace])
-&gt; CreateAndStoreList IO era [Lovelace]
-&gt; IO (Either TxGenError (Tx era))
forall (m :: * -&gt; *) era split.
Monad m =&gt;
TxGenerator era
-&gt; FundSource m
-&gt; ([Lovelace] -&gt; split)
-&gt; CreateAndStoreList m era split
-&gt; m (Either TxGenError (Tx era))
</span><a href="Cardano.TxGenerator.Tx.html#sourceToStoreTransactionNew"><span class="hs-identifier hs-var">sourceToStoreTransactionNew</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenerator era
</span><a href="#local-6989586621679816401"><span class="hs-identifier hs-var">txGenerator</span></a></span><span> </span><span class="annot"><span class="annottext">FundSource IO
</span><a href="#local-6989586621679816398"><span class="hs-identifier hs-var">fundSource</span></a></span><span> </span><span class="annot"><span class="annottext">[Lovelace] -&gt; [Lovelace]
</span><a href="#local-6989586621679816399"><span class="hs-identifier hs-var">inToOut</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[CreateAndStore IO era] -&gt; CreateAndStoreList IO era [Lovelace]
forall (m :: * -&gt; *) era.
Monad m =&gt;
[CreateAndStore m era] -&gt; CreateAndStoreList m era [Lovelace]
</span><a href="Cardano.Benchmarking.Wallet.html#mangle"><span class="hs-identifier hs-var">mangle</span></a></span><span> </span><span class="annot"><span class="annottext">([CreateAndStore IO era] -&gt; CreateAndStoreList IO era [Lovelace])
-&gt; [CreateAndStore IO era] -&gt; CreateAndStoreList IO era [Lovelace]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CreateAndStore IO era -&gt; [CreateAndStore IO era]
forall a. a -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.List.html#repeat"><span class="hs-identifier hs-var">repeat</span></a></span><span> </span><span class="annot"><span class="annottext">CreateAndStore IO era
</span><a href="#local-6989586621679816396"><span class="hs-identifier hs-var">toUTxO</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-345"></span><span>          </span><span class="annot"><span class="annottext">TxStream IO era -&gt; ActionM (TxStream IO era)
forall a. a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(TxStream IO era -&gt; ActionM (TxStream IO era))
-&gt; TxStream IO era -&gt; ActionM (TxStream IO era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IO (TxStream IO era) -&gt; TxStream IO era
forall (m :: * -&gt; *) (f :: * -&gt; *) r.
(Monad m, Functor f) =&gt;
m (Stream f m r) -&gt; Stream f m r
</span><a href="file:///nix/store/wxfak5x5nml9hdfwan01apf0v81nglck-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Internal.html#effect"><span class="hs-identifier hs-var">Streaming.effect</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either TxGenError (Tx era) -&gt; TxStream IO era
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; Stream (Of a) m ()
</span><a href="file:///nix/store/wxfak5x5nml9hdfwan01apf0v81nglck-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Prelude.html#yield"><span class="hs-identifier hs-var">Streaming.yield</span></a></span><span> </span><span class="annot"><span class="annottext">(Either TxGenError (Tx era) -&gt; TxStream IO era)
-&gt; IO (Either TxGenError (Tx era)) -&gt; IO (TxStream IO era)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Either TxGenError (Tx era))
</span><a href="#local-6989586621679816402"><span class="hs-identifier hs-var">sourceToStore</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-346"></span><span>
</span><span id="line-347"></span><span>        </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#NtoM"><span class="hs-identifier hs-type">NtoM</span></a></span><span> </span><span id="local-6989586621679816406"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816406"><span class="hs-identifier hs-var">walletName</span></a></span></span><span> </span><span id="local-6989586621679816407"><span class="annot"><span class="annottext">PayMode
</span><a href="#local-6989586621679816407"><span class="hs-identifier hs-var">payMode</span></a></span></span><span> </span><span id="local-6989586621679816408"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679816408"><span class="hs-identifier hs-var">inputs</span></a></span></span><span> </span><span id="local-6989586621679816409"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679816409"><span class="hs-identifier hs-var">outputs</span></a></span></span><span> </span><span id="local-6989586621679816410"><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621679816410"><span class="hs-identifier hs-var">metadataSize</span></a></span></span><span> </span><span id="local-6989586621679816411"><span class="annot"><span class="annottext">Maybe [Char]
</span><a href="#local-6989586621679816411"><span class="hs-identifier hs-var">collateralWallet</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-348"></span><span>          </span><span id="local-6989586621679816412"><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679816412"><span class="hs-identifier hs-var">wallet</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM WalletRef
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvWallets"><span class="hs-identifier hs-var">getEnvWallets</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816406"><span class="hs-identifier hs-var">walletName</span></a></span><span>
</span><span id="line-349"></span><span>          </span><span id="local-6989586621679816413"><span class="annot"><span class="annottext">(TxInsCollateral era, [Fund])
</span><a href="#local-6989586621679816413"><span class="hs-identifier hs-var">collaterals</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe [Char] -&gt; ActionM (TxInsCollateral era, [Fund])
forall era.
IsShelleyBasedEra era =&gt;
Maybe [Char] -&gt; ActionM (TxInsCollateral era, [Fund])
</span><a href="Cardano.Benchmarking.Script.Core.html#selectCollateralFunds"><span class="hs-identifier hs-var">selectCollateralFunds</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [Char]
</span><a href="#local-6989586621679816411"><span class="hs-identifier hs-var">collateralWallet</span></a></span><span>
</span><span id="line-350"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621679816415"><span class="annot"><span class="annottext">CreateAndStore IO era
</span><a href="#local-6989586621679816415"><span class="hs-identifier hs-var">toUTxO</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679816416"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816416"><span class="hs-identifier hs-var">addressOut</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PayMode -&gt; ActionM (CreateAndStore IO era, [Char])
forall era.
IsShelleyBasedEra era =&gt;
PayMode -&gt; ActionM (CreateAndStore IO era, [Char])
</span><a href="Cardano.Benchmarking.Script.Core.html#interpretPayMode"><span class="hs-identifier hs-var">interpretPayMode</span></a></span><span> </span><span class="annot"><span class="annottext">PayMode
</span><a href="#local-6989586621679816407"><span class="hs-identifier hs-var">payMode</span></a></span><span>
</span><span id="line-351"></span><span>          </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceDebug"><span class="hs-identifier hs-var">traceDebug</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ActionM ()) -&gt; [Char] -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;NtoM output address : &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816416"><span class="hs-identifier hs-var">addressOut</span></a></span><span>
</span><span id="line-352"></span><span>          </span><span class="hs-keyword">let</span><span>
</span><span id="line-353"></span><span>            </span><span id="local-6989586621679816417"><span class="annot"><span class="annottext">fundSource :: FundSource IO
</span><a href="#local-6989586621679816417"><span class="hs-identifier hs-var hs-var">fundSource</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WalletRef -&gt; Int -&gt; FundSource IO
</span><a href="Cardano.Benchmarking.Wallet.html#walletSource"><span class="hs-identifier hs-var">walletSource</span></a></span><span> </span><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679816412"><span class="hs-identifier hs-var">wallet</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679816408"><span class="hs-identifier hs-var">inputs</span></a></span><span>
</span><span id="line-354"></span><span>            </span><span id="local-6989586621679816418"><span class="annot"><span class="annottext">inToOut :: [Lovelace] -&gt; [Lovelace]
</span><a href="#local-6989586621679816418"><span class="hs-identifier hs-var hs-var">inToOut</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Lovelace -&gt; Int -&gt; [Lovelace] -&gt; [Lovelace]
</span><a href="Cardano.TxGenerator.Utils.html#inputsToOutputsWithFee"><span class="hs-identifier hs-var">Utils.inputsToOutputsWithFee</span></a></span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621679816344"><span class="hs-identifier hs-var">fee</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679816409"><span class="hs-identifier hs-var">outputs</span></a></span><span>
</span><span id="line-355"></span><span>            </span><span id="local-6989586621679816419"><span class="annot"><span class="annottext">txGenerator :: TxGenerator era
</span><a href="#local-6989586621679816419"><span class="hs-identifier hs-var hs-var">txGenerator</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; LedgerProtocolParameters era
-&gt; (TxInsCollateral era, [Fund])
-&gt; TxFee era
-&gt; TxMetadataInEra era
-&gt; TxGenerator era
forall era.
IsShelleyBasedEra era =&gt;
ShelleyBasedEra era
-&gt; LedgerProtocolParameters era
-&gt; (TxInsCollateral era, [Fund])
-&gt; TxFee era
-&gt; TxMetadataInEra era
-&gt; TxGenerator era
</span><a href="Cardano.TxGenerator.Tx.html#genTx"><span class="hs-identifier hs-var">genTx</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
forall era. IsShelleyBasedEra era =&gt; ShelleyBasedEra era
</span><span class="hs-identifier hs-var">shelleyBasedEra</span></span><span> </span><span class="annot"><span class="annottext">LedgerProtocolParameters era
</span><a href="#local-6989586621679816351"><span class="hs-identifier hs-var">ledgerParameters</span></a></span><span> </span><span class="annot"><span class="annottext">(TxInsCollateral era, [Fund])
</span><a href="#local-6989586621679816413"><span class="hs-identifier hs-var">collaterals</span></a></span><span> </span><span class="annot"><span class="annottext">TxFee era
</span><a href="#local-6989586621679816387"><span class="hs-identifier hs-var">feeInEra</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Int -&gt; TxMetadataInEra era
forall era.
IsShelleyBasedEra era =&gt;
Maybe Int -&gt; TxMetadataInEra era
</span><a href="Cardano.Benchmarking.Script.Core.html#toMetadata"><span class="hs-identifier hs-var">toMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621679816410"><span class="hs-identifier hs-var">metadataSize</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-356"></span><span>            </span><span id="local-6989586621679816420"><span class="annot"><span class="annottext">sourceToStore :: IO (Either TxGenError (Tx era))
</span><a href="#local-6989586621679816420"><span class="hs-identifier hs-var hs-var">sourceToStore</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxGenerator era
-&gt; FundSource IO
-&gt; ([Lovelace] -&gt; [Lovelace])
-&gt; CreateAndStoreList IO era [Lovelace]
-&gt; IO (Either TxGenError (Tx era))
forall (m :: * -&gt; *) era split.
Monad m =&gt;
TxGenerator era
-&gt; FundSource m
-&gt; ([Lovelace] -&gt; split)
-&gt; CreateAndStoreList m era split
-&gt; m (Either TxGenError (Tx era))
</span><a href="Cardano.TxGenerator.Tx.html#sourceToStoreTransactionNew"><span class="hs-identifier hs-var">sourceToStoreTransactionNew</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenerator era
</span><a href="#local-6989586621679816419"><span class="hs-identifier hs-var">txGenerator</span></a></span><span> </span><span class="annot"><span class="annottext">FundSource IO
</span><a href="#local-6989586621679816417"><span class="hs-identifier hs-var">fundSource</span></a></span><span> </span><span class="annot"><span class="annottext">[Lovelace] -&gt; [Lovelace]
</span><a href="#local-6989586621679816418"><span class="hs-identifier hs-var">inToOut</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[CreateAndStore IO era] -&gt; CreateAndStoreList IO era [Lovelace]
forall (m :: * -&gt; *) era.
Monad m =&gt;
[CreateAndStore m era] -&gt; CreateAndStoreList m era [Lovelace]
</span><a href="Cardano.Benchmarking.Wallet.html#mangle"><span class="hs-identifier hs-var">mangle</span></a></span><span> </span><span class="annot"><span class="annottext">([CreateAndStore IO era] -&gt; CreateAndStoreList IO era [Lovelace])
-&gt; [CreateAndStore IO era] -&gt; CreateAndStoreList IO era [Lovelace]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CreateAndStore IO era -&gt; [CreateAndStore IO era]
forall a. a -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.List.html#repeat"><span class="hs-identifier hs-var">repeat</span></a></span><span> </span><span class="annot"><span class="annottext">CreateAndStore IO era
</span><a href="#local-6989586621679816415"><span class="hs-identifier hs-var">toUTxO</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-357"></span><span>
</span><span id="line-358"></span><span>          </span><span id="local-6989586621679816421"><span class="annot"><span class="annottext">[Fund]
</span><a href="#local-6989586621679816421"><span class="hs-identifier hs-var">fundPreview</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO [Fund] -&gt; ExceptT Error (RWST IOManager () Env IO) [Fund]
forall a. IO a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO [Fund] -&gt; ExceptT Error (RWST IOManager () Env IO) [Fund])
-&gt; IO [Fund] -&gt; ExceptT Error (RWST IOManager () Env IO) [Fund]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">WalletRef -&gt; Int -&gt; IO [Fund]
</span><a href="Cardano.Benchmarking.Wallet.html#walletPreview"><span class="hs-identifier hs-var">walletPreview</span></a></span><span> </span><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679816412"><span class="hs-identifier hs-var">wallet</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679816408"><span class="hs-identifier hs-var">inputs</span></a></span><span>
</span><span id="line-359"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TxGenerator era
-&gt; [Fund]
-&gt; ([Lovelace] -&gt; [Lovelace])
-&gt; CreateAndStoreList IO era [Lovelace]
-&gt; Either TxGenError (Tx era)
forall era split (m :: * -&gt; *).
TxGenerator era
-&gt; [Fund]
-&gt; ([Lovelace] -&gt; split)
-&gt; CreateAndStoreList m era split
-&gt; Either TxGenError (Tx era)
</span><a href="Cardano.TxGenerator.Tx.html#sourceTransactionPreview"><span class="hs-identifier hs-var">sourceTransactionPreview</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenerator era
</span><a href="#local-6989586621679816419"><span class="hs-identifier hs-var">txGenerator</span></a></span><span> </span><span class="annot"><span class="annottext">[Fund]
</span><a href="#local-6989586621679816421"><span class="hs-identifier hs-var">fundPreview</span></a></span><span> </span><span class="annot"><span class="annottext">[Lovelace] -&gt; [Lovelace]
</span><a href="#local-6989586621679816418"><span class="hs-identifier hs-var">inToOut</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[CreateAndStore IO era] -&gt; CreateAndStoreList IO era [Lovelace]
forall (m :: * -&gt; *) era.
Monad m =&gt;
[CreateAndStore m era] -&gt; CreateAndStoreList m era [Lovelace]
</span><a href="Cardano.Benchmarking.Wallet.html#mangle"><span class="hs-identifier hs-var">mangle</span></a></span><span> </span><span class="annot"><span class="annottext">([CreateAndStore IO era] -&gt; CreateAndStoreList IO era [Lovelace])
-&gt; [CreateAndStore IO era] -&gt; CreateAndStoreList IO era [Lovelace]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CreateAndStore IO era -&gt; [CreateAndStore IO era]
forall a. a -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.List.html#repeat"><span class="hs-identifier hs-var">repeat</span></a></span><span> </span><span class="annot"><span class="annottext">CreateAndStore IO era
</span><a href="#local-6989586621679816415"><span class="hs-identifier hs-var">toUTxO</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-360"></span><span>            </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679816424"><span class="annot"><span class="annottext">TxGenError
</span><a href="#local-6989586621679816424"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceDebug"><span class="hs-identifier hs-var">traceDebug</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ActionM ()) -&gt; [Char] -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Error creating Tx preview: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenError -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenError
</span><a href="#local-6989586621679816424"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-361"></span><span>            </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679816425"><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621679816425"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-362"></span><span>              </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679816426"><span class="annot"><span class="annottext">txSize :: Int
</span><a href="#local-6989586621679816426"><span class="hs-identifier hs-var hs-var">txSize</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tx era -&gt; Int
forall era. IsShelleyBasedEra era =&gt; Tx era -&gt; Int
</span><a href="Cardano.TxGenerator.Tx.html#txSizeInBytes"><span class="hs-identifier hs-var">txSizeInBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621679816425"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-363"></span><span>              </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceDebug"><span class="hs-identifier hs-var">traceDebug</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ActionM ()) -&gt; [Char] -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Projected Tx size in bytes: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679816426"><span class="hs-identifier hs-var">txSize</span></a></span><span>
</span><span id="line-364"></span><span>              </span><span id="local-6989586621679816428"><span class="annot"><span class="annottext">Maybe PlutusBudgetSummary
</span><a href="#local-6989586621679816428"><span class="hs-identifier hs-var">summary_</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM (Maybe PlutusBudgetSummary)
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvSummary"><span class="hs-identifier hs-var">getEnvSummary</span></a></span><span>
</span><span id="line-365"></span><span>              </span><span class="annot"><span class="annottext">Maybe PlutusBudgetSummary
-&gt; (PlutusBudgetSummary -&gt; ActionM ()) -&gt; ActionM ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m ()
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Foldable.html#forM_"><span class="hs-identifier hs-var">forM_</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe PlutusBudgetSummary
</span><a href="#local-6989586621679816428"><span class="hs-identifier hs-var">summary_</span></a></span><span> </span><span class="annot"><span class="annottext">((PlutusBudgetSummary -&gt; ActionM ()) -&gt; ActionM ())
-&gt; (PlutusBudgetSummary -&gt; ActionM ()) -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679816431"><span class="annot"><span class="annottext">PlutusBudgetSummary
</span><a href="#local-6989586621679816431"><span class="hs-identifier hs-var">summary</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-366"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679816432"><span class="annot"><span class="annottext">summary' :: PlutusBudgetSummary
</span><a href="#local-6989586621679816432"><span class="hs-identifier hs-var hs-var">summary'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PlutusBudgetSummary
</span><a href="#local-6989586621679816431"><span class="hs-identifier hs-var">summary</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cardano.TxGenerator.PlutusContext.html#projectedTxSize"><span class="hs-identifier hs-var">projectedTxSize</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679816426"><span class="hs-identifier hs-type">txSize</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-367"></span><span>                </span><span class="annot"><span class="annottext">PlutusBudgetSummary -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#setEnvSummary"><span class="hs-identifier hs-var">setEnvSummary</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusBudgetSummary
</span><a href="#local-6989586621679816432"><span class="hs-identifier hs-var">summary'</span></a></span><span>
</span><span id="line-368"></span><span>                </span><span class="annot"><span class="annottext">(forall txId. PlutusBudgetSummary -&gt; TraceBenchTxSubmit txId)
-&gt; PlutusBudgetSummary -&gt; ActionM ()
forall x.
(forall txId. x -&gt; TraceBenchTxSubmit txId) -&gt; x -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceBenchTxSubmit"><span class="hs-identifier hs-var">traceBenchTxSubmit</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusBudgetSummary -&gt; TraceBenchTxSubmit txId
forall txId. PlutusBudgetSummary -&gt; TraceBenchTxSubmit txId
</span><a href="Cardano.Benchmarking.LogTypes.html#TraceBenchPlutusBudgetSummary"><span class="hs-identifier hs-var">TraceBenchPlutusBudgetSummary</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusBudgetSummary
</span><a href="#local-6989586621679816432"><span class="hs-identifier hs-var">summary'</span></a></span><span>
</span><span id="line-369"></span><span>              </span><span class="annot"><span class="annottext">ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#dumpBudgetSummaryIfExisting"><span class="hs-identifier hs-var">dumpBudgetSummaryIfExisting</span></a></span><span>
</span><span id="line-370"></span><span>
</span><span id="line-371"></span><span>          </span><span class="annot"><span class="annottext">TxStream IO era -&gt; ActionM (TxStream IO era)
forall a. a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(TxStream IO era -&gt; ActionM (TxStream IO era))
-&gt; TxStream IO era -&gt; ActionM (TxStream IO era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IO (TxStream IO era) -&gt; TxStream IO era
forall (m :: * -&gt; *) (f :: * -&gt; *) r.
(Monad m, Functor f) =&gt;
m (Stream f m r) -&gt; Stream f m r
</span><a href="file:///nix/store/wxfak5x5nml9hdfwan01apf0v81nglck-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Internal.html#effect"><span class="hs-identifier hs-var">Streaming.effect</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either TxGenError (Tx era) -&gt; TxStream IO era
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; Stream (Of a) m ()
</span><a href="file:///nix/store/wxfak5x5nml9hdfwan01apf0v81nglck-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Prelude.html#yield"><span class="hs-identifier hs-var">Streaming.yield</span></a></span><span> </span><span class="annot"><span class="annottext">(Either TxGenError (Tx era) -&gt; TxStream IO era)
-&gt; IO (Either TxGenError (Tx era)) -&gt; IO (TxStream IO era)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Either TxGenError (Tx era))
</span><a href="#local-6989586621679816420"><span class="hs-identifier hs-var">sourceToStore</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-372"></span><span>
</span><span id="line-373"></span><span>        </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#Sequence"><span class="hs-identifier hs-type">Sequence</span></a></span><span> </span><span id="local-6989586621679816439"><span class="annot"><span class="annottext">[Generator]
</span><a href="#local-6989586621679816439"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-374"></span><span>          </span><span id="local-6989586621679816440"><span class="annot"><span class="annottext">[TxStream IO era]
</span><a href="#local-6989586621679816440"><span class="hs-identifier hs-var">gList</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Generator]
-&gt; (Generator -&gt; ActionM (TxStream IO era))
-&gt; ExceptT Error (RWST IOManager () Env IO) [TxStream IO era]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Traversable.html#forM"><span class="hs-identifier hs-var">forM</span></a></span><span> </span><span class="annot"><span class="annottext">[Generator]
</span><a href="#local-6989586621679816439"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">((Generator -&gt; ActionM (TxStream IO era))
 -&gt; ExceptT Error (RWST IOManager () Env IO) [TxStream IO era])
-&gt; (Generator -&gt; ActionM (TxStream IO era))
-&gt; ExceptT Error (RWST IOManager () Env IO) [TxStream IO era]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679816442"><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679816442"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Generator
-&gt; TxGenTxParams -&gt; AsType era -&gt; ActionM (TxStream IO era)
forall era.
IsShelleyBasedEra era =&gt;
Generator
-&gt; TxGenTxParams -&gt; AsType era -&gt; ActionM (TxStream IO era)
</span><a href="Cardano.Benchmarking.Script.Core.html#evalGenerator"><span class="hs-identifier hs-var">evalGenerator</span></a></span><span> </span><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679816442"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenTxParams
</span><a href="#local-6989586621679816341"><span class="hs-identifier hs-var">txParams</span></a></span><span> </span><span class="annot"><span class="annottext">AsType era
</span><a href="#local-6989586621679816345"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-375"></span><span>          </span><span class="annot"><span class="annottext">TxStream IO era -&gt; ActionM (TxStream IO era)
forall a. a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(TxStream IO era -&gt; ActionM (TxStream IO era))
-&gt; TxStream IO era -&gt; ActionM (TxStream IO era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Stream (Of (TxStream IO era)) IO ()
-&gt; (TxStream IO era -&gt; TxStream IO era) -&gt; TxStream IO era
forall (m :: * -&gt; *) (f :: * -&gt; *) a r x.
(Monad m, Functor f) =&gt;
Stream (Of a) m r -&gt; (a -&gt; Stream f m x) -&gt; Stream f m r
</span><a href="file:///nix/store/wxfak5x5nml9hdfwan01apf0v81nglck-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Prelude.html#for"><span class="hs-identifier hs-var">Streaming.for</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[TxStream IO era] -&gt; Stream (Of (TxStream IO era)) IO ()
forall (m :: * -&gt; *) (f :: * -&gt; *) a.
(Monad m, Foldable f) =&gt;
f a -&gt; Stream (Of a) m ()
</span><a href="file:///nix/store/wxfak5x5nml9hdfwan01apf0v81nglck-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Prelude.html#each"><span class="hs-identifier hs-var">Streaming.each</span></a></span><span> </span><span class="annot"><span class="annottext">[TxStream IO era]
</span><a href="#local-6989586621679816440"><span class="hs-identifier hs-var">gList</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TxStream IO era -&gt; TxStream IO era
forall a. a -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#id"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-376"></span><span>
</span><span id="line-377"></span><span>        </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#Cycle"><span class="hs-identifier hs-type">Cycle</span></a></span><span> </span><span id="local-6989586621679816447"><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679816447"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxStream IO era -&gt; TxStream IO era
forall (m :: * -&gt; *) (f :: * -&gt; *) r s.
(Monad m, Functor f) =&gt;
Stream f m r -&gt; Stream f m s
</span><a href="file:///nix/store/wxfak5x5nml9hdfwan01apf0v81nglck-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Prelude.html#cycle"><span class="hs-identifier hs-var">Streaming.cycle</span></a></span><span> </span><span class="annot"><span class="annottext">(TxStream IO era -&gt; TxStream IO era)
-&gt; ActionM (TxStream IO era) -&gt; ActionM (TxStream IO era)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Generator
-&gt; TxGenTxParams -&gt; AsType era -&gt; ActionM (TxStream IO era)
forall era.
IsShelleyBasedEra era =&gt;
Generator
-&gt; TxGenTxParams -&gt; AsType era -&gt; ActionM (TxStream IO era)
</span><a href="Cardano.Benchmarking.Script.Core.html#evalGenerator"><span class="hs-identifier hs-var">evalGenerator</span></a></span><span> </span><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679816447"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenTxParams
</span><a href="#local-6989586621679816341"><span class="hs-identifier hs-var">txParams</span></a></span><span> </span><span class="annot"><span class="annottext">AsType era
</span><a href="#local-6989586621679816345"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-378"></span><span>
</span><span id="line-379"></span><span>        </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#Take"><span class="hs-identifier hs-type">Take</span></a></span><span> </span><span id="local-6989586621679816450"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679816450"><span class="hs-identifier hs-var">count</span></a></span></span><span> </span><span id="local-6989586621679816451"><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679816451"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; TxStream IO era -&gt; TxStream IO era
forall (m :: * -&gt; *) (f :: * -&gt; *) r.
(Monad m, Functor f) =&gt;
Int -&gt; Stream f m r -&gt; Stream f m ()
</span><a href="file:///nix/store/wxfak5x5nml9hdfwan01apf0v81nglck-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Prelude.html#take"><span class="hs-identifier hs-var">Streaming.take</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679816450"><span class="hs-identifier hs-var">count</span></a></span><span> </span><span class="annot"><span class="annottext">(TxStream IO era -&gt; TxStream IO era)
-&gt; ActionM (TxStream IO era) -&gt; ActionM (TxStream IO era)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Generator
-&gt; TxGenTxParams -&gt; AsType era -&gt; ActionM (TxStream IO era)
forall era.
IsShelleyBasedEra era =&gt;
Generator
-&gt; TxGenTxParams -&gt; AsType era -&gt; ActionM (TxStream IO era)
</span><a href="Cardano.Benchmarking.Script.Core.html#evalGenerator"><span class="hs-identifier hs-var">evalGenerator</span></a></span><span> </span><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679816451"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenTxParams
</span><a href="#local-6989586621679816341"><span class="hs-identifier hs-var">txParams</span></a></span><span> </span><span class="annot"><span class="annottext">AsType era
</span><a href="#local-6989586621679816345"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-380"></span><span>
</span><span id="line-381"></span><span>        </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#RoundRobin"><span class="hs-identifier hs-type">RoundRobin</span></a></span><span> </span><span id="local-6989586621679816454"><span class="annot"><span class="annottext">[Generator]
</span><a href="#local-6989586621679816454"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-382"></span><span>          </span><span id="local-6989586621679816455"><span class="annot"><span class="annottext">[TxStream IO era]
</span><a href="#local-6989586621679816455"><span class="hs-identifier hs-var">_gList</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Generator]
-&gt; (Generator -&gt; ActionM (TxStream IO era))
-&gt; ExceptT Error (RWST IOManager () Env IO) [TxStream IO era]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Traversable.html#forM"><span class="hs-identifier hs-var">forM</span></a></span><span> </span><span class="annot"><span class="annottext">[Generator]
</span><a href="#local-6989586621679816454"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">((Generator -&gt; ActionM (TxStream IO era))
 -&gt; ExceptT Error (RWST IOManager () Env IO) [TxStream IO era])
-&gt; (Generator -&gt; ActionM (TxStream IO era))
-&gt; ExceptT Error (RWST IOManager () Env IO) [TxStream IO era]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679816456"><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679816456"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Generator
-&gt; TxGenTxParams -&gt; AsType era -&gt; ActionM (TxStream IO era)
forall era.
IsShelleyBasedEra era =&gt;
Generator
-&gt; TxGenTxParams -&gt; AsType era -&gt; ActionM (TxStream IO era)
</span><a href="Cardano.Benchmarking.Script.Core.html#evalGenerator"><span class="hs-identifier hs-var">evalGenerator</span></a></span><span> </span><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679816456"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenTxParams
</span><a href="#local-6989586621679816341"><span class="hs-identifier hs-var">txParams</span></a></span><span> </span><span class="annot"><span class="annottext">AsType era
</span><a href="#local-6989586621679816345"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-383"></span><span>          </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM (TxStream IO era)
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;return $ foldr1 Streaming.interleaves gList&quot;</span></span><span>
</span><span id="line-384"></span><span>
</span><span id="line-385"></span><span>        </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#OneOf"><span class="hs-identifier hs-type">OneOf</span></a></span><span> </span><span id="local-6989586621679816458"><span class="annot"><span class="annottext">[(Generator, Double)]
</span><a href="#local-6989586621679816458"><span class="hs-identifier hs-var">_l</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM (TxStream IO era)
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;todo: implement Quickcheck style oneOf generator&quot;</span></span><span>
</span><span id="line-386"></span><span>
</span><span id="line-387"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-388"></span><span>    </span><span id="local-6989586621679816387"><span class="annot"><span class="annottext">feeInEra :: TxFee era
</span><a href="#local-6989586621679816387"><span class="hs-identifier hs-var hs-var">feeInEra</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Lovelace -&gt; TxFee era
forall era. IsShelleyBasedEra era =&gt; Lovelace -&gt; TxFee era
</span><a href="Cardano.TxGenerator.Utils.html#mkTxFee"><span class="hs-identifier hs-var">Utils.mkTxFee</span></a></span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621679816344"><span class="hs-identifier hs-var">fee</span></a></span><span>
</span><span id="line-389"></span><span>
</span><span id="line-390"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#selectCollateralFunds"><span class="hs-identifier hs-type">selectCollateralFunds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679815543"><span class="annot"><a href="#local-6989586621679815543"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsShelleyBasedEra</span></span><span> </span><span class="annot"><a href="#local-6989586621679815543"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-391"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-392"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TxInsCollateral</span></span><span> </span><span class="annot"><a href="#local-6989586621679815543"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.TxGenerator.Fund.html#Fund"><span class="hs-identifier hs-type">FundQueue.Fund</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-393"></span><span id="selectCollateralFunds"><span class="annot"><span class="annottext">selectCollateralFunds :: forall era.
IsShelleyBasedEra era =&gt;
Maybe [Char] -&gt; ActionM (TxInsCollateral era, [Fund])
</span><a href="Cardano.Benchmarking.Script.Core.html#selectCollateralFunds"><span class="hs-identifier hs-var hs-var">selectCollateralFunds</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TxInsCollateral era, [Fund])
-&gt; ExceptT
     Error (RWST IOManager () Env IO) (TxInsCollateral era, [Fund])
forall a. a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxInsCollateral era
forall era. TxInsCollateral era
</span><span class="hs-identifier hs-var">TxInsCollateralNone</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-394"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#selectCollateralFunds"><span class="hs-identifier hs-var">selectCollateralFunds</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679816478"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816478"><span class="hs-identifier hs-var">walletName</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-395"></span><span>  </span><span id="local-6989586621679816479"><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679816479"><span class="hs-identifier hs-var">cw</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM WalletRef
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvWallets"><span class="hs-identifier hs-var">getEnvWallets</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816478"><span class="hs-identifier hs-var">walletName</span></a></span><span>
</span><span id="line-396"></span><span>  </span><span id="local-6989586621679816480"><span class="annot"><span class="annottext">[Fund]
</span><a href="#local-6989586621679816480"><span class="hs-identifier hs-var">collateralFunds</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO [Fund] -&gt; ExceptT Error (RWST IOManager () Env IO) [Fund]
forall a. IO a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">WalletRef -&gt; (FundQueue -&gt; [Fund]) -&gt; IO [Fund]
forall a. WalletRef -&gt; (FundQueue -&gt; a) -&gt; IO a
</span><a href="Cardano.Benchmarking.Wallet.html#askWalletRef"><span class="hs-identifier hs-var">askWalletRef</span></a></span><span> </span><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679816479"><span class="hs-identifier hs-var">cw</span></a></span><span> </span><span class="annot"><span class="annottext">FundQueue -&gt; [Fund]
</span><a href="Cardano.TxGenerator.FundQueue.html#toList"><span class="hs-identifier hs-var">FundQueue.toList</span></a></span><span> </span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ExceptT Error (RWST IOManager () Env IO) [Fund]
-&gt; ([Fund] -&gt; ExceptT Error (RWST IOManager () Env IO) [Fund])
-&gt; ExceptT Error (RWST IOManager () Env IO) [Fund]
forall a b.
ExceptT Error (RWST IOManager () Env IO) a
-&gt; (a -&gt; ExceptT Error (RWST IOManager () Env IO) b)
-&gt; ExceptT Error (RWST IOManager () Env IO) b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-397"></span><span>    </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Error -&gt; ExceptT Error (RWST IOManager () Env IO) [Fund]
forall (m :: * -&gt; *) e a. Monad m =&gt; e -&gt; ExceptT e m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#throwE"><span class="hs-identifier hs-var">throwE</span></a></span><span> </span><span class="annot"><span class="annottext">(Error -&gt; ExceptT Error (RWST IOManager () Env IO) [Fund])
-&gt; Error -&gt; ExceptT Error (RWST IOManager () Env IO) [Fund]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Error
</span><a href="Cardano.Benchmarking.Script.Env.html#WalletError"><span class="hs-identifier hs-var">WalletError</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;selectCollateralFunds: emptylist&quot;</span></span><span>
</span><span id="line-398"></span><span>    </span><span id="local-6989586621679816484"><span class="annot"><span class="annottext">[Fund]
</span><a href="#local-6989586621679816484"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Fund] -&gt; ExceptT Error (RWST IOManager () Env IO) [Fund]
forall a. a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">[Fund]
</span><a href="#local-6989586621679816484"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-399"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CardanoEra era -&gt; Maybe (AlonzoEraOnwards era)
forall (eon :: * -&gt; *) era.
Eon eon =&gt;
CardanoEra era -&gt; Maybe (eon era)
</span><span class="hs-identifier hs-var">forEraMaybeEon</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsCardanoEra era =&gt; CardanoEra era
</span><span class="hs-identifier hs-var">cardanoEra</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679815543"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-400"></span><span>      </span><span class="annot"><span class="annottext">Maybe (AlonzoEraOnwards era)
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Error
-&gt; ExceptT
     Error (RWST IOManager () Env IO) (TxInsCollateral era, [Fund])
forall (m :: * -&gt; *) e a. Monad m =&gt; e -&gt; ExceptT e m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#throwE"><span class="hs-identifier hs-var">throwE</span></a></span><span> </span><span class="annot"><span class="annottext">(Error
 -&gt; ExceptT
      Error (RWST IOManager () Env IO) (TxInsCollateral era, [Fund]))
-&gt; Error
-&gt; ExceptT
     Error (RWST IOManager () Env IO) (TxInsCollateral era, [Fund])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Error
</span><a href="Cardano.Benchmarking.Script.Env.html#WalletError"><span class="hs-identifier hs-var">WalletError</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Error) -&gt; [Char] -&gt; Error
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;selectCollateralFunds: collateral: era not supported :&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsCardanoEra era =&gt; CardanoEra era
</span><span class="hs-identifier hs-var">cardanoEra</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679815543"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-401"></span><span>      </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679816486"><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621679816486"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(TxInsCollateral era, [Fund])
-&gt; ExceptT
     Error (RWST IOManager () Env IO) (TxInsCollateral era, [Fund])
forall a. a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AlonzoEraOnwards era -&gt; [TxIn] -&gt; TxInsCollateral era
forall era. AlonzoEraOnwards era -&gt; [TxIn] -&gt; TxInsCollateral era
</span><span class="hs-identifier hs-var">TxInsCollateral</span></span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621679816486"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">([TxIn] -&gt; TxInsCollateral era) -&gt; [TxIn] -&gt; TxInsCollateral era
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>  </span><span class="annot"><span class="annottext">(Fund -&gt; TxIn) -&gt; [Fund] -&gt; [TxIn]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Fund -&gt; TxIn
</span><a href="Cardano.TxGenerator.Fund.html#getFundTxIn"><span class="hs-identifier hs-var">getFundTxIn</span></a></span><span> </span><span class="annot"><span class="annottext">[Fund]
</span><a href="#local-6989586621679816480"><span class="hs-identifier hs-var">collateralFunds</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Fund]
</span><a href="#local-6989586621679816480"><span class="hs-identifier hs-var">collateralFunds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-402"></span><span>
</span><span id="line-403"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#dumpToFile"><span class="hs-identifier hs-type">dumpToFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxInMode</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-404"></span><span id="dumpToFile"><span class="annot"><span class="annottext">dumpToFile :: [Char] -&gt; TxInMode -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#dumpToFile"><span class="hs-identifier hs-var hs-var">dumpToFile</span></a></span></span><span> </span><span id="local-6989586621679816491"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816491"><span class="hs-identifier hs-var">filePath</span></a></span></span><span> </span><span id="local-6989586621679816492"><span class="annot"><span class="annottext">TxInMode
</span><a href="#local-6989586621679816492"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO () -&gt; ActionM ()
forall a. IO a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ActionM ()) -&gt; IO () -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; TxInMode -&gt; IO ()
</span><a href="Cardano.Benchmarking.Script.Core.html#dumpToFileIO"><span class="hs-identifier hs-var">dumpToFileIO</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816491"><span class="hs-identifier hs-var">filePath</span></a></span><span> </span><span class="annot"><span class="annottext">TxInMode
</span><a href="#local-6989586621679816492"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-405"></span><span>
</span><span id="line-406"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#dumpToFileIO"><span class="hs-identifier hs-type">dumpToFileIO</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxInMode</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-407"></span><span id="dumpToFileIO"><span class="annot"><span class="annottext">dumpToFileIO :: [Char] -&gt; TxInMode -&gt; IO ()
</span><a href="Cardano.Benchmarking.Script.Core.html#dumpToFileIO"><span class="hs-identifier hs-var hs-var">dumpToFileIO</span></a></span></span><span> </span><span id="local-6989586621679816494"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816494"><span class="hs-identifier hs-var">filePath</span></a></span></span><span> </span><span id="local-6989586621679816495"><span class="annot"><span class="annottext">TxInMode
</span><a href="#local-6989586621679816495"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; IO ()
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/System.IO.html#appendFile"><span class="hs-identifier hs-var">appendFile</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816494"><span class="hs-identifier hs-var">filePath</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\n'</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; [Char] -&gt; [Char]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">TxInMode -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">TxInMode
</span><a href="#local-6989586621679816495"><span class="hs-identifier hs-var">tx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-408"></span><span>
</span><span id="line-409"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#initWallet"><span class="hs-identifier hs-type">initWallet</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-410"></span><span id="initWallet"><span class="annot"><span class="annottext">initWallet :: [Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#initWallet"><span class="hs-identifier hs-var hs-var">initWallet</span></a></span></span><span> </span><span id="local-6989586621679816498"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816498"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO WalletRef -&gt; ActionM WalletRef
forall a. IO a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">IO WalletRef
</span><a href="Cardano.Benchmarking.Wallet.html#initWallet"><span class="hs-identifier hs-var">Wallet.initWallet</span></a></span><span> </span><span class="annot"><span class="annottext">ActionM WalletRef -&gt; (WalletRef -&gt; ActionM ()) -&gt; ActionM ()
forall a b.
ExceptT Error (RWST IOManager () Env IO) a
-&gt; (a -&gt; ExceptT Error (RWST IOManager () Env IO) b)
-&gt; ExceptT Error (RWST IOManager () Env IO) b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; WalletRef -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#setEnvWallets"><span class="hs-identifier hs-var">setEnvWallets</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816498"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-411"></span><span>
</span><span id="line-412"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#interpretPayMode"><span class="hs-identifier hs-type">interpretPayMode</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679815526"><span class="annot"><a href="#local-6989586621679815526"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsShelleyBasedEra</span></span><span> </span><span class="annot"><a href="#local-6989586621679815526"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#PayMode"><span class="hs-identifier hs-type">PayMode</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.TxGenerator.Tx.html#CreateAndStore"><span class="hs-identifier hs-type">CreateAndStore</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679815526"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-413"></span><span id="interpretPayMode"><span class="annot"><span class="annottext">interpretPayMode :: forall era.
IsShelleyBasedEra era =&gt;
PayMode -&gt; ActionM (CreateAndStore IO era, [Char])
</span><a href="Cardano.Benchmarking.Script.Core.html#interpretPayMode"><span class="hs-identifier hs-var hs-var">interpretPayMode</span></a></span></span><span> </span><span id="local-6989586621679816514"><span class="annot"><span class="annottext">PayMode
</span><a href="#local-6989586621679816514"><span class="hs-identifier hs-var">payMode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-414"></span><span>  </span><span id="local-6989586621679816515"><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621679816515"><span class="hs-identifier hs-var">networkId</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM NetworkId
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvNetworkId"><span class="hs-identifier hs-var">getEnvNetworkId</span></a></span><span>
</span><span id="line-415"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PayMode
</span><a href="#local-6989586621679816514"><span class="hs-identifier hs-var">payMode</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-416"></span><span>    </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#PayToAddr"><span class="hs-identifier hs-type">PayToAddr</span></a></span><span> </span><span id="local-6989586621679816517"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816517"><span class="hs-identifier hs-var">keyName</span></a></span></span><span> </span><span id="local-6989586621679816518"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816518"><span class="hs-identifier hs-var">destWallet</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-417"></span><span>      </span><span id="local-6989586621679816519"><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679816519"><span class="hs-identifier hs-var">fundKey</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM (SigningKey PaymentKey)
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvKeys"><span class="hs-identifier hs-var">getEnvKeys</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816517"><span class="hs-identifier hs-var">keyName</span></a></span><span>
</span><span id="line-418"></span><span>      </span><span id="local-6989586621679816520"><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679816520"><span class="hs-identifier hs-var">walletRef</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM WalletRef
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvWallets"><span class="hs-identifier hs-var">getEnvWallets</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816518"><span class="hs-identifier hs-var">destWallet</span></a></span><span>
</span><span id="line-419"></span><span>      </span><span class="annot"><span class="annottext">(CreateAndStore IO era, [Char])
-&gt; ActionM (CreateAndStore IO era, [Char])
forall a. a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">ToUTxO era -&gt; (Fund -&gt; IO ()) -&gt; CreateAndStore IO era
forall era (m :: * -&gt; *).
ToUTxO era -&gt; (Fund -&gt; m ()) -&gt; CreateAndStore m era
</span><a href="Cardano.Benchmarking.Wallet.html#createAndStore"><span class="hs-identifier hs-var">createAndStore</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NetworkId -&gt; SigningKey PaymentKey -&gt; ToUTxO era
forall era.
IsShelleyBasedEra era =&gt;
NetworkId -&gt; SigningKey PaymentKey -&gt; ToUTxO era
</span><a href="Cardano.TxGenerator.UTxO.html#mkUTxOVariant"><span class="hs-identifier hs-var">mkUTxOVariant</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621679816515"><span class="hs-identifier hs-var">networkId</span></a></span><span> </span><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679816519"><span class="hs-identifier hs-var">fundKey</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WalletRef -&gt; Fund -&gt; IO ()
</span><a href="Cardano.Benchmarking.Wallet.html#mkWalletFundStore"><span class="hs-identifier hs-var">mkWalletFundStore</span></a></span><span> </span><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679816520"><span class="hs-identifier hs-var">walletRef</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-420"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">Text.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; [Char]) -&gt; Text -&gt; [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">AddressInEra era -&gt; Text
forall addr. SerialiseAddress addr =&gt; addr -&gt; Text
</span><span class="hs-identifier hs-var">serialiseAddress</span></span><span> </span><span class="annot"><span class="annottext">(AddressInEra era -&gt; Text) -&gt; AddressInEra era -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall era.
IsShelleyBasedEra era =&gt;
NetworkId -&gt; SigningKey PaymentKey -&gt; AddressInEra era
</span><a href="Cardano.TxGenerator.Utils.html#keyAddress"><span class="hs-identifier hs-var">Utils.keyAddress</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679815526"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621679816515"><span class="hs-identifier hs-var">networkId</span></a></span><span> </span><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679816519"><span class="hs-identifier hs-var">fundKey</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-421"></span><span>    </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#PayToScript"><span class="hs-identifier hs-type">PayToScript</span></a></span><span> </span><span id="local-6989586621679816527"><span class="annot"><span class="annottext">ScriptSpec
</span><a href="#local-6989586621679816527"><span class="hs-identifier hs-var">scriptSpec</span></a></span></span><span> </span><span id="local-6989586621679816528"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816528"><span class="hs-identifier hs-var">destWallet</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-422"></span><span>      </span><span id="local-6989586621679816529"><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679816529"><span class="hs-identifier hs-var">walletRef</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM WalletRef
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvWallets"><span class="hs-identifier hs-var">getEnvWallets</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816528"><span class="hs-identifier hs-var">destWallet</span></a></span><span>
</span><span id="line-423"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621679816530"><span class="annot"><span class="annottext">Witness WitCtxTxIn era
</span><a href="#local-6989586621679816530"><span class="hs-identifier hs-var">witness</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679816531"><span class="annot"><span class="annottext">ScriptInAnyLang
</span><a href="#local-6989586621679816531"><span class="hs-identifier hs-var">script</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679816532"><span class="annot"><span class="annottext">ScriptData
</span><a href="#local-6989586621679816532"><span class="hs-identifier hs-var">scriptData</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679816533"><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621679816533"><span class="hs-identifier hs-var">_scriptFee</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ScriptSpec
-&gt; ActionM
     (Witness WitCtxTxIn era, ScriptInAnyLang, ScriptData, Lovelace)
forall era.
IsShelleyBasedEra era =&gt;
ScriptSpec
-&gt; ActionM
     (Witness WitCtxTxIn era, ScriptInAnyLang, ScriptData, Lovelace)
</span><a href="Cardano.Benchmarking.Script.Core.html#makePlutusContext"><span class="hs-identifier hs-var">makePlutusContext</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptSpec
</span><a href="#local-6989586621679816527"><span class="hs-identifier hs-var">scriptSpec</span></a></span><span>
</span><span id="line-424"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ScriptInAnyLang
</span><a href="#local-6989586621679816531"><span class="hs-identifier hs-var">script</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-425"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">ScriptInAnyLang</span></span><span> </span><span class="annot"><span class="annottext">ScriptLanguage lang
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679816540"><span class="annot"><span class="annottext">Script lang
</span><a href="#local-6989586621679816540"><span class="hs-identifier hs-var">script'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-426"></span><span>          </span><span class="annot"><span class="annottext">(CreateAndStore IO era, [Char])
-&gt; ActionM (CreateAndStore IO era, [Char])
forall a. a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">ToUTxO era -&gt; (Fund -&gt; IO ()) -&gt; CreateAndStore IO era
forall era (m :: * -&gt; *).
ToUTxO era -&gt; (Fund -&gt; m ()) -&gt; CreateAndStore m era
</span><a href="Cardano.Benchmarking.Wallet.html#createAndStore"><span class="hs-identifier hs-var">createAndStore</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NetworkId
-&gt; (ScriptInAnyLang, ScriptData)
-&gt; Witness WitCtxTxIn era
-&gt; ToUTxO era
forall era.
IsShelleyBasedEra era =&gt;
NetworkId
-&gt; (ScriptInAnyLang, ScriptData)
-&gt; Witness WitCtxTxIn era
-&gt; ToUTxO era
</span><a href="Cardano.TxGenerator.UTxO.html#mkUTxOScript"><span class="hs-identifier hs-var">mkUTxOScript</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621679816515"><span class="hs-identifier hs-var">networkId</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptInAnyLang
</span><a href="#local-6989586621679816531"><span class="hs-identifier hs-var">script</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ScriptData
</span><a href="#local-6989586621679816532"><span class="hs-identifier hs-var">scriptData</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Witness WitCtxTxIn era
</span><a href="#local-6989586621679816530"><span class="hs-identifier hs-var">witness</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WalletRef -&gt; Fund -&gt; IO ()
</span><a href="Cardano.Benchmarking.Wallet.html#mkWalletFundStore"><span class="hs-identifier hs-var">mkWalletFundStore</span></a></span><span> </span><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679816529"><span class="hs-identifier hs-var">walletRef</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-427"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">Text.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; [Char]) -&gt; Text -&gt; [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Address ShelleyAddr -&gt; Text
forall addr. SerialiseAddress addr =&gt; addr -&gt; Text
</span><span class="hs-identifier hs-var">serialiseAddress</span></span><span> </span><span class="annot"><span class="annottext">(Address ShelleyAddr -&gt; Text) -&gt; Address ShelleyAddr -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkId
-&gt; PaymentCredential
-&gt; StakeAddressReference
-&gt; Address ShelleyAddr
</span><span class="hs-identifier hs-var">makeShelleyAddress</span></span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621679816515"><span class="hs-identifier hs-var">networkId</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptHash -&gt; PaymentCredential
</span><span class="hs-identifier hs-var">PaymentCredentialByScript</span></span><span> </span><span class="annot"><span class="annottext">(ScriptHash -&gt; PaymentCredential)
-&gt; ScriptHash -&gt; PaymentCredential
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Script lang -&gt; ScriptHash
forall lang. Script lang -&gt; ScriptHash
</span><span class="hs-identifier hs-var">hashScript</span></span><span> </span><span class="annot"><span class="annottext">Script lang
</span><a href="#local-6989586621679816540"><span class="hs-identifier hs-var">script'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">StakeAddressReference
</span><span class="hs-identifier hs-var">NoStakeAddress</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-428"></span><span>
</span><span id="line-429"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#makePlutusContext"><span class="hs-identifier hs-type">makePlutusContext</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679815600"><span class="annot"><a href="#local-6989586621679815600"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsShelleyBasedEra</span></span><span> </span><span class="annot"><a href="#local-6989586621679815600"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-430"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#ScriptSpec"><span class="hs-identifier hs-type">ScriptSpec</span></a></span><span>
</span><span id="line-431"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Witness</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">WitCtxTxIn</span></span><span> </span><span class="annot"><a href="#local-6989586621679815600"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScriptInAnyLang</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScriptData</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Lovelace</span></span><span class="hs-special">)</span><span>
</span><span id="line-432"></span><span id="makePlutusContext"><span class="annot"><span class="annottext">makePlutusContext :: forall era.
IsShelleyBasedEra era =&gt;
ScriptSpec
-&gt; ActionM
     (Witness WitCtxTxIn era, ScriptInAnyLang, ScriptData, Lovelace)
</span><a href="Cardano.Benchmarking.Script.Core.html#makePlutusContext"><span class="hs-identifier hs-var hs-var">makePlutusContext</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#ScriptSpec"><span class="hs-identifier hs-type">ScriptSpec</span></a></span><span class="hs-special">{</span><span id="local-6989586621679816619"><span id="local-6989586621679816620"><span id="local-6989586621679816621"><span class="annot"><span class="annottext">Either [Char] [Char]
TxGenPlutusType
ScriptBudget
scriptSpecFile :: Either [Char] [Char]
scriptSpecBudget :: ScriptBudget
scriptSpecPlutusType :: TxGenPlutusType
scriptSpecFile :: ScriptSpec -&gt; Either [Char] [Char]
scriptSpecBudget :: ScriptSpec -&gt; ScriptBudget
scriptSpecPlutusType :: ScriptSpec -&gt; TxGenPlutusType
</span><a href="#local-6989586621679816619"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-433"></span><span>  </span><span id="local-6989586621679816625"><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679816625"><span class="hs-identifier hs-var">protocolParameters</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExceptT Error (RWST IOManager () Env IO) ProtocolParameters
</span><a href="Cardano.Benchmarking.Script.Core.html#getProtocolParameters"><span class="hs-identifier hs-var">getProtocolParameters</span></a></span><span>
</span><span id="line-434"></span><span>  </span><span id="local-6989586621679816626"><span class="annot"><span class="annottext">ScriptInAnyLang
</span><a href="#local-6989586621679816626"><span class="hs-identifier hs-var">script</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Either TxGenError ScriptInAnyLang) -&gt; ActionM ScriptInAnyLang
forall a. IO (Either TxGenError a) -&gt; ActionM a
</span><a href="Cardano.Benchmarking.Script.Env.html#liftIOSafe"><span class="hs-identifier hs-var">liftIOSafe</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either TxGenError ScriptInAnyLang) -&gt; ActionM ScriptInAnyLang)
-&gt; IO (Either TxGenError ScriptInAnyLang)
-&gt; ActionM ScriptInAnyLang
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Either [Char] [Char] -&gt; IO (Either TxGenError ScriptInAnyLang)
</span><a href="Cardano.TxGenerator.Setup.Plutus.html#readPlutusScript"><span class="hs-identifier hs-var">Plutus.readPlutusScript</span></a></span><span> </span><span class="annot"><span class="annottext">Either [Char] [Char]
</span><a href="#local-6989586621679816619"><span class="hs-identifier hs-var">scriptSpecFile</span></a></span><span>
</span><span id="line-435"></span><span>
</span><span id="line-436"></span><span>  </span><span id="local-6989586621679816629"><span class="annot"><span class="annottext">ExecutionUnitPrices
</span><a href="#local-6989586621679816629"><span class="hs-identifier hs-var">executionUnitPrices</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ProtocolParameters -&gt; Maybe ExecutionUnitPrices
</span><span class="hs-identifier hs-var">protocolParamPrices</span></span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679816625"><span class="hs-identifier hs-var">protocolParameters</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-437"></span><span>    </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679816630"><span class="annot"><span class="annottext">ExecutionUnitPrices
</span><a href="#local-6989586621679816630"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExecutionUnitPrices
-&gt; ExceptT Error (RWST IOManager () Env IO) ExecutionUnitPrices
forall a. a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnitPrices
</span><a href="#local-6989586621679816630"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-438"></span><span>    </span><span class="annot"><span class="annottext">Maybe ExecutionUnitPrices
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Error
-&gt; ExceptT Error (RWST IOManager () Env IO) ExecutionUnitPrices
forall (m :: * -&gt; *) e a. Monad m =&gt; e -&gt; ExceptT e m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#throwE"><span class="hs-identifier hs-var">throwE</span></a></span><span> </span><span class="annot"><span class="annottext">(Error
 -&gt; ExceptT Error (RWST IOManager () Env IO) ExecutionUnitPrices)
-&gt; Error
-&gt; ExceptT Error (RWST IOManager () Env IO) ExecutionUnitPrices
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Error
</span><a href="Cardano.Benchmarking.Script.Env.html#WalletError"><span class="hs-identifier hs-var">WalletError</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;unexpected protocolParamPrices == Nothing in runPlutusBenchmark&quot;</span></span><span>
</span><span id="line-439"></span><span>
</span><span id="line-440"></span><span>  </span><span id="local-6989586621679816631"><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679816631"><span class="hs-identifier hs-var">perTxBudget</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ProtocolParameters -&gt; Maybe ExecutionUnits
</span><span class="hs-identifier hs-var">protocolParamMaxTxExUnits</span></span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679816625"><span class="hs-identifier hs-var">protocolParameters</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-441"></span><span>    </span><span class="annot"><span class="annottext">Maybe ExecutionUnits
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxGenError
-&gt; ExceptT Error (RWST IOManager () Env IO) ExecutionUnits
forall a. TxGenError -&gt; ActionM a
</span><a href="Cardano.Benchmarking.Script.Env.html#liftTxGenError"><span class="hs-identifier hs-var">liftTxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">(TxGenError
 -&gt; ExceptT Error (RWST IOManager () Env IO) ExecutionUnits)
-&gt; TxGenError
-&gt; ExceptT Error (RWST IOManager () Env IO) ExecutionUnits
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; TxGenError
</span><a href="Cardano.TxGenerator.Types.html#TxGenError"><span class="hs-identifier hs-var">TxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Cannot determine protocolParamMaxTxExUnits&quot;</span></span><span>
</span><span id="line-442"></span><span>    </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679816632"><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679816632"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
-&gt; ExceptT Error (RWST IOManager () Env IO) ExecutionUnits
forall a. a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679816632"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-443"></span><span>  </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceDebug"><span class="hs-identifier hs-var">traceDebug</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ActionM ()) -&gt; [Char] -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Plutus auto mode : Available budget per TX: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679816631"><span class="hs-identifier hs-var">perTxBudget</span></a></span><span>
</span><span id="line-444"></span><span>
</span><span id="line-445"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621679816633"><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679816633"><span class="hs-identifier hs-var">scriptData</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679816634"><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679816634"><span class="hs-identifier hs-var">scriptRedeemer</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679816635"><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679816635"><span class="hs-identifier hs-var">executionUnits</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ScriptBudget
</span><a href="#local-6989586621679816620"><span class="hs-identifier hs-var">scriptSpecBudget</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-446"></span><span>    </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#StaticScriptBudget"><span class="hs-identifier hs-type">StaticScriptBudget</span></a></span><span> </span><span id="local-6989586621679816637"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816637"><span class="hs-identifier hs-var">sDataFile</span></a></span></span><span> </span><span id="local-6989586621679816638"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816638"><span class="hs-identifier hs-var">redeemerFile</span></a></span></span><span> </span><span id="local-6989586621679816639"><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679816639"><span class="hs-identifier hs-var">units</span></a></span></span><span> </span><span id="local-6989586621679816640"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679816640"><span class="hs-identifier hs-var">withCheck</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-447"></span><span>      </span><span id="local-6989586621679816641"><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679816641"><span class="hs-identifier hs-var">sData</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Either TxGenError HashableScriptData)
-&gt; ActionM HashableScriptData
forall a. IO (Either TxGenError a) -&gt; ActionM a
</span><a href="Cardano.Benchmarking.Script.Env.html#liftIOSafe"><span class="hs-identifier hs-var">liftIOSafe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; IO (Either TxGenError HashableScriptData)
</span><a href="Cardano.TxGenerator.PlutusContext.html#readScriptData"><span class="hs-identifier hs-var">readScriptData</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816637"><span class="hs-identifier hs-var">sDataFile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-448"></span><span>      </span><span id="local-6989586621679816643"><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679816643"><span class="hs-identifier hs-var">redeemer</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Either TxGenError HashableScriptData)
-&gt; ActionM HashableScriptData
forall a. IO (Either TxGenError a) -&gt; ActionM a
</span><a href="Cardano.Benchmarking.Script.Env.html#liftIOSafe"><span class="hs-identifier hs-var">liftIOSafe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; IO (Either TxGenError HashableScriptData)
</span><a href="Cardano.TxGenerator.PlutusContext.html#readScriptData"><span class="hs-identifier hs-var">readScriptData</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816638"><span class="hs-identifier hs-var">redeemerFile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-449"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; ActionM () -&gt; ActionM ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#when"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679816640"><span class="hs-identifier hs-var">withCheck</span></a></span><span> </span><span class="annot"><span class="annottext">(ActionM () -&gt; ActionM ()) -&gt; ActionM () -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-450"></span><span>        </span><span id="local-6989586621679816645"><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679816645"><span class="hs-identifier hs-var">unitsPreRun</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
-&gt; ScriptInAnyLang
-&gt; ScriptData
-&gt; ScriptData
-&gt; ExceptT Error (RWST IOManager () Env IO) ExecutionUnits
</span><a href="Cardano.Benchmarking.Script.Core.html#preExecuteScriptAction"><span class="hs-identifier hs-var">preExecuteScriptAction</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679816625"><span class="hs-identifier hs-var">protocolParameters</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptInAnyLang
</span><a href="#local-6989586621679816626"><span class="hs-identifier hs-var">script</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashableScriptData -&gt; ScriptData
</span><span class="hs-identifier hs-var">getScriptData</span></span><span> </span><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679816641"><span class="hs-identifier hs-var">sData</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashableScriptData -&gt; ScriptData
</span><span class="hs-identifier hs-var">getScriptData</span></span><span> </span><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679816643"><span class="hs-identifier hs-var">redeemer</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-451"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; ActionM () -&gt; ActionM ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679816639"><span class="hs-identifier hs-var">units</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits -&gt; ExecutionUnits -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679816645"><span class="hs-identifier hs-var">unitsPreRun</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ActionM () -&gt; ActionM ()) -&gt; ActionM () -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-452"></span><span>          </span><span class="annot"><span class="annottext">Error -&gt; ActionM ()
forall (m :: * -&gt; *) e a. Monad m =&gt; e -&gt; ExceptT e m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#throwE"><span class="hs-identifier hs-var">throwE</span></a></span><span> </span><span class="annot"><span class="annottext">(Error -&gt; ActionM ()) -&gt; Error -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Error
</span><a href="Cardano.Benchmarking.Script.Env.html#WalletError"><span class="hs-identifier hs-var">WalletError</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Error) -&gt; [Char] -&gt; Error
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[[Char]] -&gt; [Char]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-453"></span><span>              </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; Stated execution Units do not match result of pre execution. &quot;</span></span><span>
</span><span id="line-454"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; Stated value : &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExecutionUnits -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679816639"><span class="hs-identifier hs-var">units</span></a></span><span>
</span><span id="line-455"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; PreExecution result : &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExecutionUnits -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679816645"><span class="hs-identifier hs-var">unitsPreRun</span></a></span><span>
</span><span id="line-456"></span><span>            </span><span class="hs-special">]</span><span>
</span><span id="line-457"></span><span>      </span><span class="annot"><span class="annottext">(HashableScriptData, HashableScriptData, ExecutionUnits)
-&gt; ExceptT
     Error
     (RWST IOManager () Env IO)
     (HashableScriptData, HashableScriptData, ExecutionUnits)
forall a. a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679816641"><span class="hs-identifier hs-var">sData</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679816643"><span class="hs-identifier hs-var">redeemer</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679816639"><span class="hs-identifier hs-var">units</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-458"></span><span>
</span><span id="line-459"></span><span>    </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#AutoScript"><span class="hs-identifier hs-type">AutoScript</span></a></span><span> </span><span id="local-6989586621679816650"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816650"><span class="hs-identifier hs-var">redeemerFile</span></a></span></span><span> </span><span id="local-6989586621679816651"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679816651"><span class="hs-identifier hs-var">txInputs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-460"></span><span>      </span><span id="local-6989586621679816652"><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679816652"><span class="hs-identifier hs-var">redeemer</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Either TxGenError HashableScriptData)
-&gt; ActionM HashableScriptData
forall a. IO (Either TxGenError a) -&gt; ActionM a
</span><a href="Cardano.Benchmarking.Script.Env.html#liftIOSafe"><span class="hs-identifier hs-var">liftIOSafe</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either TxGenError HashableScriptData)
 -&gt; ActionM HashableScriptData)
-&gt; IO (Either TxGenError HashableScriptData)
-&gt; ActionM HashableScriptData
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IO (Either TxGenError HashableScriptData)
</span><a href="Cardano.TxGenerator.PlutusContext.html#readScriptData"><span class="hs-identifier hs-var">readScriptData</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816650"><span class="hs-identifier hs-var">redeemerFile</span></a></span><span>
</span><span id="line-461"></span><span>      </span><span class="hs-keyword">let</span><span>
</span><span id="line-462"></span><span>        </span><span id="local-6989586621679816653"><span class="annot"><span class="annottext">strategy :: PlutusBudgetFittingStrategy
</span><a href="#local-6989586621679816653"><span class="hs-identifier hs-var hs-var">strategy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TxGenPlutusType
</span><a href="#local-6989586621679816621"><span class="hs-identifier hs-var">scriptSpecPlutusType</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-463"></span><span>          </span><span class="annot"><span class="annottext">TxGenPlutusType
</span><a href="Cardano.TxGenerator.Types.html#LimitTxPerBlock_8"><span class="hs-identifier hs-var">LimitTxPerBlock_8</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; PlutusBudgetFittingStrategy
</span><a href="Cardano.TxGenerator.PlutusContext.html#TargetTxsPerBlock"><span class="hs-identifier hs-var">TargetTxsPerBlock</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span>
</span><span id="line-464"></span><span>          </span><span class="annot"><span class="annottext">TxGenPlutusType
</span><span class="hs-identifier">_</span></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PlutusBudgetFittingStrategy
</span><a href="Cardano.TxGenerator.PlutusContext.html#TargetTxExpenditure"><span class="hs-identifier hs-var">TargetTxExpenditure</span></a></span><span>
</span><span id="line-465"></span><span>
</span><span id="line-466"></span><span>        </span><span class="hs-comment">-- reflects properties hard-coded into the loop scripts for benchmarking:</span><span>
</span><span id="line-467"></span><span>        </span><span class="hs-comment">-- 1. script datum is not used</span><span>
</span><span id="line-468"></span><span>        </span><span class="hs-comment">-- 2. the loop terminates at 1_000_000 when counting down</span><span>
</span><span id="line-469"></span><span>        </span><span class="hs-comment">-- 3. the loop's initial value is the first numerical value in the redeemer argument structure</span><span>
</span><span id="line-470"></span><span>        </span><span id="local-6989586621679816657"><span class="annot"><span class="annottext">autoBudget :: PlutusAutoBudget
</span><a href="#local-6989586621679816657"><span class="hs-identifier hs-var hs-var">autoBudget</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Types.html#PlutusAutoBudget"><span class="hs-identifier hs-type">PlutusAutoBudget</span></a></span><span>
</span><span id="line-471"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">autoBudgetUnits :: ExecutionUnits
</span><a href="Cardano.TxGenerator.Types.html#autoBudgetUnits"><span class="hs-identifier hs-var">autoBudgetUnits</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679816631"><span class="hs-identifier hs-var">perTxBudget</span></a></span><span>
</span><span id="line-472"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">autoBudgetDatum :: ScriptData
</span><a href="Cardano.TxGenerator.Types.html#autoBudgetDatum"><span class="hs-identifier hs-var">autoBudgetDatum</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; ScriptData
</span><span class="hs-identifier hs-var">ScriptDataNumber</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span>
</span><span id="line-473"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">autoBudgetRedeemer :: HashableScriptData
</span><a href="Cardano.TxGenerator.Types.html#autoBudgetRedeemer"><span class="hs-identifier hs-var">autoBudgetRedeemer</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ScriptData -&gt; HashableScriptData
</span><span class="hs-identifier hs-var">unsafeHashableScriptData</span></span><span> </span><span class="annot"><span class="annottext">(ScriptData -&gt; HashableScriptData)
-&gt; ScriptData -&gt; HashableScriptData
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Integer) -&gt; ScriptData -&gt; ScriptData
</span><a href="Cardano.TxGenerator.PlutusContext.html#scriptDataModifyNumber"><span class="hs-identifier hs-var">scriptDataModifyNumber</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a b. a -&gt; b -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1_000_000</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashableScriptData -&gt; ScriptData
</span><span class="hs-identifier hs-var">getScriptData</span></span><span> </span><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679816652"><span class="hs-identifier hs-var">redeemer</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-474"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-475"></span><span>      </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceDebug"><span class="hs-identifier hs-var">traceDebug</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ActionM ()) -&gt; [Char] -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Plutus auto mode : Available budget per Tx: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679816631"><span class="hs-identifier hs-var">perTxBudget</span></a></span><span>
</span><span id="line-476"></span><span>                   </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; -- split between inputs per Tx: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679816651"><span class="hs-identifier hs-var">txInputs</span></a></span><span>
</span><span id="line-477"></span><span>
</span><span id="line-478"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
-&gt; [Char]
-&gt; ScriptInAnyLang
-&gt; PlutusAutoBudget
-&gt; PlutusBudgetFittingStrategy
-&gt; Int
-&gt; Either
     TxGenError (PlutusBudgetSummary, PlutusAutoBudget, ExecutionUnits)
</span><a href="Cardano.TxGenerator.PlutusContext.html#plutusAutoScaleBlockfit"><span class="hs-identifier hs-var">plutusAutoScaleBlockfit</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679816625"><span class="hs-identifier hs-var">protocolParameters</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([Char] -&gt; [Char])
-&gt; ([Char] -&gt; [Char]) -&gt; Either [Char] [Char] -&gt; [Char]
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#either"><span class="hs-identifier hs-var">either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;builtin: &quot;</span></span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;plutus file: &quot;</span></span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Either [Char] [Char]
</span><a href="#local-6989586621679816619"><span class="hs-identifier hs-var">scriptSpecFile</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ScriptInAnyLang
</span><a href="#local-6989586621679816626"><span class="hs-identifier hs-var">script</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusAutoBudget
</span><a href="#local-6989586621679816657"><span class="hs-identifier hs-var">autoBudget</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusBudgetFittingStrategy
</span><a href="#local-6989586621679816653"><span class="hs-identifier hs-var">strategy</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679816651"><span class="hs-identifier hs-var">txInputs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-479"></span><span>        </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679816668"><span class="annot"><span class="annottext">TxGenError
</span><a href="#local-6989586621679816668"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxGenError
-&gt; ExceptT
     Error
     (RWST IOManager () Env IO)
     (HashableScriptData, HashableScriptData, ExecutionUnits)
forall a. TxGenError -&gt; ActionM a
</span><a href="Cardano.Benchmarking.Script.Env.html#liftTxGenError"><span class="hs-identifier hs-var">liftTxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenError
</span><a href="#local-6989586621679816668"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-480"></span><span>        </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679816669"><span class="annot"><span class="annottext">PlutusBudgetSummary
</span><a href="#local-6989586621679816669"><span class="hs-identifier hs-var">summary</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Types.html#PlutusAutoBudget"><span class="hs-identifier hs-type">PlutusAutoBudget</span></a></span><span class="hs-special">{</span><span id="local-6989586621679816670"><span id="local-6989586621679816671"><span id="local-6989586621679816672"><span class="annot"><span class="annottext">ExecutionUnits
ScriptData
HashableScriptData
autoBudgetUnits :: PlutusAutoBudget -&gt; ExecutionUnits
autoBudgetDatum :: PlutusAutoBudget -&gt; ScriptData
autoBudgetRedeemer :: PlutusAutoBudget -&gt; HashableScriptData
autoBudgetUnits :: ExecutionUnits
autoBudgetDatum :: ScriptData
autoBudgetRedeemer :: HashableScriptData
</span><a href="Cardano.TxGenerator.Types.html#autoBudgetUnits"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span id="local-6989586621679816673"><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679816673"><span class="hs-identifier hs-var">preRun</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-481"></span><span>          </span><span class="annot"><span class="annottext">PlutusBudgetSummary -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#setEnvSummary"><span class="hs-identifier hs-var">setEnvSummary</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusBudgetSummary
</span><a href="#local-6989586621679816669"><span class="hs-identifier hs-var">summary</span></a></span><span>
</span><span id="line-482"></span><span>          </span><span class="annot"><span class="annottext">ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#dumpBudgetSummaryIfExisting"><span class="hs-identifier hs-var">dumpBudgetSummaryIfExisting</span></a></span><span>
</span><span id="line-483"></span><span>          </span><span class="annot"><span class="annottext">(HashableScriptData, HashableScriptData, ExecutionUnits)
-&gt; ExceptT
     Error
     (RWST IOManager () Env IO)
     (HashableScriptData, HashableScriptData, ExecutionUnits)
forall a. a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptData -&gt; HashableScriptData
</span><span class="hs-identifier hs-var">unsafeHashableScriptData</span></span><span> </span><span class="annot"><span class="annottext">ScriptData
</span><a href="#local-6989586621679816671"><span class="hs-identifier hs-var">autoBudgetDatum</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679816672"><span class="hs-identifier hs-var">autoBudgetRedeemer</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679816673"><span class="hs-identifier hs-var">preRun</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-484"></span><span>
</span><span id="line-485"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679816674"><span class="annot"><span class="annottext">msg :: [Char]
</span><a href="#local-6989586621679816674"><span class="hs-identifier hs-var hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[[Char]] -&gt; [Char]
forall a. Monoid a =&gt; [a] -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#mconcat"><span class="hs-identifier hs-var">mconcat</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Plutus Benchmark :&quot;</span></span><span>
</span><span id="line-486"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; Script: &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Either [Char] [Char] -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Either [Char] [Char]
</span><a href="#local-6989586621679816619"><span class="hs-identifier hs-var">scriptSpecFile</span></a></span><span>
</span><span id="line-487"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;, Datum: &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HashableScriptData -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679816633"><span class="hs-identifier hs-var">scriptData</span></a></span><span>
</span><span id="line-488"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;, Redeemer: &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HashableScriptData -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679816634"><span class="hs-identifier hs-var">scriptRedeemer</span></a></span><span>
</span><span id="line-489"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;, StatedBudget: &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExecutionUnits -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679816635"><span class="hs-identifier hs-var">executionUnits</span></a></span><span>
</span><span id="line-490"></span><span>                    </span><span class="hs-special">]</span><span>
</span><span id="line-491"></span><span>  </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceDebug"><span class="hs-identifier hs-var">traceDebug</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816674"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-492"></span><span>
</span><span id="line-493"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-494"></span><span>    </span><span class="hs-comment">-- TODO --    Cardano.Ledger.Alonzo.Scripts.txscriptfee :: Prices -&gt; ExUnits -&gt; Coin</span><span>
</span><span id="line-495"></span><span>    </span><span id="local-6989586621679816675"><span class="annot"><span class="annottext">scriptFee :: Lovelace
</span><a href="#local-6989586621679816675"><span class="hs-identifier hs-var hs-var">scriptFee</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Quantity -&gt; Lovelace
</span><span class="hs-identifier hs-var">quantityToLovelace</span></span><span> </span><span class="annot"><span class="annottext">(Quantity -&gt; Lovelace) -&gt; Quantity -&gt; Lovelace
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Quantity
</span><span class="hs-identifier hs-var">Quantity</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Quantity) -&gt; Integer -&gt; Quantity
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
forall b. Integral b =&gt; Rational -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Real.html#ceiling"><span class="hs-identifier hs-var">ceiling</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621679816679"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-496"></span><span>       </span><span class="hs-keyword">where</span><span>
</span><span id="line-497"></span><span>         </span><span class="annot"><a href="#local-6989586621679816679"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Real.html#Rational"><span class="hs-identifier hs-type">Rational</span></a></span><span>
</span><span id="line-498"></span><span>         </span><span id="local-6989586621679816679"><span class="annot"><span class="annottext">f :: Rational
</span><a href="#local-6989586621679816679"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExecutionUnits -&gt; Natural
</span><span class="hs-identifier hs-var">executionSteps</span></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679816681"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">Natural -&gt; Rational -&gt; Rational
forall {a} {a}. (Integral a, Integral a) =&gt; a -&gt; Ratio a -&gt; Ratio a
</span><a href="#local-6989586621679816682"><span class="hs-operator hs-var">`times`</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnitPrices -&gt; Rational
</span><span class="hs-identifier hs-var">priceExecutionSteps</span></span><span> </span><span class="annot"><span class="annottext">ExecutionUnitPrices
</span><a href="#local-6989586621679816684"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExecutionUnits -&gt; Natural
</span><span class="hs-identifier hs-var">executionMemory</span></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679816681"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">Natural -&gt; Rational -&gt; Rational
forall {a} {a}. (Integral a, Integral a) =&gt; a -&gt; Ratio a -&gt; Ratio a
</span><a href="#local-6989586621679816682"><span class="hs-operator hs-var">`times`</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnitPrices -&gt; Rational
</span><span class="hs-identifier hs-var">priceExecutionMemory</span></span><span> </span><span class="annot"><span class="annottext">ExecutionUnitPrices
</span><a href="#local-6989586621679816684"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-499"></span><span>         </span><span id="local-6989586621679816681"><span class="annot"><span class="annottext">e :: ExecutionUnits
</span><a href="#local-6989586621679816681"><span class="hs-identifier hs-var hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679816635"><span class="hs-identifier hs-var">executionUnits</span></a></span><span>
</span><span id="line-500"></span><span>         </span><span id="local-6989586621679816684"><span class="annot"><span class="annottext">p :: ExecutionUnitPrices
</span><a href="#local-6989586621679816684"><span class="hs-identifier hs-var hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExecutionUnitPrices
</span><a href="#local-6989586621679816629"><span class="hs-identifier hs-var">executionUnitPrices</span></a></span><span>
</span><span id="line-501"></span><span>         </span><span id="local-6989586621679816682"><span class="annot"><span class="annottext">times :: a -&gt; Ratio a -&gt; Ratio a
</span><a href="#local-6989586621679816682"><span class="hs-identifier hs-var hs-var">times</span></a></span></span><span> </span><span id="local-6989586621679816721"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679816721"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621679816722"><span class="annot"><span class="annottext">Ratio a
</span><a href="#local-6989586621679816722"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679816721"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Ratio a
forall a. Integral a =&gt; a -&gt; a -&gt; Ratio a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Real.html#%25"><span class="hs-operator hs-var">%</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Ratio a -&gt; Ratio a -&gt; Ratio a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Ratio a
</span><a href="#local-6989586621679816722"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-502"></span><span>
</span><span id="line-503"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ScriptInAnyLang
</span><a href="#local-6989586621679816626"><span class="hs-identifier hs-var">script</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-504"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">ScriptInAnyLang</span></span><span> </span><span id="local-6989586621679816733"><span class="annot"><span class="annottext">ScriptLanguage lang
</span><a href="#local-6989586621679816733"><span class="hs-identifier hs-var">lang</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PlutusScript</span></span><span> </span><span id="local-6989586621679816735"><span class="annot"><span class="annottext">PlutusScriptVersion lang
</span><a href="#local-6989586621679816735"><span class="hs-identifier hs-var">version</span></a></span></span><span> </span><span id="local-6989586621679816736"><span class="annot"><span class="annottext">PlutusScript lang
</span><a href="#local-6989586621679816736"><span class="hs-identifier hs-var">script'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-505"></span><span>      </span><span class="hs-keyword">let</span><span>
</span><span id="line-506"></span><span>        </span><span class="annot"><a href="#local-6989586621679816737"><span class="hs-identifier hs-type">scriptWitness</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScriptWitness</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">WitCtxTxIn</span></span><span> </span><span class="annot"><a href="#local-6989586621679815600"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-507"></span><span>        </span><span id="local-6989586621679816737"><span class="annot"><span class="annottext">scriptWitness :: ScriptWitness WitCtxTxIn era
</span><a href="#local-6989586621679816737"><span class="hs-identifier hs-var hs-var">scriptWitness</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; ScriptLanguage lang -&gt; Maybe (ScriptLanguageInEra lang era)
forall era lang.
ShelleyBasedEra era
-&gt; ScriptLanguage lang -&gt; Maybe (ScriptLanguageInEra lang era)
</span><span class="hs-identifier hs-var">scriptLanguageSupportedInEra</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsShelleyBasedEra era =&gt; ShelleyBasedEra era
</span><span class="hs-identifier hs-var">shelleyBasedEra</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679815600"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ScriptLanguage lang
</span><a href="#local-6989586621679816733"><span class="hs-identifier hs-var">lang</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-508"></span><span>          </span><span class="annot"><span class="annottext">Maybe (ScriptLanguageInEra lang era)
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ScriptWitness WitCtxTxIn era
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ScriptWitness WitCtxTxIn era)
-&gt; [Char] -&gt; ScriptWitness WitCtxTxIn era
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;runPlutusBenchmark: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusScriptVersion lang -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusScriptVersion lang
</span><a href="#local-6989586621679816735"><span class="hs-identifier hs-var">version</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; not supported in era: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsCardanoEra era =&gt; CardanoEra era
</span><span class="hs-identifier hs-var">cardanoEra</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679815600"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-509"></span><span>          </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679816739"><span class="annot"><span class="annottext">ScriptLanguageInEra lang era
</span><a href="#local-6989586621679816739"><span class="hs-identifier hs-var">scriptLang</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ScriptLanguageInEra lang era
-&gt; PlutusScriptVersion lang
-&gt; PlutusScriptOrReferenceInput lang
-&gt; ScriptDatum WitCtxTxIn
-&gt; HashableScriptData
-&gt; ExecutionUnits
-&gt; ScriptWitness WitCtxTxIn era
forall lang era witctx.
ScriptLanguageInEra lang era
-&gt; PlutusScriptVersion lang
-&gt; PlutusScriptOrReferenceInput lang
-&gt; ScriptDatum witctx
-&gt; HashableScriptData
-&gt; ExecutionUnits
-&gt; ScriptWitness witctx era
</span><span class="hs-identifier hs-var">PlutusScriptWitness</span></span><span>
</span><span id="line-510"></span><span>                              </span><span class="annot"><span class="annottext">ScriptLanguageInEra lang era
</span><a href="#local-6989586621679816739"><span class="hs-identifier hs-var">scriptLang</span></a></span><span>
</span><span id="line-511"></span><span>                              </span><span class="annot"><span class="annottext">PlutusScriptVersion lang
</span><a href="#local-6989586621679816735"><span class="hs-identifier hs-var">version</span></a></span><span>
</span><span id="line-512"></span><span>                              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PlutusScript lang -&gt; PlutusScriptOrReferenceInput lang
forall lang. PlutusScript lang -&gt; PlutusScriptOrReferenceInput lang
</span><span class="hs-identifier hs-var">PScript</span></span><span> </span><span class="annot"><span class="annottext">PlutusScript lang
</span><a href="#local-6989586621679816736"><span class="hs-identifier hs-var">script'</span></a></span><span class="hs-special">)</span><span>               </span><span class="hs-comment">-- TODO: add capability for reference inputs from Babbage era onwards</span><span>
</span><span id="line-513"></span><span>                              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashableScriptData -&gt; ScriptDatum WitCtxTxIn
</span><span class="hs-identifier hs-var">ScriptDatumForTxIn</span></span><span> </span><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679816633"><span class="hs-identifier hs-var">scriptData</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-514"></span><span>                              </span><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679816634"><span class="hs-identifier hs-var">scriptRedeemer</span></a></span><span>
</span><span id="line-515"></span><span>                              </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679816635"><span class="hs-identifier hs-var">executionUnits</span></a></span><span>
</span><span id="line-516"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(Witness WitCtxTxIn era, ScriptInAnyLang, ScriptData, Lovelace)
-&gt; ActionM
     (Witness WitCtxTxIn era, ScriptInAnyLang, ScriptData, Lovelace)
forall a. a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptWitnessInCtx WitCtxTxIn
-&gt; ScriptWitness WitCtxTxIn era -&gt; Witness WitCtxTxIn era
forall witctx era.
ScriptWitnessInCtx witctx
-&gt; ScriptWitness witctx era -&gt; Witness witctx era
</span><span class="hs-identifier hs-var">ScriptWitness</span></span><span> </span><span class="annot"><span class="annottext">ScriptWitnessInCtx WitCtxTxIn
</span><span class="hs-identifier hs-var">ScriptWitnessForSpending</span></span><span> </span><span class="annot"><span class="annottext">ScriptWitness WitCtxTxIn era
</span><a href="#local-6989586621679816737"><span class="hs-identifier hs-var">scriptWitness</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ScriptInAnyLang
</span><a href="#local-6989586621679816626"><span class="hs-identifier hs-var">script</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HashableScriptData -&gt; ScriptData
</span><span class="hs-identifier hs-var">getScriptData</span></span><span> </span><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679816633"><span class="hs-identifier hs-var">scriptData</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621679816675"><span class="hs-identifier hs-var">scriptFee</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-517"></span><span>    </span><span class="annot"><span class="annottext">ScriptInAnyLang
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-518"></span><span>      </span><span class="annot"><span class="annottext">TxGenError
-&gt; ActionM
     (Witness WitCtxTxIn era, ScriptInAnyLang, ScriptData, Lovelace)
forall a. TxGenError -&gt; ActionM a
</span><a href="Cardano.Benchmarking.Script.Env.html#liftTxGenError"><span class="hs-identifier hs-var">liftTxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">(TxGenError
 -&gt; ActionM
      (Witness WitCtxTxIn era, ScriptInAnyLang, ScriptData, Lovelace))
-&gt; TxGenError
-&gt; ActionM
     (Witness WitCtxTxIn era, ScriptInAnyLang, ScriptData, Lovelace)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; TxGenError
</span><a href="Cardano.TxGenerator.Types.html#TxGenError"><span class="hs-identifier hs-var">TxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;runPlutusBenchmark: only Plutus scripts supported&quot;</span></span><span>
</span><span id="line-519"></span><span>
</span><span id="line-520"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#preExecuteScriptAction"><span class="hs-identifier hs-type">preExecuteScriptAction</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-521"></span><span>     </span><span class="annot"><span class="hs-identifier hs-type">ProtocolParameters</span></span><span>
</span><span id="line-522"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScriptInAnyLang</span></span><span>
</span><span id="line-523"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScriptData</span></span><span>
</span><span id="line-524"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScriptData</span></span><span>
</span><span id="line-525"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ExecutionUnits</span></span><span>
</span><span id="line-526"></span><span id="preExecuteScriptAction"><span class="annot"><span class="annottext">preExecuteScriptAction :: ProtocolParameters
-&gt; ScriptInAnyLang
-&gt; ScriptData
-&gt; ScriptData
-&gt; ExceptT Error (RWST IOManager () Env IO) ExecutionUnits
</span><a href="Cardano.Benchmarking.Script.Core.html#preExecuteScriptAction"><span class="hs-identifier hs-var hs-var">preExecuteScriptAction</span></a></span></span><span> </span><span id="local-6989586621679816745"><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679816745"><span class="hs-identifier hs-var">protocolParameters</span></a></span></span><span> </span><span id="local-6989586621679816746"><span class="annot"><span class="annottext">ScriptInAnyLang
</span><a href="#local-6989586621679816746"><span class="hs-identifier hs-var">script</span></a></span></span><span> </span><span id="local-6989586621679816747"><span class="annot"><span class="annottext">ScriptData
</span><a href="#local-6989586621679816747"><span class="hs-identifier hs-var">scriptData</span></a></span></span><span> </span><span id="local-6989586621679816748"><span class="annot"><span class="annottext">ScriptData
</span><a href="#local-6989586621679816748"><span class="hs-identifier hs-var">redeemer</span></a></span></span><span>
</span><span id="line-527"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
-&gt; ScriptInAnyLang
-&gt; ScriptData
-&gt; HashableScriptData
-&gt; Either TxGenError ExecutionUnits
</span><a href="Cardano.TxGenerator.Setup.Plutus.html#preExecutePlutusScript"><span class="hs-identifier hs-var">Plutus.preExecutePlutusScript</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679816745"><span class="hs-identifier hs-var">protocolParameters</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptInAnyLang
</span><a href="#local-6989586621679816746"><span class="hs-identifier hs-var">script</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptData
</span><a href="#local-6989586621679816747"><span class="hs-identifier hs-var">scriptData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptData -&gt; HashableScriptData
</span><span class="hs-identifier hs-var">unsafeHashableScriptData</span></span><span> </span><span class="annot"><span class="annottext">ScriptData
</span><a href="#local-6989586621679816748"><span class="hs-identifier hs-var">redeemer</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-528"></span><span>      </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679816750"><span class="annot"><span class="annottext">TxGenError
</span><a href="#local-6989586621679816750"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Error -&gt; ExceptT Error (RWST IOManager () Env IO) ExecutionUnits
forall (m :: * -&gt; *) e a. Monad m =&gt; e -&gt; ExceptT e m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#throwE"><span class="hs-identifier hs-var">throwE</span></a></span><span> </span><span class="annot"><span class="annottext">(Error -&gt; ExceptT Error (RWST IOManager () Env IO) ExecutionUnits)
-&gt; Error -&gt; ExceptT Error (RWST IOManager () Env IO) ExecutionUnits
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Error
</span><a href="Cardano.Benchmarking.Script.Env.html#WalletError"><span class="hs-identifier hs-var">WalletError</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;makePlutusContext preExecuteScript failed: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenError -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenError
</span><a href="#local-6989586621679816750"><span class="hs-identifier hs-var">err</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-529"></span><span>      </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679816751"><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679816751"><span class="hs-identifier hs-var">costs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
-&gt; ExceptT Error (RWST IOManager () Env IO) ExecutionUnits
forall a. a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679816751"><span class="hs-identifier hs-var">costs</span></a></span><span>
</span><span id="line-530"></span><span>
</span><span id="line-531"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#dumpBudgetSummaryIfExisting"><span class="hs-identifier hs-type">dumpBudgetSummaryIfExisting</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-532"></span><span id="dumpBudgetSummaryIfExisting"><span class="annot"><span class="annottext">dumpBudgetSummaryIfExisting :: ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#dumpBudgetSummaryIfExisting"><span class="hs-identifier hs-var hs-var">dumpBudgetSummaryIfExisting</span></a></span></span><span>
</span><span id="line-533"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-534"></span><span>    </span><span id="local-6989586621679816752"><span class="annot"><span class="annottext">Maybe PlutusBudgetSummary
</span><a href="#local-6989586621679816752"><span class="hs-identifier hs-var">summary_</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM (Maybe PlutusBudgetSummary)
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvSummary"><span class="hs-identifier hs-var">getEnvSummary</span></a></span><span>
</span><span id="line-535"></span><span>    </span><span class="annot"><span class="annottext">Maybe PlutusBudgetSummary
-&gt; (PlutusBudgetSummary -&gt; ActionM ()) -&gt; ActionM ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m ()
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Foldable.html#forM_"><span class="hs-identifier hs-var">forM_</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe PlutusBudgetSummary
</span><a href="#local-6989586621679816752"><span class="hs-identifier hs-var">summary_</span></a></span><span> </span><span class="annot"><span class="annottext">((PlutusBudgetSummary -&gt; ActionM ()) -&gt; ActionM ())
-&gt; (PlutusBudgetSummary -&gt; ActionM ()) -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679816753"><span class="annot"><span class="annottext">PlutusBudgetSummary
</span><a href="#local-6989586621679816753"><span class="hs-identifier hs-var">summary</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-536"></span><span>      </span><span class="annot"><span class="annottext">IO () -&gt; ActionM ()
forall a. IO a -&gt; ExceptT Error (RWST IOManager () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ActionM ()) -&gt; IO () -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ByteString -&gt; IO ()
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/src/Data.ByteString.Lazy.html#writeFile"><span class="hs-identifier hs-var">BSL.writeFile</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816754"><span class="hs-identifier hs-var">summaryFile</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ()) -&gt; ByteString -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusBudgetSummary -&gt; ByteString
forall a. ToJSON a =&gt; a -&gt; ByteString
</span><a href="Cardano.Benchmarking.Script.Aeson.html#prettyPrintOrdered"><span class="hs-identifier hs-var">prettyPrintOrdered</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusBudgetSummary
</span><a href="#local-6989586621679816753"><span class="hs-identifier hs-var">summary</span></a></span><span>
</span><span id="line-537"></span><span>      </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceDebug"><span class="hs-identifier hs-var">traceDebug</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ActionM ()) -&gt; [Char] -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;dumpBudgetSummaryIfExisting : budget summary created/updated in: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679816754"><span class="hs-identifier hs-var">summaryFile</span></a></span><span>
</span><span id="line-538"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-539"></span><span>    </span><span id="local-6989586621679816754"><span class="annot"><span class="annottext">summaryFile :: [Char]
</span><a href="#local-6989586621679816754"><span class="hs-identifier hs-var hs-var">summaryFile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;plutus-budget-summary.json&quot;</span></span><span>
</span><span id="line-540"></span><span>
</span><span id="line-541"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#traceTxGeneratorVersion"><span class="hs-identifier hs-type">traceTxGeneratorVersion</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-542"></span><span id="traceTxGeneratorVersion"><span class="annot"><span class="annottext">traceTxGeneratorVersion :: ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#traceTxGeneratorVersion"><span class="hs-identifier hs-var hs-var">traceTxGeneratorVersion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall txId. Version -&gt; TraceBenchTxSubmit txId)
-&gt; Version -&gt; ActionM ()
forall x.
(forall txId. x -&gt; TraceBenchTxSubmit txId) -&gt; x -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceBenchTxSubmit"><span class="hs-identifier hs-var">traceBenchTxSubmit</span></a></span><span> </span><span class="annot"><span class="annottext">Version -&gt; TraceBenchTxSubmit txId
forall txId. Version -&gt; TraceBenchTxSubmit txId
</span><a href="Cardano.Benchmarking.LogTypes.html#TraceTxGeneratorVersion"><span class="hs-identifier hs-var">TraceTxGeneratorVersion</span></a></span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="Cardano.Benchmarking.Version.html#txGeneratorVersion"><span class="hs-identifier hs-var">Version.txGeneratorVersion</span></a></span><span>
</span><span id="line-543"></span><span>
</span><span id="line-544"></span><span class="hs-comment">{-
This is for dirty hacking and testing and quick-fixes.
Its a function that can be called from the JSON scripts
and for which the JSON encoding is &quot;reserved&quot;.
-}</span><span>
</span><span id="line-549"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#reserved"><span class="hs-identifier hs-type">reserved</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-550"></span><span id="reserved"><span class="annot"><span class="annottext">reserved :: [[Char]] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#reserved"><span class="hs-identifier hs-var hs-var">reserved</span></a></span></span><span> </span><span class="annot"><span class="annottext">[[Char]]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-551"></span><span>  </span><span class="annot"><span class="annottext">Error -&gt; ActionM ()
forall (m :: * -&gt; *) e a. Monad m =&gt; e -&gt; ExceptT e m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#throwE"><span class="hs-identifier hs-var">throwE</span></a></span><span> </span><span class="annot"><span class="annottext">(Error -&gt; ActionM ()) -&gt; Error -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Error
</span><a href="Cardano.Benchmarking.Script.Env.html#UserError"><span class="hs-identifier hs-var">UserError</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;no dirty hack is implemented&quot;</span></span><span>
</span><span id="line-552"></span></pre></body></html>