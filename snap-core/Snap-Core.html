<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Snap.Core</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">snap-core-1.0.5.1: Snap: A Haskell Web Framework (core interfaces and types)</span><ul class="links" id="page-menu"><li id="quick-jump-button"><a href="#">Quick Jump</a></li><li><a href="src/Snap.Core.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Snap.Core</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">The Snap Monad</a><ul><li><a href="#g:2">Functions for control flow and early termination</a><ul><li><a href="#g:3">Escaping HTTP</a></li></ul></li><li><a href="#g:4">Routing</a></li><li><a href="#g:5">Access to state</a></li><li><a href="#g:6">Logging</a></li><li><a href="#g:7">Grabbing/transforming request bodies</a></li></ul></li><li><a href="#g:8">HTTP Datatypes and Functions</a><ul><li><a href="#g:9">Headers</a></li><li><a href="#g:10">Requests</a><ul><li><a href="#g:11">Deprecated functions</a></li></ul></li><li><a href="#g:12">Responses</a><ul><li><a href="#g:13">Response I/O</a></li></ul></li><li><a href="#g:14">Timeouts</a></li></ul></li><li><a href="#g:15">HTTP utilities</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module contains the core type definitions, class instances, and functions
for HTTP as well as the <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> monad, which is used for web handlers.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Snap">Snap</a> a</li><li class="src short"><a href="#v:runSnap">runSnap</a> :: <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> ()) -&gt; ((<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> ()) -&gt; <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a>, <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a>)</li><li class="src short"><span class="keyword">class</span> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> m, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad.html#t:MonadPlus" title="Control.Monad">MonadPlus</a> m, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Applicative.html#t:Alternative" title="Control.Applicative">Alternative</a> m) =&gt; <a href="#t:MonadSnap">MonadSnap</a> m <span class="keyword">where</span><ul class="subs"><li><a href="#v:liftSnap">liftSnap</a> :: <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; m a</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:NoHandlerException">NoHandlerException</a> = <a href="#v:NoHandlerException">NoHandlerException</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a></li><li class="src short"><a href="#v:bracketSnap">bracketSnap</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; (a -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> b) -&gt; (a -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> c) -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> c</li><li class="src short"><a href="#v:finishWith">finishWith</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; m a</li><li class="src short"><a href="#v:catchFinishWith">catchFinishWith</a> :: <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> a)</li><li class="src short"><a href="#v:pass">pass</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; m a</li><li class="src short"><span class="keyword">type</span> <a href="#t:EscapeHttpHandler">EscapeHttpHandler</a> = ((<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> ()) -&gt; InputStream <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; OutputStream <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:EscapeSnap">EscapeSnap</a><ul class="subs"><li>= <a href="#v:TerminateConnection">TerminateConnection</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a></li><li>| <a href="#v:EscapeHttp">EscapeHttp</a> <a href="Snap-Core.html#t:EscapeHttpHandler" title="Snap.Core">EscapeHttpHandler</a></li></ul></li><li class="src short"><a href="#v:escapeHttp">escapeHttp</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="Snap-Core.html#t:EscapeHttpHandler" title="Snap.Core">EscapeHttpHandler</a> -&gt; m ()</li><li class="src short"><a href="#v:terminateConnection">terminateConnection</a> :: (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> e, <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m) =&gt; e -&gt; m a</li><li class="src short"><a href="#v:method">method</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a> -&gt; m a -&gt; m a</li><li class="src short"><a href="#v:methods">methods</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; [<a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a>] -&gt; m a -&gt; m a</li><li class="src short"><a href="#v:path">path</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m a -&gt; m a</li><li class="src short"><a href="#v:pathArg">pathArg</a> :: (Readable a, <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m) =&gt; (a -&gt; m b) -&gt; m b</li><li class="src short"><a href="#v:dir">dir</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m a -&gt; m a</li><li class="src short"><a href="#v:ifTop">ifTop</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; m a -&gt; m a</li><li class="src short"><a href="#v:route">route</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; [(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, m a)] -&gt; m a</li><li class="src short"><a href="#v:routeLocal">routeLocal</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; [(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, m a)] -&gt; m a</li><li class="src short"><a href="#v:getRequest">getRequest</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; m <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></li><li class="src short"><a href="#v:getsRequest">getsRequest</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; (<a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; a) -&gt; m a</li><li class="src short"><a href="#v:getResponse">getResponse</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; m <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></li><li class="src short"><a href="#v:getsResponse">getsResponse</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; (<a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; a) -&gt; m a</li><li class="src short"><a href="#v:putRequest">putRequest</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; m ()</li><li class="src short"><a href="#v:putResponse">putResponse</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; m ()</li><li class="src short"><a href="#v:modifyRequest">modifyRequest</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; (<a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a>) -&gt; m ()</li><li class="src short"><a href="#v:modifyResponse">modifyResponse</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; (<a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a>) -&gt; m ()</li><li class="src short"><a href="#v:localRequest">localRequest</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; (<a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a>) -&gt; m a -&gt; m a</li><li class="src short"><a href="#v:withRequest">withRequest</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; (<a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; m a) -&gt; m a</li><li class="src short"><a href="#v:withResponse">withResponse</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; (<a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; m a) -&gt; m a</li><li class="src short"><a href="#v:logError">logError</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m ()</li><li class="src short"><a href="#v:runRequestBody">runRequestBody</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; (InputStream <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> a) -&gt; m a</li><li class="src short"><a href="#v:readRequestBody">readRequestBody</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; m <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></li><li class="src short"><a href="#v:transformRequestBody">transformRequestBody</a> :: (InputStream <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (InputStream <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)) -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:Request">Request</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Response">Response</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Headers">Headers</a></li><li class="src short"><span class="keyword">class</span> <a href="#t:HasHeaders">HasHeaders</a> a <span class="keyword">where</span><ul class="subs"><li><a href="#v:updateHeaders">updateHeaders</a> :: (<a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a> -&gt; <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a>) -&gt; a -&gt; a</li><li><a href="#v:headers">headers</a> :: a -&gt; <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a></li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:Params">Params</a> = <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> [<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>]</li><li class="src short"><span class="keyword">data</span> <a href="#t:Method">Method</a><ul class="subs"><li>= <a href="#v:GET">GET</a></li><li>| <a href="#v:HEAD">HEAD</a></li><li>| <a href="#v:POST">POST</a></li><li>| <a href="#v:PUT">PUT</a></li><li>| <a href="#v:DELETE">DELETE</a></li><li>| <a href="#v:TRACE">TRACE</a></li><li>| <a href="#v:OPTIONS">OPTIONS</a></li><li>| <a href="#v:CONNECT">CONNECT</a></li><li>| <a href="#v:PATCH">PATCH</a></li><li>| <a href="#v:Method">Method</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Cookie">Cookie</a> = <a href="#v:Cookie">Cookie</a> {<ul class="subs"><li><a href="#v:cookieName">cookieName</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li><a href="#v:cookieValue">cookieValue</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li><a href="#v:cookieExpires">cookieExpires</a> :: !(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:UTCTime" title="Data.Time.Clock">UTCTime</a>)</li><li><a href="#v:cookieDomain">cookieDomain</a> :: !(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)</li><li><a href="#v:cookiePath">cookiePath</a> :: !(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)</li><li><a href="#v:cookieSecure">cookieSecure</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li><a href="#v:cookieHttpOnly">cookieHttpOnly</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:HttpVersion">HttpVersion</a> = (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>)</li><li class="src short"><a href="#v:addHeader">addHeader</a> :: <a href="Snap-Core.html#t:HasHeaders" title="Snap.Core">HasHeaders</a> a =&gt; CI <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; a -&gt; a</li><li class="src short"><a href="#v:setHeader">setHeader</a> :: <a href="Snap-Core.html#t:HasHeaders" title="Snap.Core">HasHeaders</a> a =&gt; CI <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; a -&gt; a</li><li class="src short"><a href="#v:getHeader">getHeader</a> :: <a href="Snap-Core.html#t:HasHeaders" title="Snap.Core">HasHeaders</a> a =&gt; CI <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; a -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li class="src short"><a href="#v:listHeaders">listHeaders</a> :: <a href="Snap-Core.html#t:HasHeaders" title="Snap.Core">HasHeaders</a> a =&gt; a -&gt; [(CI <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)]</li><li class="src short"><a href="#v:deleteHeader">deleteHeader</a> :: <a href="Snap-Core.html#t:HasHeaders" title="Snap.Core">HasHeaders</a> a =&gt; CI <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; a -&gt; a</li><li class="src short"><a href="#v:ipHeaderFilter">ipHeaderFilter</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; m ()</li><li class="src short"><a href="#v:ipHeaderFilter-39-">ipHeaderFilter'</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; CI <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m ()</li><li class="src short"><a href="#v:rqHeaders">rqHeaders</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a></li><li class="src short"><a href="#v:rqHostName">rqHostName</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li class="src short"><a href="#v:rqClientAddr">rqClientAddr</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li class="src short"><a href="#v:rqClientPort">rqClientPort</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:rqServerAddr">rqServerAddr</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li class="src short"><a href="#v:rqServerPort">rqServerPort</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:rqLocalHostname">rqLocalHostname</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li class="src short"><a href="#v:rqIsSecure">rqIsSecure</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:rqContentLength">rqContentLength</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></li><li class="src short"><a href="#v:rqMethod">rqMethod</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a></li><li class="src short"><a href="#v:rqVersion">rqVersion</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="Snap-Core.html#t:HttpVersion" title="Snap.Core">HttpVersion</a></li><li class="src short"><a href="#v:rqCookies">rqCookies</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; [<a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a>]</li><li class="src short"><a href="#v:rqPathInfo">rqPathInfo</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li class="src short"><a href="#v:rqContextPath">rqContextPath</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li class="src short"><a href="#v:rqURI">rqURI</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li class="src short"><a href="#v:rqQueryString">rqQueryString</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li class="src short"><a href="#v:rqParams">rqParams</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="Snap-Core.html#t:Params" title="Snap.Core">Params</a></li><li class="src short"><a href="#v:rqQueryParams">rqQueryParams</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="Snap-Core.html#t:Params" title="Snap.Core">Params</a></li><li class="src short"><a href="#v:rqPostParams">rqPostParams</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="Snap-Core.html#t:Params" title="Snap.Core">Params</a></li><li class="src short"><a href="#v:rqParam">rqParam</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> [<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>]</li><li class="src short"><a href="#v:rqPostParam">rqPostParam</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> [<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>]</li><li class="src short"><a href="#v:rqQueryParam">rqQueryParam</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> [<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>]</li><li class="src short"><a href="#v:getParam">getParam</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)</li><li class="src short"><a href="#v:getPostParam">getPostParam</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)</li><li class="src short"><a href="#v:getQueryParam">getQueryParam</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)</li><li class="src short"><a href="#v:getParams">getParams</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; m <a href="Snap-Core.html#t:Params" title="Snap.Core">Params</a></li><li class="src short"><a href="#v:getPostParams">getPostParams</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; m <a href="Snap-Core.html#t:Params" title="Snap.Core">Params</a></li><li class="src short"><a href="#v:getQueryParams">getQueryParams</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; m <a href="Snap-Core.html#t:Params" title="Snap.Core">Params</a></li><li class="src short"><a href="#v:rqModifyParams">rqModifyParams</a> :: (<a href="Snap-Core.html#t:Params" title="Snap.Core">Params</a> -&gt; <a href="Snap-Core.html#t:Params" title="Snap.Core">Params</a>) -&gt; <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></li><li class="src short"><a href="#v:rqSetParam">rqSetParam</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; [<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>] -&gt; <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></li><li class="src short"><a href="#v:rqRemoteAddr">rqRemoteAddr</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li class="src short"><a href="#v:rqRemotePort">rqRemotePort</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:emptyResponse">emptyResponse</a> :: <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></li><li class="src short"><a href="#v:setResponseCode">setResponseCode</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></li><li class="src short"><a href="#v:setResponseStatus">setResponseStatus</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></li><li class="src short"><a href="#v:rspStatus">rspStatus</a> :: <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:rspStatusReason">rspStatusReason</a> :: <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li class="src short"><a href="#v:setContentType">setContentType</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></li><li class="src short"><a href="#v:addResponseCookie">addResponseCookie</a> :: <a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a> -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></li><li class="src short"><a href="#v:getResponseCookie">getResponseCookie</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a></li><li class="src short"><a href="#v:getResponseCookies">getResponseCookies</a> :: <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; [<a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a>]</li><li class="src short"><a href="#v:deleteResponseCookie">deleteResponseCookie</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></li><li class="src short"><a href="#v:modifyResponseCookie">modifyResponseCookie</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; (<a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a> -&gt; <a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a>) -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></li><li class="src short"><a href="#v:expireCookie">expireCookie</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a> -&gt; m ()</li><li class="src short"><a href="#v:getCookie">getCookie</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a>)</li><li class="src short"><a href="#v:readCookie">readCookie</a> :: (<a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m, Readable a) =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m a</li><li class="src short"><a href="#v:setContentLength">setContentLength</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></li><li class="src short"><a href="#v:clearContentLength">clearContentLength</a> :: <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></li><li class="src short"><a href="#v:redirect">redirect</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m a</li><li class="src short"><a href="#v:redirect-39-">redirect'</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m a</li><li class="src short"><a href="#v:setResponseBody">setResponseBody</a> :: (OutputStream <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (OutputStream <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a>)) -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></li><li class="src short"><a href="#v:modifyResponseBody">modifyResponseBody</a> :: ((OutputStream <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (OutputStream <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a>)) -&gt; OutputStream <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (OutputStream <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a>)) -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></li><li class="src short"><a href="#v:addToOutput">addToOutput</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; (OutputStream <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (OutputStream <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a>)) -&gt; m ()</li><li class="src short"><a href="#v:writeBuilder">writeBuilder</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a> -&gt; m ()</li><li class="src short"><a href="#v:writeBS">writeBS</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m ()</li><li class="src short"><a href="#v:writeLazyText">writeLazyText</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/text-2.0.2/Data-Text-Lazy.html#t:Text" title="Data.Text.Lazy">Text</a> -&gt; m ()</li><li class="src short"><a href="#v:writeText">writeText</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/text-2.0.2/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; m ()</li><li class="src short"><a href="#v:writeLBS">writeLBS</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> -&gt; m ()</li><li class="src short"><a href="#v:sendFile">sendFile</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; m ()</li><li class="src short"><a href="#v:sendFilePartial">sendFilePartial</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a>, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a>) -&gt; m ()</li><li class="src short"><a href="#v:setTimeout">setTimeout</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m ()</li><li class="src short"><a href="#v:extendTimeout">extendTimeout</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m ()</li><li class="src short"><a href="#v:modifyTimeout">modifyTimeout</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; m ()</li><li class="src short"><a href="#v:getTimeoutModifier">getTimeoutModifier</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; m ((<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> ())</li><li class="src short"><a href="#v:formatHttpTime">formatHttpTime</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Foreign-C-Types.html#t:CTime" title="Foreign.C.Types">CTime</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li class="src short"><a href="#v:parseHttpTime">parseHttpTime</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Foreign-C-Types.html#t:CTime" title="Foreign.C.Types">CTime</a></li><li class="src short"><a href="#v:parseUrlEncoded">parseUrlEncoded</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> [<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>]</li><li class="src short"><a href="#v:buildUrlEncoded">buildUrlEncoded</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> [<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a></li><li class="src short"><a href="#v:printUrlEncoded">printUrlEncoded</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> [<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li class="src short"><a href="#v:urlEncode">urlEncode</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li class="src short"><a href="#v:urlEncodeBuilder">urlEncodeBuilder</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a></li><li class="src short"><a href="#v:urlDecode">urlDecode</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>The Snap Monad</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Snap" class="def">Snap</a> a <a href="src/Snap.Internal.Core.html#Snap" class="link">Source</a> <a href="#t:Snap" class="selflink">#</a></p><div class="doc"><p><code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> is the <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> that user web handlers run in. <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> gives you:</p><ol><li value="1"><p>Stateful access to fetch or modify an HTTP <code><a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></code>.</p><pre>printRqContextPath :: Snap ()
printRqContextPath = <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> . <code><a href="Snap-Core.html#v:rqContextPath" title="Snap.Core">rqContextPath</a></code> =&lt;&lt; <code><a href="Snap-Core.html#v:getRequest" title="Snap.Core">getRequest</a></code>
</pre></li><li value="2"><p>Stateful access to fetch or modify an HTTP <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code>.</p><pre>printRspStatusReason :: Snap ()
printRspStatusReason = <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> . <code><a href="Snap-Core.html#v:rspStatusReason" title="Snap.Core">rspStatusReason</a></code> =&lt;&lt; <code><a href="Snap-Core.html#v:getResponse" title="Snap.Core">getResponse</a></code>
</pre></li><li value="3"><p>Failure / <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Applicative.html#t:Alternative" title="Control.Applicative">Alternative</a></code> / <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad.html#t:MonadPlus" title="Control.Monad">MonadPlus</a></code> semantics: a <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> handler can
choose not to handle a given request, using <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Applicative.html#v:empty" title="Control.Applicative">empty</a></code> or its synonym <code><a href="Snap-Core.html#v:pass" title="Snap.Core">pass</a></code>, and
you can try alternative handlers with the <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Applicative.html#v:-60--124--62-" title="Control.Applicative">&lt;|&gt;</a></code> operator:</p><pre>a :: Snap String
a = <code><a href="Snap-Core.html#v:pass" title="Snap.Core">pass</a></code>

b :: Snap String
b = return &quot;foo&quot;

c :: Snap String
c = a <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Applicative.html#v:-60--124--62-" title="Control.Applicative">&lt;|&gt;</a></code> b             -- try running a, if it fails then try b
</pre></li><li value="4"><p>Convenience functions (<code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code>, <code><a href="Snap-Core.html#v:writeLBS" title="Snap.Core">writeLBS</a></code>, <code><a href="Snap-Core.html#v:writeText" title="Snap.Core">writeText</a></code>, <code><a href="Snap-Core.html#v:writeLazyText" title="Snap.Core">writeLazyText</a></code>,
<code><a href="Snap-Core.html#v:addToOutput" title="Snap.Core">addToOutput</a></code>) for queueing output to be written to the <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code>, or for
streaming to the response using
<a href="http://hackage.haskell.org/package/io-streams">io-streams</a>:</p><pre>example :: (<code>OutputStream</code> <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a></code> -&gt; IO (<code>OutputStream</code> <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a></code>)) -&gt; Snap ()
example streamProc = do
    <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code>   &quot;I'm a strict bytestring&quot;
    <code><a href="Snap-Core.html#v:writeLBS" title="Snap.Core">writeLBS</a></code>  &quot;I'm a lazy bytestring&quot;
    <code><a href="Snap-Core.html#v:writeText" title="Snap.Core">writeText</a></code> &quot;I'm strict text&quot;
    <code><a href="Snap-Core.html#v:addToOutput" title="Snap.Core">addToOutput</a></code> streamProc
</pre></li><li value="5"><p>Early termination: if you call <code><a href="Snap-Core.html#v:finishWith" title="Snap.Core">finishWith</a></code>:</p><pre>a :: Snap ()
a = do
    <code><a href="Snap-Core.html#v:modifyResponse" title="Snap.Core">modifyResponse</a></code> $ <code><a href="Snap-Core.html#v:setResponseStatus" title="Snap.Core">setResponseStatus</a></code> 500 &quot;Internal Server Error&quot;
    <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> &quot;500 error&quot;
    r &lt;- <code><a href="Snap-Core.html#v:getResponse" title="Snap.Core">getResponse</a></code>
    <code><a href="Snap-Core.html#v:finishWith" title="Snap.Core">finishWith</a></code> r
</pre><p>then any subsequent processing will be skipped and the supplied <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code>
value will be returned from <code><a href="Snap-Core.html#v:runSnap" title="Snap.Core">runSnap</a></code> as-is.</p></li><li value="6"><p>Access to the <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a></code> monad through a <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a></code> instance:</p><pre>a :: Snap ()
a = <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad-IO-Class.html#v:liftIO" title="Control.Monad.IO.Class">liftIO</a></code> fireTheMissiles
</pre></li><li value="7"><p>The ability to set or extend a timeout which will kill the handler thread
after <code>N</code> seconds of inactivity (the default is 20 seconds):</p><pre>a :: Snap ()
a = <code><a href="Snap-Core.html#v:setTimeout" title="Snap.Core">setTimeout</a></code> 30
</pre></li><li value="8"><p>Throw and catch exceptions using a <code>MonadBaseControl</code> instance:</p><pre>import <a href="Control-Exception-Lifted.html">Control.Exception.Lifted</a> (<code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a></code>, <code>throwIO</code>, <code>catch</code>)

foo :: Snap ()
foo = bar `catch` (e::<code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a></code>) -&gt; baz
  where
    bar = <code>throwIO</code> FooException
</pre></li><li value="9"><p>Log a message to the error log:</p><pre>foo :: Snap ()
foo = <code><a href="Snap-Core.html#v:logError" title="Snap.Core">logError</a></code> &quot;grumble.&quot;
</pre></li></ol><p>You may notice that most of the type signatures in this module contain a
 <code>(<code><a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a></code> m) =&gt; ...</code> typeclass constraint. <code><a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a></code> is a typeclass
 which, in essence, says &quot;you can get back to the <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> monad from
 here&quot;. Using <code><a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a></code> you can extend the <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> monad with additional
 functionality and still have access to most of the <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> functions without
 writing <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/transformers-0.6.1.0/Control-Monad-Trans-Class.html#v:lift" title="Control.Monad.Trans.Class">lift</a></code> everywhere. Instances are already
 provided for most of the common monad transformers
 (<code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/transformers-0.6.1.0/Control-Monad-Trans-Reader.html#v:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a></code>, <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/transformers-0.6.1.0/Control-Monad-Trans-Writer.html#v:WriterT" title="Control.Monad.Trans.Writer">WriterT</a></code>,
 <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-State-Lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a></code>, etc.).</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Snap">Instances</h4><details id="i:Snap" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Snap:MonadFail:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></span> <a href="src/Snap.Internal.Core.html#line-318" class="link">Source</a> <a href="#t:Snap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Snap:MonadFail:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Core.html">Snap.Internal.Core</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fail">fail</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:fail" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Snap:MonadIO:2"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></span> <a href="src/Snap.Internal.Core.html#line-332" class="link">Source</a> <a href="#t:Snap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Snap:MonadIO:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Core.html">Snap.Internal.Core</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftIO">liftIO</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:liftIO" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Snap:Alternative:3"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Applicative.html#t:Alternative" title="Control.Applicative">Alternative</a> <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></span> <a href="src/Snap.Internal.Core.html#line-399" class="link">Source</a> <a href="#t:Snap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Snap:Alternative:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Core.html">Snap.Internal.Core</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:empty">empty</a> :: <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:empty" class="selflink">#</a></p><p class="src"><a href="#v:-60--124--62-">(&lt;|&gt;)</a> :: <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:-60--124--62-" class="selflink">#</a></p><p class="src"><a href="#v:some">some</a> :: <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> [a] <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:some" class="selflink">#</a></p><p class="src"><a href="#v:many">many</a> :: <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> [a] <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:many" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Snap:Applicative:4"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></span> <a href="src/Snap.Internal.Core.html#line-393" class="link">Source</a> <a href="#t:Snap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Snap:Applicative:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Core.html">Snap.Internal.Core</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> (a -&gt; b) -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> b <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> b -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> c <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> b -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> b <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> b -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:-60--42-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Snap:Functor:5"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></span> <a href="src/Snap.Internal.Core.html#line-389" class="link">Source</a> <a href="#t:Snap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Snap:Functor:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Core.html">Snap.Internal.Core</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> b <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> b -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Snap:Monad:6"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></span> <a href="src/Snap.Internal.Core.html#line-307" class="link">Source</a> <a href="#t:Snap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Snap:Monad:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Core.html">Snap.Internal.Core</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; (a -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> b) -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> b <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> b -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> b <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:return" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Snap:MonadPlus:7"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad.html#t:MonadPlus" title="Control.Monad">MonadPlus</a> <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></span> <a href="src/Snap.Internal.Core.html#line-377" class="link">Source</a> <a href="#t:Snap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Snap:MonadPlus:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Core.html">Snap.Internal.Core</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mzero">mzero</a> :: <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:mzero" class="selflink">#</a></p><p class="src"><a href="#v:mplus">mplus</a> :: <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:mplus" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Snap:MonadSnap:8"></span> <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></span> <a href="src/Snap.Internal.Core.html#line-405" class="link">Source</a> <a href="#t:Snap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Snap:MonadSnap:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Core.html">Snap.Internal.Core</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftSnap">liftSnap</a> :: <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a <a href="src/Snap.Internal.Core.html#liftSnap" class="link">Source</a> <a href="#v:liftSnap" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Snap:MonadBaseControl:9"></span> MonadBaseControl <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></span> <a href="src/Snap.Internal.Core.html#line-347" class="link">Source</a> <a href="#t:Snap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Snap:MonadBaseControl:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Core.html">Snap.Internal.Core</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> StM <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a</p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftBaseWith">liftBaseWith</a> :: (RunInBase <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> a) -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a</p><p class="src"><a href="#v:restoreM">restoreM</a> :: StM <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Snap:MonadBase:10"></span> MonadBase <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></span> <a href="src/Snap.Internal.Core.html#line-338" class="link">Source</a> <a href="#t:Snap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Snap:MonadBase:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Core.html">Snap.Internal.Core</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftBase">liftBase</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> &#945; -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> &#945;</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Snap:StM:11"></span> <span class="keyword">type</span> StM <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a</span> <a href="src/Snap.Internal.Core.html#line-348" class="link">Source</a> <a href="#t:Snap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Snap:StM:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Core.html">Snap.Internal.Core</a></p> <div class="src"><span class="keyword">type</span> StM <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:runSnap" class="def">runSnap</a> <a href="src/Snap.Internal.Core.html#runSnap" class="link">Source</a> <a href="#v:runSnap" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a</td><td class="doc"><p>Action to run.</p></td></tr><tr><td class="src">-&gt; (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> ())</td><td class="doc"><p>Error logging action.</p></td></tr><tr><td class="src">-&gt; ((<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> ())</td><td class="doc"><p>Timeout action.</p></td></tr><tr><td class="src">-&gt; <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></td><td class="doc"><p>HTTP request.</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a>, <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Runs a <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> monad action.</p><p>This function is mostly intended for library writers; instead of invoking
 <code><a href="Snap-Core.html#v:runSnap" title="Snap.Core">runSnap</a></code> directly, use <code><a href="Snap-Http-Server.html#v:httpServe" title="Snap.Http.Server">httpServe</a></code> or
 <code><a href="Snap-Test.html#v:runHandler" title="Snap.Test">runHandler</a></code> (for testing).</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> m, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad.html#t:MonadPlus" title="Control.Monad">MonadPlus</a> m, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Applicative.html#t:Alternative" title="Control.Applicative">Alternative</a> m) =&gt; <a id="t:MonadSnap" class="def">MonadSnap</a> m <span class="keyword">where</span> <a href="src/Snap.Internal.Core.html#MonadSnap" class="link">Source</a> <a href="#t:MonadSnap" class="selflink">#</a></p><div class="doc"><p><code><a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a></code> is a type class, analogous to <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a></code> for <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a></code>, that makes it
 easy to wrap <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> inside monad transformers.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:liftSnap" class="def">liftSnap</a> :: <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; m a <a href="src/Snap.Internal.Core.html#liftSnap" class="link">Source</a> <a href="#v:liftSnap" class="selflink">#</a></p><div class="doc"><p>Lift a computation from the <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> monad.</p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:MonadSnap">Instances</h4><details id="i:MonadSnap" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadSnap:MonadSnap:1"></span> <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></span> <a href="src/Snap.Internal.Core.html#line-405" class="link">Source</a> <a href="#t:MonadSnap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadSnap:MonadSnap:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Core.html">Snap.Internal.Core</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftSnap">liftSnap</a> :: <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a <a href="src/Snap.Internal.Core.html#liftSnap" class="link">Source</a> <a href="#v:liftSnap" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadSnap:MonadSnap:2"></span> (<a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> e) =&gt; <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> e m)</span> <a href="src/Snap.Internal.Instances.html#line-46" class="link">Source</a> <a href="#t:MonadSnap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadSnap:MonadSnap:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Instances.html">Snap.Internal.Instances</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftSnap">liftSnap</a> :: <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> e m a <a href="src/Snap.Internal.Core.html#liftSnap" class="link">Source</a> <a href="#v:liftSnap" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadSnap:MonadSnap:3"></span> <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> r m)</span> <a href="src/Snap.Internal.Instances.html#line-62" class="link">Source</a> <a href="#t:MonadSnap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadSnap:MonadSnap:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Instances.html">Snap.Internal.Instances</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftSnap">liftSnap</a> :: <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> r m a <a href="src/Snap.Internal.Core.html#liftSnap" class="link">Source</a> <a href="#v:liftSnap" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadSnap:MonadSnap:4"></span> <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-State-Lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> s m)</span> <a href="src/Snap.Internal.Instances.html#line-72" class="link">Source</a> <a href="#t:MonadSnap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadSnap:MonadSnap:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Instances.html">Snap.Internal.Instances</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftSnap">liftSnap</a> :: <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-State-Lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> s m a <a href="src/Snap.Internal.Core.html#liftSnap" class="link">Source</a> <a href="#v:liftSnap" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadSnap:MonadSnap:5"></span> <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-State-Strict.html#t:StateT" title="Control.Monad.State.Strict">StateT</a> s m)</span> <a href="src/Snap.Internal.Instances.html#line-67" class="link">Source</a> <a href="#t:MonadSnap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadSnap:MonadSnap:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Instances.html">Snap.Internal.Instances</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftSnap">liftSnap</a> :: <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-State-Strict.html#t:StateT" title="Control.Monad.State.Strict">StateT</a> s m a <a href="src/Snap.Internal.Core.html#liftSnap" class="link">Source</a> <a href="#v:liftSnap" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadSnap:MonadSnap:6"></span> (<a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> w) =&gt; <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Writer-Lazy.html#t:WriterT" title="Control.Monad.Writer.Lazy">WriterT</a> w m)</span> <a href="src/Snap.Internal.Instances.html#line-82" class="link">Source</a> <a href="#t:MonadSnap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadSnap:MonadSnap:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Instances.html">Snap.Internal.Instances</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftSnap">liftSnap</a> :: <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Writer-Lazy.html#t:WriterT" title="Control.Monad.Writer.Lazy">WriterT</a> w m a <a href="src/Snap.Internal.Core.html#liftSnap" class="link">Source</a> <a href="#v:liftSnap" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadSnap:MonadSnap:7"></span> (<a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> w) =&gt; <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Writer-Strict.html#t:WriterT" title="Control.Monad.Writer.Strict">WriterT</a> w m)</span> <a href="src/Snap.Internal.Instances.html#line-77" class="link">Source</a> <a href="#t:MonadSnap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadSnap:MonadSnap:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Instances.html">Snap.Internal.Instances</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftSnap">liftSnap</a> :: <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Writer-Strict.html#t:WriterT" title="Control.Monad.Writer.Strict">WriterT</a> w m a <a href="src/Snap.Internal.Core.html#liftSnap" class="link">Source</a> <a href="#v:liftSnap" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadSnap:MonadSnap:8"></span> (<a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> w) =&gt; <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-RWS-Lazy.html#t:RWST" title="Control.Monad.RWS.Lazy">RWST</a> r w s m)</span> <a href="src/Snap.Internal.Instances.html#line-57" class="link">Source</a> <a href="#t:MonadSnap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadSnap:MonadSnap:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Instances.html">Snap.Internal.Instances</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftSnap">liftSnap</a> :: <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-RWS-Lazy.html#t:RWST" title="Control.Monad.RWS.Lazy">RWST</a> r w s m a <a href="src/Snap.Internal.Core.html#liftSnap" class="link">Source</a> <a href="#v:liftSnap" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadSnap:MonadSnap:9"></span> (<a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> w) =&gt; <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-RWS-Strict.html#t:RWST" title="Control.Monad.RWS.Strict">RWST</a> r w s m)</span> <a href="src/Snap.Internal.Instances.html#line-52" class="link">Source</a> <a href="#t:MonadSnap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadSnap:MonadSnap:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Instances.html">Snap.Internal.Instances</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftSnap">liftSnap</a> :: <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-RWS-Strict.html#t:RWST" title="Control.Monad.RWS.Strict">RWST</a> r w s m a <a href="src/Snap.Internal.Core.html#liftSnap" class="link">Source</a> <a href="#v:liftSnap" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:NoHandlerException" class="def">NoHandlerException</a> <a href="src/Snap.Internal.Core.html#NoHandlerException" class="link">Source</a> <a href="#t:NoHandlerException" class="selflink">#</a></p><div class="doc"><p>This exception is thrown if the handler you supply to <code><a href="Snap-Core.html#v:runSnap" title="Snap.Core">runSnap</a></code> fails.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NoHandlerException" class="def">NoHandlerException</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:NoHandlerException">Instances</h4><details id="i:NoHandlerException" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NoHandlerException:Exception:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> <a href="Snap-Core.html#t:NoHandlerException" title="Snap.Core">NoHandlerException</a></span> <a href="src/Snap.Internal.Core.html#line-1585" class="link">Source</a> <a href="#t:NoHandlerException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NoHandlerException:Exception:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Core.html">Snap.Internal.Core</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> :: <a href="Snap-Core.html#t:NoHandlerException" title="Snap.Core">NoHandlerException</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Snap-Core.html#t:NoHandlerException" title="Snap.Core">NoHandlerException</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> :: <a href="Snap-Core.html#t:NoHandlerException" title="Snap.Core">NoHandlerException</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:displayException" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NoHandlerException:Show:2"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Snap-Core.html#t:NoHandlerException" title="Snap.Core">NoHandlerException</a></span> <a href="src/Snap.Internal.Core.html#line-1580" class="link">Source</a> <a href="#t:NoHandlerException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NoHandlerException:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Core.html">Snap.Internal.Core</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Snap-Core.html#t:NoHandlerException" title="Snap.Core">NoHandlerException</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Snap-Core.html#t:NoHandlerException" title="Snap.Core">NoHandlerException</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Snap-Core.html#t:NoHandlerException" title="Snap.Core">NoHandlerException</a>] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NoHandlerException:Eq:3"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Snap-Core.html#t:NoHandlerException" title="Snap.Core">NoHandlerException</a></span> <a href="src/Snap.Internal.Core.html#line-1576" class="link">Source</a> <a href="#t:NoHandlerException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NoHandlerException:Eq:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Core.html">Snap.Internal.Core</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Snap-Core.html#t:NoHandlerException" title="Snap.Core">NoHandlerException</a> -&gt; <a href="Snap-Core.html#t:NoHandlerException" title="Snap.Core">NoHandlerException</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Snap-Core.html#t:NoHandlerException" title="Snap.Core">NoHandlerException</a> -&gt; <a href="Snap-Core.html#t:NoHandlerException" title="Snap.Core">NoHandlerException</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:2" id="g:2"><h2>Functions for control flow and early termination</h2></a><div class="top"><p class="src"><a id="v:bracketSnap" class="def">bracketSnap</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; (a -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> b) -&gt; (a -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> c) -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> c <a href="src/Snap.Internal.Core.html#bracketSnap" class="link">Source</a> <a href="#v:bracketSnap" class="selflink">#</a></p><div class="doc"><p>This function brackets a Snap action in resource acquisition and
 release. This is provided because MonadCatchIO's <code>bracket</code> function
 doesn't work properly in the case of a short-circuit return from
 the action being bracketed.</p><p>In order to prevent confusion regarding the effects of the
 aquisition and release actions on the Snap state, this function
 doesn't accept Snap actions for the acquire or release actions.</p><p>This function will run the release action in all cases where the
 acquire action succeeded.  This includes the following behaviors
 from the bracketed Snap action.</p><ol><li value="1">Normal completion</li><li value="2">Short-circuit completion, either from calling <code>fail</code> or <code><a href="Snap-Core.html#v:finishWith" title="Snap.Core">finishWith</a></code></li><li value="3">An exception being thrown.</li></ol><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; let br = <code><a href="Snap-Core.html#v:bracketSnap" title="Snap.Core">bracketSnap</a></code> (putStrLn &quot;before&quot;) (const $ putStrLn &quot;after&quot;)
ghci&gt; T.runHandler (T.get &quot;/&quot; M.empty) (br $ const $ writeBS &quot;OK&quot;)
before
after
HTTP/1.1 200 OK
server: Snap/test
date: Thu, 07 Aug 2014 18:41:50 GMT

OK
</pre></div></div><div class="top"><p class="src"><a id="v:finishWith" class="def">finishWith</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; m a <a href="src/Snap.Internal.Core.html#finishWith" class="link">Source</a> <a href="#v:finishWith" class="selflink">#</a></p><div class="doc"><p>Short-circuits a <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> monad action early, storing the given
 <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code> value in its state.</p><p>IMPORTANT: Be vary careful when using this with things like a DB library's
 <code>withTransaction</code> function or any other kind of setup/teardown block, as it
 can prevent the cleanup from being called and result in resource leaks.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Applicative.html">Control.Applicative</a>
ghci&gt; let r = T.get &quot;/&quot; M.empty
ghci&gt; T.runHandler r ((<code><a href="Snap-Core.html#v:ifTop" title="Snap.Core">ifTop</a></code> $ <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> &quot;TOP&quot;) &lt;|&gt; <code><a href="Snap-Core.html#v:finishWith" title="Snap.Core">finishWith</a></code> <code><a href="Snap-Core.html#v:emptyResponse" title="Snap.Core">emptyResponse</a></code>)
HTTP/1.1 200 OK
server: Snap/test
date: Thu, 07 Aug 2014 16:58:57 GMT

TOP
ghci&gt; let r' = T.get &quot;/foo/bar&quot; M.empty
ghci&gt; T.runHandler r' ((<code><a href="Snap-Core.html#v:ifTop" title="Snap.Core">ifTop</a></code> $ <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> &quot;TOP&quot;) &lt;|&gt; <code><a href="Snap-Core.html#v:finishWith" title="Snap.Core">finishWith</a></code> <code><a href="Snap-Core.html#v:emptyResponse" title="Snap.Core">emptyResponse</a></code>)
HTTP/1.1 200 OK
server: Snap/test
date: Thu, 07 Aug 2014 17:50:50 GMT


</pre></div></div><div class="top"><p class="src"><a id="v:catchFinishWith" class="def">catchFinishWith</a> :: <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> a -&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> a) <a href="src/Snap.Internal.Core.html#catchFinishWith" class="link">Source</a> <a href="#v:catchFinishWith" class="selflink">#</a></p><div class="doc"><p>Capture the flow of control in case a handler calls <code><a href="Snap-Core.html#v:finishWith" title="Snap.Core">finishWith</a></code>.</p><p><em>WARNING</em>: in the event of a call to <code><a href="Snap-Core.html#v:transformRequestBody" title="Snap.Core">transformRequestBody</a></code> it is possible
 to violate HTTP protocol safety when using this function. If you call
 <code><a href="Snap-Core.html#v:catchFinishWith" title="Snap.Core">catchFinishWith</a></code> it is suggested that you do not modify the body of the
 <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code> which was passed to the <code><a href="Snap-Core.html#v:finishWith" title="Snap.Core">finishWith</a></code> call.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Char8.html">Data.ByteString.Char8</a> as B8
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Applicative.html">Control.Applicative</a>
ghci&gt; let r = T.get &quot;/foo/bar&quot; M.empty
ghci&gt; let h = (<code><a href="Snap-Core.html#v:ifTop" title="Snap.Core">ifTop</a></code> $ <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> &quot;TOP&quot;) &lt;|&gt; <code><a href="Snap-Core.html#v:finishWith" title="Snap.Core">finishWith</a></code> <code><a href="Snap-Core.html#v:emptyResponse" title="Snap.Core">emptyResponse</a></code>
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:catchFinishWith" title="Snap.Core">catchFinishWith</a></code> h &gt;&gt;= <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> . B8.pack . show)
HTTP/1.1 200 OK
server: Snap/test
date: Thu, 07 Aug 2014 18:35:42 GMT

Left HTTP/1.1 200 OK


</pre></div></div><div class="top"><p class="src"><a id="v:pass" class="def">pass</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; m a <a href="src/Snap.Internal.Core.html#pass" class="link">Source</a> <a href="#v:pass" class="selflink">#</a></p><div class="doc"><p>Fails out of a <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> monad action.  This is used to indicate
 that you choose not to handle the given request within the given
 handler.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; let r = T.get &quot;/foo/bar&quot; M.empty
ghci&gt; T.runHandler r <code><a href="Snap-Core.html#v:pass" title="Snap.Core">pass</a></code>
HTTP/1.1 404 Not Found
server: Snap/test
date: Thu, 07 Aug 2014 13:35:42 GMT

&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Not found&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;code&gt;No handler accepted &quot;/foo/bar&quot;<a href="/code">/code</a>
&lt;/body&gt;&lt;/html&gt;
</pre></div></div><a href="#g:3" id="g:3"><h3>Escaping HTTP</h3></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:EscapeHttpHandler" class="def">EscapeHttpHandler</a> <a href="src/Snap.Internal.Core.html#EscapeHttpHandler" class="link">Source</a> <a href="#t:EscapeHttpHandler" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&nbsp;= ((<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> ())</td><td class="doc"><p>timeout modifier</p></td></tr><tr><td class="src">-&gt; InputStream <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc"><p>socket read end</p></td></tr><tr><td class="src">-&gt; OutputStream <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a></td><td class="doc"><p>socket write end</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Type of external handler passed to <code><a href="Snap-Core.html#v:escapeHttp" title="Snap.Core">escapeHttp</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:EscapeSnap" class="def">EscapeSnap</a> <a href="src/Snap.Internal.Core.html#EscapeSnap" class="link">Source</a> <a href="#t:EscapeSnap" class="selflink">#</a></p><div class="doc"><p>Used internally to implement <code><a href="Snap-Core.html#v:escapeHttp" title="Snap.Core">escapeHttp</a></code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:TerminateConnection" class="def">TerminateConnection</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:EscapeHttp" class="def">EscapeHttp</a> <a href="Snap-Core.html#t:EscapeHttpHandler" title="Snap.Core">EscapeHttpHandler</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:EscapeSnap">Instances</h4><details id="i:EscapeSnap" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EscapeSnap:Exception:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> <a href="Snap-Core.html#t:EscapeSnap" title="Snap.Core">EscapeSnap</a></span> <a href="src/Snap.Internal.Core.html#line-165" class="link">Source</a> <a href="#t:EscapeSnap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EscapeSnap:Exception:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Core.html">Snap.Internal.Core</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> :: <a href="Snap-Core.html#t:EscapeSnap" title="Snap.Core">EscapeSnap</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Snap-Core.html#t:EscapeSnap" title="Snap.Core">EscapeSnap</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> :: <a href="Snap-Core.html#t:EscapeSnap" title="Snap.Core">EscapeSnap</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:displayException" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EscapeSnap:Show:2"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Snap-Core.html#t:EscapeSnap" title="Snap.Core">EscapeSnap</a></span> <a href="src/Snap.Internal.Core.html#line-167" class="link">Source</a> <a href="#t:EscapeSnap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EscapeSnap:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Core.html">Snap.Internal.Core</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Snap-Core.html#t:EscapeSnap" title="Snap.Core">EscapeSnap</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Snap-Core.html#t:EscapeSnap" title="Snap.Core">EscapeSnap</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Snap-Core.html#t:EscapeSnap" title="Snap.Core">EscapeSnap</a>] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:escapeHttp" class="def">escapeHttp</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="Snap-Core.html#t:EscapeHttpHandler" title="Snap.Core">EscapeHttpHandler</a> -&gt; m () <a href="src/Snap.Internal.Core.html#escapeHttp" class="link">Source</a> <a href="#v:escapeHttp" class="selflink">#</a></p><div class="doc"><p>Terminate the HTTP session and hand control to some external handler,
 escaping all further HTTP traffic.</p><p>The external handler takes three arguments: a function to modify the thread's
 timeout, and a read and a write ends to the socket.</p></div></div><div class="top"><p class="src"><a id="v:terminateConnection" class="def">terminateConnection</a> :: (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> e, <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m) =&gt; e -&gt; m a <a href="src/Snap.Internal.Core.html#terminateConnection" class="link">Source</a> <a href="#v:terminateConnection" class="selflink">#</a></p><div class="doc"><p>Terminate the HTTP session with the given exception.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception.html">Control.Exception</a> as E
ghci&gt; let r = T.get &quot;/foo/bar&quot; M.empty
ghci&gt; T.runHandler r (terminateConnection $ E.AssertionFailed &quot;Assertion failed!&quot;)
*** Exception: &lt;terminated: Assertion failed!&gt;
</pre></div></div><a href="#g:4" id="g:4"><h2>Routing</h2></a><div class="top"><p class="src"><a id="v:method" class="def">method</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a> -&gt; m a -&gt; m a <a href="src/Snap.Internal.Core.html#method" class="link">Source</a> <a href="#v:method" class="selflink">#</a></p><div class="doc"><p>Runs a <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> monad action only if the request's HTTP method matches
 the given method.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; let r = T.get &quot;/foo/bar&quot; M.empty
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:method" title="Snap.Core">method</a></code> <code><a href="Snap-Core.html#v:GET" title="Snap.Core">GET</a></code> $ <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> &quot;OK&quot;)
HTTP/1.1 200 OK
server: Snap/test
date: Thu, 07 Aug 2014 13:38:48 GMT

OK
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:method" title="Snap.Core">method</a></code> <code><a href="Snap-Core.html#v:POST" title="Snap.Core">POST</a></code> $ <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> &quot;OK&quot;)
HTTP/1.1 404 Not Found
...
</pre></div></div><div class="top"><p class="src"><a id="v:methods" class="def">methods</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; [<a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a>] -&gt; m a -&gt; m a <a href="src/Snap.Internal.Core.html#methods" class="link">Source</a> <a href="#v:methods" class="selflink">#</a></p><div class="doc"><p>Runs a <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> monad action only if the request's HTTP method matches
 one of the given methods.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; let r = T.get &quot;/foo/bar&quot; M.empty
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:methods" title="Snap.Core">methods</a></code> [<code><a href="Snap-Core.html#v:GET" title="Snap.Core">GET</a></code>, <code><a href="Snap-Core.html#v:POST" title="Snap.Core">POST</a></code>] $ <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> &quot;OK&quot;)
HTTP/1.1 200 OK
server: Snap/test
date: Thu, 07 Aug 2014 13:38:48 GMT

OK
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:methods" title="Snap.Core">methods</a></code> [<code><a href="Snap-Core.html#v:POST" title="Snap.Core">POST</a></code>] $ <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> &quot;OK&quot;)
HTTP/1.1 404 Not Found
...
</pre></div></div><div class="top"><p class="src"><a id="v:path" class="def">path</a> <a href="src/Snap.Internal.Core.html#path" class="link">Source</a> <a href="#v:path" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc"><p>path to match against</p></td></tr><tr><td class="src">-&gt; m a</td><td class="doc"><p>handler to run</p></td></tr><tr><td class="src">-&gt; m a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Runs a <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> monad action only for requests where <code><a href="Snap-Core.html#v:rqPathInfo" title="Snap.Core">rqPathInfo</a></code> is
 exactly equal to the given string. If the path matches, locally sets
 <code><a href="Snap-Core.html#v:rqContextPath" title="Snap.Core">rqContextPath</a></code> to the old value of <code><a href="Snap-Core.html#v:rqPathInfo" title="Snap.Core">rqPathInfo</a></code>, sets <code><a href="Snap-Core.html#v:rqPathInfo" title="Snap.Core">rqPathInfo</a></code>=&quot;&quot;,
 and runs the given handler.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; T.runHandler (T.get &quot;/foo&quot; M.empty) (<code><a href="Snap-Core.html#v:path" title="Snap.Core">path</a></code> &quot;foo&quot; $ <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> &quot;bar&quot;)
HTTP/1.1 200 OK
server: Snap/test
date: Thu, 07 Aug 2014 14:15:42 GMT

bar
ghci&gt; T.runHandler (T.get &quot;/foo&quot; M.empty) (<code><a href="Snap-Core.html#v:path" title="Snap.Core">path</a></code> &quot;bar&quot; $ <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> &quot;baz&quot;)
HTTP/1.1 404 Not Found
...
</pre></div></div><div class="top"><p class="src"><a id="v:pathArg" class="def">pathArg</a> :: (Readable a, <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m) =&gt; (a -&gt; m b) -&gt; m b <a href="src/Snap.Internal.Core.html#pathArg" class="link">Source</a> <a href="#v:pathArg" class="selflink">#</a></p><div class="doc"><p>Runs a <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> monad action only when the first path component is
 successfully parsed as the argument to the supplied handler function.</p><p>Note that the path segment is url-decoded prior to being passed to <code>fromBS</code>;
 this is new as of snap-core 0.10.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; let r = T.get &quot;/11/foo/bar&quot; M.empty
ghci&gt; let f = (\i -&gt; if i == 11 then <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> &quot;11&quot; else <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> &quot;???&quot;)
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:pathArg" title="Snap.Core">pathArg</a></code> f)
HTTP/1.1 200 OK
server: Snap/test
date: Thu, 07 Aug 2014 14:27:10 GMT

11
ghci&gt; let r' = T.get &quot;/foo/11/bar&quot; M.empty
ghci&gt; T.runHandler r' (<code><a href="Snap-Core.html#v:pathArg" title="Snap.Core">pathArg</a></code> f)
HTTP/1.1 404 Not Found
...
</pre></div></div><div class="top"><p class="src"><a id="v:dir" class="def">dir</a> <a href="src/Snap.Internal.Core.html#dir" class="link">Source</a> <a href="#v:dir" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc"><p>path component to match</p></td></tr><tr><td class="src">-&gt; m a</td><td class="doc"><p>handler to run</p></td></tr><tr><td class="src">-&gt; m a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Runs a <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> monad action only when the <code><a href="Snap-Core.html#v:rqPathInfo" title="Snap.Core">rqPathInfo</a></code> of the request
 starts with the given path. For example,</p><pre>dir &quot;foo&quot; handler</pre><p>Will fail if <code><a href="Snap-Core.html#v:rqPathInfo" title="Snap.Core">rqPathInfo</a></code> is not &quot;<code>/foo</code>&quot; or &quot;<code>/foo/...</code>&quot;, and will
 add <code>&quot;foo/&quot;</code> to the handler's local <code><a href="Snap-Core.html#v:rqContextPath" title="Snap.Core">rqContextPath</a></code>.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; let r = T.get &quot;/foo/bar&quot; M.empty
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:dir" title="Snap.Core">dir</a></code> &quot;foo&quot; $ <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> &quot;OK&quot;)
HTTP/1.1 200 OK
server: Snap/test
date: Thu, 07 Aug 2014 14:52:24 GMT

OK
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:dir" title="Snap.Core">dir</a></code> &quot;baz&quot; $ <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> &quot;OK&quot;)
HTTP/1.1 404 Not Found
...
</pre></div></div><div class="top"><p class="src"><a id="v:ifTop" class="def">ifTop</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; m a -&gt; m a <a href="src/Snap.Internal.Core.html#ifTop" class="link">Source</a> <a href="#v:ifTop" class="selflink">#</a></p><div class="doc"><p>Runs a <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> monad action only when <code><a href="Snap-Core.html#v:rqPathInfo" title="Snap.Core">rqPathInfo</a></code> is empty.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; let r = T.get &quot;/&quot; M.empty
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:ifTop" title="Snap.Core">ifTop</a></code> $ <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> <a href="OK.html">OK</a>)
HTTP/1.1 200 OK
server: Snap/test
date: Thu, 07 Aug 2014 14:56:39 GMT

OK
ghci&gt; let r' = T.get &quot;/foo&quot; M.empty
ghci&gt; T.runHandler r' (<code><a href="Snap-Core.html#v:ifTop" title="Snap.Core">ifTop</a></code> $ <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> &quot;OK&quot;)
HTTP/1.1 404 Not Found
...
</pre></div></div><div class="top"><p class="src"><a id="v:route" class="def">route</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; [(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, m a)] -&gt; m a <a href="src/Snap.Internal.Routing.html#route" class="link">Source</a> <a href="#v:route" class="selflink">#</a></p><div class="doc"><p>A web handler which, given a mapping from URL entry points to web
 handlers, efficiently routes requests to the correct handler.</p><p><strong>Usage</strong></p><p>The URL entry points are given as relative paths, for example:</p><pre>route [ (&quot;foo/bar/quux&quot;, fooBarQuux) ]</pre><p>If the URI of the incoming request is <code>/foo/bar/quux</code> or
 <code>/foo/bar/quux/...anything...</code> then the request will be routed to
 <code>&quot;fooBarQuux&quot;</code>, with <code><a href="Snap-Core.html#v:rqContextPath" title="Snap.Core">rqContextPath</a></code> set to <code>&quot;/foo/bar/quux/&quot;</code> and
 <code><a href="Snap-Core.html#v:rqPathInfo" title="Snap.Core">rqPathInfo</a></code> set to <code>&quot;...anything...&quot;</code>.</p><p>A path component within an URL entry point beginning with a colon (<code>&quot;:&quot;</code>)
 is treated as a <em>variable capture</em>; the corresponding path component within
 the request URI will be entered into the <code><a href="Snap-Core.html#v:rqParams" title="Snap.Core">rqParams</a></code> parameters mapping with
 the given name. For instance, if the routes were:</p><pre>route [ (&quot;foo/:bar/baz&quot;, fooBazHandler) ]</pre><p>Then a request for <code>&quot;/foo/saskatchewan/baz&quot;</code> would be routed to
 <code>fooBazHandler</code> with a mapping for <code>&quot;bar&quot; =&gt; &quot;saskatchewan&quot;</code> in its
 parameters table.</p><p>Longer paths are matched first, and specific routes are matched before
 captures. That is, if given routes:</p><pre>[ (&quot;a&quot;, h1), (&quot;a/b&quot;, h2), (&quot;a/:x&quot;, h3) ]</pre><p>a request for <code>&quot;/a/b&quot;</code> will go to <code>h2</code>, <code>&quot;/a/s&quot;</code> for any <em>s</em> will go
 to <code>h3</code>, and <code>&quot;/a&quot;</code> will go to <code>h1</code>.</p><p>The following example matches <code>&quot;/article&quot;</code> to an article index,
 <code>&quot;/login&quot;</code> to a login, and <code>&quot;/article/...&quot;</code> to an article renderer.</p><pre><code><a href="Snap-Core.html#v:route" title="Snap.Core">route</a></code> [ (&quot;article&quot;,     renderIndex)
      , (&quot;article/:id&quot;, renderArticle)
      , (&quot;login&quot;,       <code><a href="Snap-Core.html#v:method" title="Snap.Core">method</a></code> POST doLogin) ]
</pre><p><strong>Note: URL decoding</strong></p><p>A short note about URL decoding: path matching and variable capture are done
 on <em>decoded</em> URLs, but the contents of <code><a href="Snap-Core.html#v:rqContextPath" title="Snap.Core">rqContextPath</a></code> and <code><a href="Snap-Core.html#v:rqPathInfo" title="Snap.Core">rqPathInfo</a></code> will
 contain the original encoded URL, i.e. what the user entered. For example,
 in the following scenario:</p><pre>route [ (&quot;a b c d/&quot;, foo ) ]</pre><p>A request for &quot;<code>/a+b+c+d</code>&quot; will be sent to <code>foo</code> with <code><a href="Snap-Core.html#v:rqContextPath" title="Snap.Core">rqContextPath</a></code> set
 to <code>&quot;<em>a+b+c+d</em>&quot;</code>.</p><p>This behaviour changed as of Snap 0.6.1; previous versions had unspecified
 (and buggy!) semantics here.</p><p><strong>Example:</strong></p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as Map
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Char8.html">Data.ByteString.Char8</a> as B8
ghci&gt; import <a href="Snap-Test.html">Snap.Test</a>
ghci&gt; :{
ghci| let handler = do r &lt;- <code><a href="Snap-Core.html#v:getRequest" title="Snap.Core">getRequest</a></code>
ghci|                  <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> $ &quot;rqContextPath: &quot; &lt;&gt; <code><a href="Snap-Core.html#v:rqContextPath" title="Snap.Core">rqContextPath</a></code> r &lt;&gt; &quot;\n&quot;
ghci|                  <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> $ &quot;rqPathInfo: &quot; &lt;&gt; <code><a href="Snap-Core.html#v:rqPathInfo" title="Snap.Core">rqPathInfo</a></code> r &lt;&gt; &quot;\n&quot;
ghci|                  <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> $ &quot;rqParams: &quot; &lt;&gt; (B8.pack . show $ <code><a href="Snap-Core.html#v:rqParams" title="Snap.Core">rqParams</a></code> r)
ghci| :}
ghci&gt; <code><a href="Snap-Test.html#v:runHandler" title="Snap.Test">runHandler</a></code> (<code><a href="Snap-Test.html#v:get" title="Snap.Test">get</a></code> &quot;/foo/bar&quot; &quot;Map.empty&quot;) (<code><a href="Snap-Core.html#v:route" title="Snap.Core">route</a></code> [(&quot;foo&quot;, handler)])
HTTP/1.1 200 OK
server: Snap/test
date: Sat, 02 Aug 2014 05:16:59 GMT

rqContextPath: /foo/
rqPathInfo: bar
rqParams: fromList []
ghci&gt; <code><a href="Snap-Test.html#v:runHandler" title="Snap.Test">runHandler</a></code> (<code><a href="Snap-Test.html#v:get" title="Snap.Test">get</a></code> &quot;/foo/bar&quot; &quot;Map.empty&quot;) (<code><a href="Snap-Core.html#v:route" title="Snap.Core">route</a></code> [(&quot;foo/:bar&quot;, handler)])
[...]

rqContextPath: /foo/bar/
rqPathInfo:
rqParams: fromList [(&quot;bar&quot;,[&quot;bar&quot;])]
</pre></div></div><div class="top"><p class="src"><a id="v:routeLocal" class="def">routeLocal</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; [(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, m a)] -&gt; m a <a href="src/Snap.Internal.Routing.html#routeLocal" class="link">Source</a> <a href="#v:routeLocal" class="selflink">#</a></p><div class="doc"><p>The <code><a href="Snap-Core.html#v:routeLocal" title="Snap.Core">routeLocal</a></code> function is the same as <code><a href="Snap-Core.html#v:route" title="Snap.Core">route</a></code>, except it doesn't
 change the request's context path. This is useful if you want to route to a
 particular handler but you want that handler to receive the <code><a href="Snap-Core.html#v:rqPathInfo" title="Snap.Core">rqPathInfo</a></code> as
 it is.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Char8.html">Data.ByteString.Char8</a> as B8
ghci&gt; import <a href="Snap-Test.html">Snap.Test</a>
ghci&gt; :{
ghci| let handler = do r &lt;- <code><a href="Snap-Core.html#v:getRequest" title="Snap.Core">getRequest</a></code>
ghci|                  <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> $ &quot;rqContextPath: &quot; &lt;&gt; <code><a href="Snap-Core.html#v:rqContextPath" title="Snap.Core">rqContextPath</a></code> r &lt;&gt; &quot;\n&quot;
ghci|                  <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> $ &quot;rqPathInfo: &quot; &lt;&gt; <code><a href="Snap-Core.html#v:rqPathInfo" title="Snap.Core">rqPathInfo</a></code> r &lt;&gt; &quot;\n&quot;
ghci|                  <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> $ &quot;rqParams: &quot; &lt;&gt; (B8.pack . show $ <code><a href="Snap-Core.html#v:rqParams" title="Snap.Core">rqParams</a></code> r)
ghci| :}
ghci&gt; <code><a href="Snap-Test.html#v:runHandler" title="Snap.Test">runHandler</a></code> (<code><a href="Snap-Test.html#v:get" title="Snap.Test">get</a></code> &quot;/foo/bar&quot; M.empty) (<code><a href="Snap-Core.html#v:routeLocal" title="Snap.Core">routeLocal</a></code> [(&quot;foo&quot;, handler)])
HTTP/1.1 200 OK
server: Snap/test
date: Sat, 02 Aug 2014 05:17:28 GMT

rqContextPath: /
rqPathInfo: foo/bar
ghci&gt; <code><a href="Snap-Test.html#v:runHandler" title="Snap.Test">runHandler</a></code> (<code><a href="Snap-Test.html#v:get" title="Snap.Test">get</a></code> &quot;/foo/bar&quot; M.empty) (<code><a href="Snap-Core.html#v:routeLocal" title="Snap.Core">routeLocal</a></code> [(&quot;foo/:bar&quot;, handler)])
[...]

rqContextPath: /
rqPathInfo: foo/bar
rqParams: fromList [(&quot;bar&quot;,[&quot;bar&quot;])]
</pre></div></div><a href="#g:5" id="g:5"><h2>Access to state</h2></a><div class="top"><p class="src"><a id="v:getRequest" class="def">getRequest</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; m <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> <a href="src/Snap.Internal.Core.html#getRequest" class="link">Source</a> <a href="#v:getRequest" class="selflink">#</a></p><div class="doc"><p>Grabs the <code><a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></code> object out of the <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> monad.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; let r = T.get &quot;/foo/bar&quot; M.empty
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> . <code><a href="Snap-Core.html#v:rqURI" title="Snap.Core">rqURI</a></code> =&lt;&lt; <code><a href="Snap-Core.html#v:getRequest" title="Snap.Core">getRequest</a></code>)
HTTP/1.1 200 OK
server: Snap/test
date: Sat, 02 Aug 2014 07:51:54 GMT

/foo/bar
</pre></div></div><div class="top"><p class="src"><a id="v:getsRequest" class="def">getsRequest</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; (<a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; a) -&gt; m a <a href="src/Snap.Internal.Core.html#getsRequest" class="link">Source</a> <a href="#v:getsRequest" class="selflink">#</a></p><div class="doc"><p>Grabs something out of the <code><a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></code> object, using the given projection
 function. See <code>gets</code>.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; let r = T.get &quot;/foo/bar&quot; M.empty
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> =&lt;&lt; <code><a href="Snap-Core.html#v:getsRequest" title="Snap.Core">getsRequest</a></code> <code><a href="Snap-Core.html#v:rqURI" title="Snap.Core">rqURI</a></code>)
HTTP/1.1 200 OK
server: Snap/test
date: Sat, 02 Aug 2014 07:51:54 GMT

/foo/bar
</pre></div></div><div class="top"><p class="src"><a id="v:getResponse" class="def">getResponse</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; m <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> <a href="src/Snap.Internal.Core.html#getResponse" class="link">Source</a> <a href="#v:getResponse" class="selflink">#</a></p><div class="doc"><p>Grabs the <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code> object out of the <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> monad.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; let r = T.get &quot;/foo/bar&quot; M.empty
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> . <code><a href="Snap-Core.html#v:rspStatusReason" title="Snap.Core">rspStatusReason</a></code> =&lt;&lt; <code><a href="Snap-Core.html#v:getResponse" title="Snap.Core">getResponse</a></code>)
HTTP/1.1 200 OK
server: Snap/test
date: Sat, 02 Aug 2014 15:06:00 GMT

OK
</pre></div></div><div class="top"><p class="src"><a id="v:getsResponse" class="def">getsResponse</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; (<a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; a) -&gt; m a <a href="src/Snap.Internal.Core.html#getsResponse" class="link">Source</a> <a href="#v:getsResponse" class="selflink">#</a></p><div class="doc"><p>Grabs something out of the <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code> object, using the given projection
 function. See <code>gets</code>.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; let r = T.get &quot;/foo/bar&quot; M.empty
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> =&lt;&lt; <code><a href="Snap-Core.html#v:getsResponse" title="Snap.Core">getsResponse</a></code> <code><a href="Snap-Core.html#v:rspStatusReason" title="Snap.Core">rspStatusReason</a></code>)
HTTP/1.1 200 OK
server: Snap/test
date: Wed, 06 Aug 2014 13:35:45 GMT

OK
</pre></div></div><div class="top"><p class="src"><a id="v:putRequest" class="def">putRequest</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; m () <a href="src/Snap.Internal.Core.html#putRequest" class="link">Source</a> <a href="#v:putRequest" class="selflink">#</a></p><div class="doc"><p>Puts a new <code><a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></code> object into the <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> monad.
 Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; :{
ghci| let hndlr = do rq &lt;- T.buildRequest (T.get &quot;/bar/foo&quot; M.empty)
ghci|                <code><a href="Snap-Core.html#v:putRequest" title="Snap.Core">putRequest</a></code> rq
ghci|                uri' &lt;- <code><a href="Snap-Core.html#v:getsRequest" title="Snap.Core">getsRequest</a></code> <code><a href="Snap-Core.html#v:rqURI" title="Snap.Core">rqURI</a></code>
ghci|                <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> uri'
ghci| :}
ghci&gt; T.runHandler (T.get &quot;/foo/bar&quot; M.empty) hndlr
HTTP/1.1 200 OK
server: Snap/test
date: Wed, 06 Aug 2014 15:13:46 GMT

/bar/foo
</pre></div></div><div class="top"><p class="src"><a id="v:putResponse" class="def">putResponse</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; m () <a href="src/Snap.Internal.Core.html#putResponse" class="link">Source</a> <a href="#v:putResponse" class="selflink">#</a></p><div class="doc"><p>Puts a new <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code> object into the <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> monad.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; let rsp = <code><a href="Snap-Core.html#v:setResponseCode" title="Snap.Core">setResponseCode</a></code> 404 <code><a href="Snap-Core.html#v:emptyResponse" title="Snap.Core">emptyResponse</a></code>
ghci&gt; let req = T.get &quot;/foo/bar&quot; M.empty
ghci&gt; T.runHandler req (<code><a href="Snap-Core.html#v:putResponse" title="Snap.Core">putResponse</a></code> rsp)
HTTP/1.1 404 Not Found
server: Snap/test
date: Wed, 06 Aug 2014 13:59:58 GMT


</pre></div></div><div class="top"><p class="src"><a id="v:modifyRequest" class="def">modifyRequest</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; (<a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a>) -&gt; m () <a href="src/Snap.Internal.Core.html#modifyRequest" class="link">Source</a> <a href="#v:modifyRequest" class="selflink">#</a></p><div class="doc"><p>Modifies the <code><a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></code> object stored in a <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> monad.
 Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; let r = T.get &quot;/foo/bar&quot; M.empty
ghci&gt; r' &lt;- T.buildRequest $ T.get &quot;/bar/foo&quot; M.empty
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:modifyRequest" title="Snap.Core">modifyRequest</a></code> (const r') &gt;&gt; <code><a href="Snap-Core.html#v:getsRequest" title="Snap.Core">getsRequest</a></code> <code><a href="Snap-Core.html#v:rqURI" title="Snap.Core">rqURI</a></code> &gt;&gt;= <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code>)
HTTP/1.1 200 OK
server: Snap/test
date: Wed, 06 Aug 2014 15:24:25 GMT

/bar/foo
</pre></div></div><div class="top"><p class="src"><a id="v:modifyResponse" class="def">modifyResponse</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; (<a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a>) -&gt; m () <a href="src/Snap.Internal.Core.html#modifyResponse" class="link">Source</a> <a href="#v:modifyResponse" class="selflink">#</a></p><div class="doc"><p>Modifes the <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code> object stored in a <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> monad.
 Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; let r = T.get &quot;/foo/bar&quot; M.empty
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:modifyResponse" title="Snap.Core">modifyResponse</a></code> $ <code><a href="Snap-Core.html#v:setResponseCode" title="Snap.Core">setResponseCode</a></code> 404)
HTTP/1.1 404 Not Found
server: Snap/test
date: Wed, 06 Aug 2014 15:27:11 GMT


</pre></div></div><div class="top"><p class="src"><a id="v:localRequest" class="def">localRequest</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; (<a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a>) -&gt; m a -&gt; m a <a href="src/Snap.Internal.Core.html#localRequest" class="link">Source</a> <a href="#v:localRequest" class="selflink">#</a></p><div class="doc"><p>Runs a <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> action with a locally-modified <code><a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></code> state
 object. The <code><a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></code> object in the Snap monad state after the call
 to localRequest will be unchanged.
 Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; let r = T.get &quot;/foo/bar&quot; M.empty
ghci&gt; r' &lt;- T.buildRequest $ T.get &quot;/bar/foo&quot; M.empty
ghci&gt; let printRqURI = <code><a href="Snap-Core.html#v:getsRequest" title="Snap.Core">getsRequest</a></code> <code><a href="Snap-Core.html#v:rqURI" title="Snap.Core">rqURI</a></code> &gt;&gt;= <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> &gt;&gt; <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> &quot;\n&quot;
ghci&gt; T.runHandler r (printRqURI &gt;&gt; <code><a href="Snap-Core.html#v:localRequest" title="Snap.Core">localRequest</a></code> (const r') printRqURI)
HTTP/1.1 200 OK
server: Snap/test
date: Wed, 06 Aug 2014 15:34:12 GMT

/foo/bar
/bar/foo

</pre></div></div><div class="top"><p class="src"><a id="v:withRequest" class="def">withRequest</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; (<a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; m a) -&gt; m a <a href="src/Snap.Internal.Core.html#withRequest" class="link">Source</a> <a href="#v:withRequest" class="selflink">#</a></p><div class="doc"><p>Fetches the <code><a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></code> from state and hands it to the given action.
 Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad-IO-Class.html">Control.Monad.IO.Class</a>
ghci&gt; let r = T.get &quot;/foo/bar&quot; M.empty
ghci&gt; let h = <code><a href="Snap-Core.html#v:withRequest" title="Snap.Core">withRequest</a></code> (\rq -&gt; <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad-IO-Class.html#v:liftIO" title="Control.Monad.IO.Class">liftIO</a></code> (T.requestToString rq) &gt;&gt;= <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code>)
ghci&gt; T.runHandler r h
HTTP/1.1 200 OK
server: Snap/test
date: Wed, 06 Aug 2014 15:44:24 GMT

GET /foo/bar HTTP/1.1
host: localhost


</pre></div></div><div class="top"><p class="src"><a id="v:withResponse" class="def">withResponse</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; (<a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; m a) -&gt; m a <a href="src/Snap.Internal.Core.html#withResponse" class="link">Source</a> <a href="#v:withResponse" class="selflink">#</a></p><div class="doc"><p>Fetches the <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code> from state and hands it to the given action.
 Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; let r = T.get &quot;/foo/bar&quot; M.empty
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:withResponse" title="Snap.Core">withResponse</a></code> $ <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> . <code><a href="Snap-Core.html#v:rspStatusReason" title="Snap.Core">rspStatusReason</a></code>)
HTTP/1.1 200 OK
server: Snap/test
date: Wed, 06 Aug 2014 15:48:45 GMT

OK
</pre></div></div><a href="#g:6" id="g:6"><h2>Logging</h2></a><div class="top"><p class="src"><a id="v:logError" class="def">logError</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m () <a href="src/Snap.Internal.Core.html#logError" class="link">Source</a> <a href="#v:logError" class="selflink">#</a></p><div class="doc"><p>Log an error message in the <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> monad.</p><p>Example:</p><pre>ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Char8.html">Data.ByteString.Char8</a> as B8
ghci&gt; <code><a href="Snap-Core.html#v:runSnap" title="Snap.Core">runSnap</a></code> (<code><a href="Snap-Core.html#v:logError" title="Snap.Core">logError</a></code> &quot;fatal error!&quot;) (<code>error</code> . B8.unpack) undefined undefined
*** Exception: fatal error!
</pre></div></div><a href="#g:7" id="g:7"><h2>Grabbing/transforming request bodies</h2></a><div class="top"><p class="src"><a id="v:runRequestBody" class="def">runRequestBody</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; (InputStream <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> a) -&gt; m a <a href="src/Snap.Internal.Core.html#runRequestBody" class="link">Source</a> <a href="#v:runRequestBody" class="selflink">#</a></p><div class="doc"><p>Pass the request body stream to a consuming procedure, returning the
 result.</p><p>If the consuming procedure you pass in here throws an exception, Snap will
 attempt to clear the rest of the unread request body (using
 <code><a href="System-IO-Streams-Combinators.html#v:skipToEof" title="System.IO.Streams.Combinators">skipToEof</a></code>) before rethrowing the
 exception. If you used <code><a href="Snap-Core.html#v:terminateConnection" title="Snap.Core">terminateConnection</a></code>, however, Snap will give up and
 immediately close the socket.</p><p>To prevent slowloris attacks, the connection will be also terminated if the
 input socket produces data too slowly (500 bytes per second is the default
 limit).</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Char8.html">Data.ByteString.Char8</a> as B8
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Lazy.html">Data.ByteString.Lazy</a> as L
ghci&gt; import <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Char.html">Data.Char</a> (toUpper)
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="System-IO-Streams.html">System.IO.Streams</a> as Streams
ghci&gt; let r = T.put &quot;/foo&quot; &quot;text/plain&quot; &quot;some text&quot;
ghci&gt; :{
ghci| let f s = do u &lt;- Streams.map (B8.map toUpper) s
ghci|              l &lt;- Streams.toList u
ghci|              return $ L.fromChunks l
ghci| :}
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:runRequestBody" title="Snap.Core">runRequestBody</a></code> f &gt;&gt;= <code><a href="Snap-Core.html#v:writeLBS" title="Snap.Core">writeLBS</a></code>)
HTTP/1.1 200 OK
server: Snap/test
date: Thu, 07 Aug 2014 20:48:40 GMT

SOME TEXT
</pre></div></div><div class="top"><p class="src"><a id="v:readRequestBody" class="def">readRequestBody</a> <a href="src/Snap.Internal.Core.html#readRequestBody" class="link">Source</a> <a href="#v:readRequestBody" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></td><td class="doc"><p>size of the largest request body we're willing
 to accept. If a request body longer than this is
 received, a <code>TooManyBytesReadException</code> is
 thrown. See <code>takeNoMoreThan</code>.</p></td></tr><tr><td class="src">-&gt; m <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Returns the request body as a lazy bytestring. /Note that the request is
 not actually provided lazily!/</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; let r = T.put &quot;/foo&quot; &quot;text/plain&quot; &quot;some text&quot;
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:readRequestBody" title="Snap.Core">readRequestBody</a></code> 2048 &gt;&gt;= <code><a href="Snap-Core.html#v:writeLBS" title="Snap.Core">writeLBS</a></code>)
HTTP/1.1 200 OK
server: Snap/test
date: Thu, 07 Aug 2014 20:08:44 GMT

some text
</pre><p><em>Since: 0.6</em></p></div></div><div class="top"><p class="src"><a id="v:transformRequestBody" class="def">transformRequestBody</a> <a href="src/Snap.Internal.Core.html#transformRequestBody" class="link">Source</a> <a href="#v:transformRequestBody" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (InputStream <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (InputStream <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>))</td><td class="doc"><p>the <code>InputStream</code> from the <code><a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></code> is passed to
 this function, and then the resulting <code>InputStream</code>
 is fed to the output.</p></td></tr><tr><td class="src">-&gt; <a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Normally Snap is careful to ensure that the request body is fully
 consumed after your web handler runs, but before the <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code> body
 is streamed out the socket. If you want to transform the request body into
 some output in O(1) space, you should use this function.</p><p>Take care: in order for this to work, the HTTP client must be written with
 input-to-output streaming in mind.</p><p>Note that upon calling this function, response processing finishes early as
 if you called <code><a href="Snap-Core.html#v:finishWith" title="Snap.Core">finishWith</a></code>. Make sure you set any content types, headers,
 cookies, etc. before you call this function.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Char8.html">Data.ByteString.Char8</a> as B8
ghci&gt; import <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Char.html">Data.Char</a> (toUpper)
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="System-IO-Streams.html">System.IO.Streams</a> as Streams
ghci&gt; let r = T.put &quot;/foo&quot; &quot;text/plain&quot; &quot;some text&quot;
ghci&gt; let f = Streams.map (B8.map toUpper)
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:transformRequestBody" title="Snap.Core">transformRequestBody</a></code> f &gt;&gt; <code><a href="Snap-Core.html#v:readRequestBody" title="Snap.Core">readRequestBody</a></code> 2048 &gt;&gt;= <code><a href="Snap-Core.html#v:writeLBS" title="Snap.Core">writeLBS</a></code>)
HTTP/1.1 200 OK
server: Snap/test
date: Thu, 07 Aug 2014 20:30:15 GMT

SOME TEXT
</pre></div></div><a href="#g:8" id="g:8"><h1>HTTP Datatypes and Functions</h1></a><div class="doc"><p>HTTP-related datatypes: <code><a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></code>, <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code>, <code><a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a></code>, etc.</p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Request" class="def">Request</a> <a href="src/Snap.Internal.Http.Types.html#Request" class="link">Source</a> <a href="#t:Request" class="selflink">#</a></p><div class="doc"><p>Contains all of the information about an incoming HTTP request.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Request">Instances</h4><details id="i:Request" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Request:Show:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></span> <a href="src/Snap.Internal.Http.Types.html#line-591" class="link">Source</a> <a href="#t:Request" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Request:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Http-Types.html">Snap.Internal.Http.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a>] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Request:HasHeaders:2"></span> <a href="Snap-Core.html#t:HasHeaders" title="Snap.Core">HasHeaders</a> <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></span> <a href="src/Snap.Internal.Http.Types.html#line-622" class="link">Source</a> <a href="#t:Request" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Request:HasHeaders:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Http-Types.html">Snap.Internal.Http.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:updateHeaders">updateHeaders</a> :: (<a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a> -&gt; <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a>) -&gt; <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> <a href="src/Snap.Internal.Http.Types.html#updateHeaders" class="link">Source</a> <a href="#v:updateHeaders" class="selflink">#</a></p><p class="src"><a href="#v:headers">headers</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a> <a href="src/Snap.Internal.Http.Types.html#headers" class="link">Source</a> <a href="#v:headers" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Request:MonadState:3"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> (<a href="Snap-Test.html#t:RequestBuilder" title="Snap.Test">RequestBuilder</a> m)</span> <a href="src/Snap.Internal.Test.RequestBuilder.html#line-84" class="link">Source</a> <a href="#t:MonadState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Request:MonadState:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Test-RequestBuilder.html">Snap.Internal.Test.RequestBuilder</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:get">get</a> :: <a href="Snap-Test.html#t:RequestBuilder" title="Snap.Test">RequestBuilder</a> m <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/src" class="link">Source</a> <a href="#v:get" class="selflink">#</a></p><p class="src"><a href="#v:put">put</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="Snap-Test.html#t:RequestBuilder" title="Snap.Test">RequestBuilder</a> m () <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/src" class="link">Source</a> <a href="#v:put" class="selflink">#</a></p><p class="src"><a href="#v:state">state</a> :: (<a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; (a, <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a>)) -&gt; <a href="Snap-Test.html#t:RequestBuilder" title="Snap.Test">RequestBuilder</a> m a <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/src" class="link">Source</a> <a href="#v:state" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Response" class="def">Response</a> <a href="src/Snap.Internal.Http.Types.html#Response" class="link">Source</a> <a href="#t:Response" class="selflink">#</a></p><div class="doc"><p>Represents an HTTP response.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Response">Instances</h4><details id="i:Response" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Response:Show:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></span> <a href="src/Snap.Internal.Http.Types.html#line-710" class="link">Source</a> <a href="#t:Response" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Response:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Http-Types.html">Snap.Internal.Http.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a>] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Response:HasHeaders:2"></span> <a href="Snap-Core.html#t:HasHeaders" title="Snap.Core">HasHeaders</a> <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></span> <a href="src/Snap.Internal.Http.Types.html#line-741" class="link">Source</a> <a href="#t:Response" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Response:HasHeaders:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Http-Types.html">Snap.Internal.Http.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:updateHeaders">updateHeaders</a> :: (<a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a> -&gt; <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a>) -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> <a href="src/Snap.Internal.Http.Types.html#updateHeaders" class="link">Source</a> <a href="#v:updateHeaders" class="selflink">#</a></p><p class="src"><a href="#v:headers">headers</a> :: <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a> <a href="src/Snap.Internal.Http.Types.html#headers" class="link">Source</a> <a href="#v:headers" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Headers" class="def">Headers</a> <a href="src/Snap.Types.Headers.html#Headers" class="link">Source</a> <a href="#t:Headers" class="selflink">#</a></p><div class="doc"><p>A key-value map that represents a collection of HTTP header fields. Keys
 are case-insensitive.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Headers">Instances</h4><details id="i:Headers" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Headers:Show:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a></span> <a href="src/Snap.Types.Headers.html#line-66" class="link">Source</a> <a href="#t:Headers" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Headers:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Types-Headers.html">Snap.Types.Headers</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a>] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Headers:HasHeaders:2"></span> <a href="Snap-Core.html#t:HasHeaders" title="Snap.Core">HasHeaders</a> <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a></span> <a href="src/Snap.Internal.Http.Types.html#line-628" class="link">Source</a> <a href="#t:HasHeaders" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Headers:HasHeaders:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Http-Types.html">Snap.Internal.Http.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:updateHeaders">updateHeaders</a> :: (<a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a> -&gt; <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a>) -&gt; <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a> -&gt; <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a> <a href="src/Snap.Internal.Http.Types.html#updateHeaders" class="link">Source</a> <a href="#v:updateHeaders" class="selflink">#</a></p><p class="src"><a href="#v:headers">headers</a> :: <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a> -&gt; <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a> <a href="src/Snap.Internal.Http.Types.html#headers" class="link">Source</a> <a href="#v:headers" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:HasHeaders" class="def">HasHeaders</a> a <span class="keyword">where</span> <a href="src/Snap.Internal.Http.Types.html#HasHeaders" class="link">Source</a> <a href="#t:HasHeaders" class="selflink">#</a></p><div class="doc"><p>A typeclass for datatypes which contain HTTP headers.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:updateHeaders" class="def">updateHeaders</a> :: (<a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a> -&gt; <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a>) -&gt; a -&gt; a <a href="src/Snap.Internal.Http.Types.html#updateHeaders" class="link">Source</a> <a href="#v:updateHeaders" class="selflink">#</a></p><div class="doc"><p>Modify the datatype's headers.</p></div><p class="src"><a id="v:headers" class="def">headers</a> :: a -&gt; <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a> <a href="src/Snap.Internal.Http.Types.html#headers" class="link">Source</a> <a href="#v:headers" class="selflink">#</a></p><div class="doc"><p>Retrieve the headers from a datatype that has headers.</p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:HasHeaders">Instances</h4><details id="i:HasHeaders" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasHeaders:HasHeaders:1"></span> <a href="Snap-Core.html#t:HasHeaders" title="Snap.Core">HasHeaders</a> <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></span> <a href="src/Snap.Internal.Http.Types.html#line-622" class="link">Source</a> <a href="#t:HasHeaders" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasHeaders:HasHeaders:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Http-Types.html">Snap.Internal.Http.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:updateHeaders">updateHeaders</a> :: (<a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a> -&gt; <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a>) -&gt; <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> <a href="src/Snap.Internal.Http.Types.html#updateHeaders" class="link">Source</a> <a href="#v:updateHeaders" class="selflink">#</a></p><p class="src"><a href="#v:headers">headers</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a> <a href="src/Snap.Internal.Http.Types.html#headers" class="link">Source</a> <a href="#v:headers" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasHeaders:HasHeaders:2"></span> <a href="Snap-Core.html#t:HasHeaders" title="Snap.Core">HasHeaders</a> <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></span> <a href="src/Snap.Internal.Http.Types.html#line-741" class="link">Source</a> <a href="#t:HasHeaders" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasHeaders:HasHeaders:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Http-Types.html">Snap.Internal.Http.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:updateHeaders">updateHeaders</a> :: (<a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a> -&gt; <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a>) -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> <a href="src/Snap.Internal.Http.Types.html#updateHeaders" class="link">Source</a> <a href="#v:updateHeaders" class="selflink">#</a></p><p class="src"><a href="#v:headers">headers</a> :: <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a> <a href="src/Snap.Internal.Http.Types.html#headers" class="link">Source</a> <a href="#v:headers" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasHeaders:HasHeaders:3"></span> <a href="Snap-Core.html#t:HasHeaders" title="Snap.Core">HasHeaders</a> <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a></span> <a href="src/Snap.Internal.Http.Types.html#line-628" class="link">Source</a> <a href="#t:HasHeaders" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasHeaders:HasHeaders:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Http-Types.html">Snap.Internal.Http.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:updateHeaders">updateHeaders</a> :: (<a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a> -&gt; <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a>) -&gt; <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a> -&gt; <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a> <a href="src/Snap.Internal.Http.Types.html#updateHeaders" class="link">Source</a> <a href="#v:updateHeaders" class="selflink">#</a></p><p class="src"><a href="#v:headers">headers</a> :: <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a> -&gt; <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a> <a href="src/Snap.Internal.Http.Types.html#headers" class="link">Source</a> <a href="#v:headers" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Params" class="def">Params</a> = <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> [<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>] <a href="src/Snap.Internal.Http.Types.html#Params" class="link">Source</a> <a href="#t:Params" class="selflink">#</a></p><div class="doc"><p>A type alias for the HTTP parameters mapping. Each parameter
 key maps to a list of <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></code> values; if a parameter is specified
 multiple times (e.g.: &quot;<code>GET /foo?param=bar1&amp;param=bar2</code>&quot;), looking up
 &quot;<code>param</code>&quot; in the mapping will give you <code>[&quot;bar1&quot;, &quot;bar2&quot;]</code>.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Method" class="def">Method</a> <a href="src/Snap.Internal.Http.Types.html#Method" class="link">Source</a> <a href="#t:Method" class="selflink">#</a></p><div class="doc"><p>Enumerates the HTTP method values (see
 <a href="http://tools.ietf.org/html/rfc2068.html#section-5.1.1">http://tools.ietf.org/html/rfc2068.html#section-5.1.1</a>).</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:GET" class="def">GET</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:HEAD" class="def">HEAD</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:POST" class="def">POST</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:PUT" class="def">PUT</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:DELETE" class="def">DELETE</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TRACE" class="def">TRACE</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:OPTIONS" class="def">OPTIONS</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:CONNECT" class="def">CONNECT</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:PATCH" class="def">PATCH</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Method" class="def">Method</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Method">Instances</h4><details id="i:Method" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Method:Read:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Read.html#t:Read" title="Text.Read">Read</a> <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a></span> <a href="src/Snap.Internal.Http.Types.html#line-178" class="link">Source</a> <a href="#t:Method" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Method:Read:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Http-Types.html">Snap.Internal.Http.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:readsPrec">readsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-ParserCombinators-ReadP.html#t:ReadS" title="Text.ParserCombinators.ReadP">ReadS</a> <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:readsPrec" class="selflink">#</a></p><p class="src"><a href="#v:readList">readList</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-ParserCombinators-ReadP.html#t:ReadS" title="Text.ParserCombinators.ReadP">ReadS</a> [<a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a>] <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:readList" class="selflink">#</a></p><p class="src"><a href="#v:readPrec">readPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-ParserCombinators-ReadPrec.html#t:ReadPrec" title="Text.ParserCombinators.ReadPrec">ReadPrec</a> <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:readPrec" class="selflink">#</a></p><p class="src"><a href="#v:readListPrec">readListPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-ParserCombinators-ReadPrec.html#t:ReadPrec" title="Text.ParserCombinators.ReadPrec">ReadPrec</a> [<a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a>] <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:readListPrec" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Method:Show:2"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a></span> <a href="src/Snap.Internal.Http.Types.html#line-178" class="link">Source</a> <a href="#t:Method" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Method:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Http-Types.html">Snap.Internal.Http.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a>] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Method:Eq:3"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a></span> <a href="src/Snap.Internal.Http.Types.html#line-180" class="link">Source</a> <a href="#t:Method" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Method:Eq:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Http-Types.html">Snap.Internal.Http.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a> -&gt; <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a> -&gt; <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Method:Ord:4"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a></span> <a href="src/Snap.Internal.Http.Types.html#line-196" class="link">Source</a> <a href="#t:Method" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Method:Ord:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Http-Types.html">Snap.Internal.Http.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a> -&gt; <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a> -&gt; <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a> -&gt; <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a> -&gt; <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a> -&gt; <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a> -&gt; <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a> -&gt; <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a> -&gt; <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a> -&gt; <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Cookie" class="def">Cookie</a> <a href="src/Snap.Internal.Http.Types.html#Cookie" class="link">Source</a> <a href="#t:Cookie" class="selflink">#</a></p><div class="doc"><p>A datatype representing an HTTP cookie.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Cookie" class="def">Cookie</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:cookieName" class="def">cookieName</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></dfn><div class="doc"><p>The name of the cookie.</p></div></li><li><dfn class="src"><a id="v:cookieValue" class="def">cookieValue</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></dfn><div class="doc"><p>The cookie's string value.</p></div></li><li><dfn class="src"><a id="v:cookieExpires" class="def">cookieExpires</a> :: !(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:UTCTime" title="Data.Time.Clock">UTCTime</a>)</dfn><div class="doc"><p>The cookie's expiration value, if it has one.</p></div></li><li><dfn class="src"><a id="v:cookieDomain" class="def">cookieDomain</a> :: !(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)</dfn><div class="doc"><p>The cookie's &quot;domain&quot; value, if it has one.</p></div></li><li><dfn class="src"><a id="v:cookiePath" class="def">cookiePath</a> :: !(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)</dfn><div class="doc"><p>The cookie path.</p></div></li><li><dfn class="src"><a id="v:cookieSecure" class="def">cookieSecure</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc"><p>Tag as secure cookie?</p></div></li><li><dfn class="src"><a id="v:cookieHttpOnly" class="def">cookieHttpOnly</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc"><p>HTTP only?</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Cookie">Instances</h4><details id="i:Cookie" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Cookie:Show:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a></span> <a href="src/Snap.Internal.Http.Types.html#line-270" class="link">Source</a> <a href="#t:Cookie" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Cookie:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Http-Types.html">Snap.Internal.Http.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a>] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Cookie:Eq:2"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a></span> <a href="src/Snap.Internal.Http.Types.html#line-270" class="link">Source</a> <a href="#t:Cookie" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Cookie:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Snap-Internal-Http-Types.html">Snap.Internal.Http.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a> -&gt; <a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a> -&gt; <a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:HttpVersion" class="def">HttpVersion</a> = (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>) <a href="src/Snap.Internal.Http.Types.html#HttpVersion" class="link">Source</a> <a href="#t:HttpVersion" class="selflink">#</a></p><div class="doc"><p>Represents a (major, minor) version of the HTTP protocol.</p></div></div><a href="#g:9" id="g:9"><h2>Headers</h2></a><div class="top"><p class="src"><a id="v:addHeader" class="def">addHeader</a> :: <a href="Snap-Core.html#t:HasHeaders" title="Snap.Core">HasHeaders</a> a =&gt; CI <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; a -&gt; a <a href="src/Snap.Internal.Http.Types.html#addHeader" class="link">Source</a> <a href="#v:addHeader" class="selflink">#</a></p><div class="doc"><p>Adds a header key-value-pair to the <code><a href="Snap-Core.html#t:HasHeaders" title="Snap.Core">HasHeaders</a></code> datatype. If a header
 with the same name already exists, the new value is appended to the headers
 list.</p><p>Example:</p><pre>ghci&gt; import qualified <a href="Snap-Types-Headers.html">Snap.Types.Headers</a> as H
ghci&gt; <code><a href="Snap-Core.html#v:addHeader" title="Snap.Core">addHeader</a></code> &quot;Host&quot; &quot;localhost&quot; H.<code>empty</code>
H {unH = [(&quot;host&quot;,&quot;localhost&quot;)]}
ghci&gt; <code><a href="Snap-Core.html#v:addHeader" title="Snap.Core">addHeader</a></code> &quot;Host&quot; &quot;127.0.0.1&quot; it
H {unH = [(&quot;host&quot;,&quot;localhost,127.0.0.1&quot;)]}
</pre></div></div><div class="top"><p class="src"><a id="v:setHeader" class="def">setHeader</a> :: <a href="Snap-Core.html#t:HasHeaders" title="Snap.Core">HasHeaders</a> a =&gt; CI <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; a -&gt; a <a href="src/Snap.Internal.Http.Types.html#setHeader" class="link">Source</a> <a href="#v:setHeader" class="selflink">#</a></p><div class="doc"><p>Sets a header key-value-pair in a <code><a href="Snap-Core.html#t:HasHeaders" title="Snap.Core">HasHeaders</a></code> datatype. If a header with
 the same name already exists, it is overwritten with the new value.</p><p>Example:</p><pre>ghci&gt; import qualified <a href="Snap-Types-Headers.html">Snap.Types.Headers</a> as H
ghci&gt; <code><a href="Snap-Core.html#v:setHeader" title="Snap.Core">setHeader</a></code> &quot;Host&quot; &quot;localhost&quot; H.<code>empty</code>
H {unH = [(&quot;host&quot;,&quot;localhost&quot;)]}
ghci&gt; setHeader &quot;Host&quot; &quot;127.0.0.1&quot; it
H {unH = [(&quot;host&quot;,&quot;127.0.0.1&quot;)]}
</pre></div></div><div class="top"><p class="src"><a id="v:getHeader" class="def">getHeader</a> :: <a href="Snap-Core.html#t:HasHeaders" title="Snap.Core">HasHeaders</a> a =&gt; CI <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; a -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="src/Snap.Internal.Http.Types.html#getHeader" class="link">Source</a> <a href="#v:getHeader" class="selflink">#</a></p><div class="doc"><p>Gets a header value out of a <code><a href="Snap-Core.html#t:HasHeaders" title="Snap.Core">HasHeaders</a></code> datatype.</p><p>Example:</p><pre>ghci&gt; import qualified <a href="Snap-Types-Headers.html">Snap.Types.Headers</a> as H
ghci&gt; <code><a href="Snap-Core.html#v:getHeader" title="Snap.Core">getHeader</a></code> &quot;Host&quot; $ <code><a href="Snap-Core.html#v:setHeader" title="Snap.Core">setHeader</a></code> &quot;Host&quot; &quot;localhost&quot; H.<code>empty</code>
Just &quot;localhost&quot;
</pre></div></div><div class="top"><p class="src"><a id="v:listHeaders" class="def">listHeaders</a> :: <a href="Snap-Core.html#t:HasHeaders" title="Snap.Core">HasHeaders</a> a =&gt; a -&gt; [(CI <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)] <a href="src/Snap.Internal.Http.Types.html#listHeaders" class="link">Source</a> <a href="#v:listHeaders" class="selflink">#</a></p><div class="doc"><p>Lists all the headers out of a <code><a href="Snap-Core.html#t:HasHeaders" title="Snap.Core">HasHeaders</a></code> datatype. If many
 headers came in with the same name, they will be catenated together.</p><p>Example:</p><pre>ghci&gt; import qualified <a href="Snap-Types-Headers.html">Snap.Types.Headers</a> as H
ghci&gt; <code><a href="Snap-Core.html#v:listHeaders" title="Snap.Core">listHeaders</a></code> $ <code><a href="Snap-Core.html#v:setHeader" title="Snap.Core">setHeader</a></code> &quot;Host&quot; &quot;localhost&quot; H.<code>empty</code>
[(&quot;host&quot;,&quot;localhost&quot;)]
</pre></div></div><div class="top"><p class="src"><a id="v:deleteHeader" class="def">deleteHeader</a> :: <a href="Snap-Core.html#t:HasHeaders" title="Snap.Core">HasHeaders</a> a =&gt; CI <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; a -&gt; a <a href="src/Snap.Internal.Http.Types.html#deleteHeader" class="link">Source</a> <a href="#v:deleteHeader" class="selflink">#</a></p><div class="doc"><p>Clears a header value from a <code><a href="Snap-Core.html#t:HasHeaders" title="Snap.Core">HasHeaders</a></code> datatype.</p><p>Example:</p><pre>ghci&gt; import qualified <a href="Snap-Types-Headers.html">Snap.Types.Headers</a> as H
ghci&gt; <code><a href="Snap-Core.html#v:deleteHeader" title="Snap.Core">deleteHeader</a></code> &quot;Host&quot; $ <code><a href="Snap-Core.html#v:setHeader" title="Snap.Core">setHeader</a></code> &quot;Host&quot; &quot;localhost&quot; H.<code>empty</code>
H {unH = []}
</pre></div></div><div class="top"><p class="src"><a id="v:ipHeaderFilter" class="def">ipHeaderFilter</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; m () <a href="src/Snap.Internal.Core.html#ipHeaderFilter" class="link">Source</a> <a href="#v:ipHeaderFilter" class="selflink">#</a></p><div class="doc"><p>Modifies the <code><a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></code> in the state to set the <code>rqRemoteAddr</code>
 field to the value in the X-Forwarded-For header. If the header is
 not present, this action has no effect.</p><p>This action should be used only when working behind a reverse http
 proxy that sets the X-Forwarded-For header. This is the only way to
 ensure the value in the X-Forwarded-For header can be trusted.</p><p>This is provided as a filter so actions that require the remote
 address can get it in a uniform manner. It has specifically limited
 functionality to ensure that its transformation can be trusted,
 when used correctly.</p></div></div><div class="top"><p class="src"><a id="v:ipHeaderFilter-39-" class="def">ipHeaderFilter'</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; CI <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m () <a href="src/Snap.Internal.Core.html#ipHeaderFilter%27" class="link">Source</a> <a href="#v:ipHeaderFilter-39-" class="selflink">#</a></p><div class="doc"><p>Modifies the <code><a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></code> in the state to set the <code>rqRemoteAddr</code>
 field to the value from the header specified.  If the header
 specified is not present, this action has no effect.</p><p>This action should be used only when working behind a reverse http
 proxy that sets the header being looked at. This is the only way to
 ensure the value in the header can be trusted.</p><p>This is provided as a filter so actions that require the remote
 address can get it in a uniform manner. It has specifically limited
 functionality to ensure that its transformation can be trusted,
 when used correctly.</p></div></div><a href="#g:10" id="g:10"><h2>Requests</h2></a><div class="top"><p class="src"><a id="v:rqHeaders" class="def">rqHeaders</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a> <a href="src/Snap.Internal.Http.Types.html#rqHeaders" class="link">Source</a> <a href="#v:rqHeaders" class="selflink">#</a></p><div class="doc"><p>Contains all HTTP <code><a href="Snap-Core.html#t:Headers" title="Snap.Core">Headers</a></code> associated with this request.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; rqHeaders `fmap` T.buildRequest (T.get &quot;/foo/bar&quot; M.empty)
H {unH = [(&quot;host&quot;,&quot;localhost&quot;)]}
</pre></div></div><div class="top"><p class="src"><a id="v:rqHostName" class="def">rqHostName</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="src/Snap.Internal.Http.Types.html#rqHostName" class="link">Source</a> <a href="#v:rqHostName" class="selflink">#</a></p><div class="doc"><p>The server name of the request, as it came in from the request's
 <code>Host:</code> header.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; :{
ghci| rq &lt;- T.buildRequest $ do
ghci|         T.get &quot;/foo/bar&quot; M.empty
ghci|         T.setHeader &quot;host&quot; &quot;example.com&quot;
ghci| :}
ghci&gt; rqHostName rq
&quot;example.com&quot;
</pre></div></div><div class="top"><p class="src"><a id="v:rqClientAddr" class="def">rqClientAddr</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="src/Snap.Internal.Http.Types.html#rqClientAddr" class="link">Source</a> <a href="#v:rqClientAddr" class="selflink">#</a></p><div class="doc"><p>The remote IP address.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; rqClientAddr `fmap` T.buildRequest (T.get &quot;/foo/bar&quot; M.empty)
&quot;127.0.0.1&quot;
</pre></div></div><div class="top"><p class="src"><a id="v:rqClientPort" class="def">rqClientPort</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Snap.Internal.Http.Types.html#rqClientPort" class="link">Source</a> <a href="#v:rqClientPort" class="selflink">#</a></p><div class="doc"><p>The remote TCP port number.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; rqClientPort `fmap` T.buildRequest (T.get &quot;/foo/bar&quot; M.empty)
&quot;60000&quot;
</pre></div></div><div class="top"><p class="src"><a id="v:rqServerAddr" class="def">rqServerAddr</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="src/Snap.Internal.Http.Types.html#rqServerAddr" class="link">Source</a> <a href="#v:rqServerAddr" class="selflink">#</a></p><div class="doc"><p>The local IP address for this request.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; rqServerAddr `fmap` T.buildRequest (T.get &quot;/foo/bar&quot; M.empty)
&quot;127.0.0.1&quot;
</pre></div></div><div class="top"><p class="src"><a id="v:rqServerPort" class="def">rqServerPort</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Snap.Internal.Http.Types.html#rqServerPort" class="link">Source</a> <a href="#v:rqServerPort" class="selflink">#</a></p><div class="doc"><p>Returns the port number the HTTP server is listening on. This may be
 useless from the perspective of external requests, e.g. if the server
 is running behind a proxy.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; rqServerPort `fmap` T.buildRequest (T.get &quot;/foo/bar&quot; M.empty)
8080
</pre></div></div><div class="top"><p class="src"><a id="v:rqLocalHostname" class="def">rqLocalHostname</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="src/Snap.Internal.Http.Types.html#rqLocalHostname" class="link">Source</a> <a href="#v:rqLocalHostname" class="selflink">#</a></p><div class="doc"><p>Returns the HTTP server's idea of its local hostname, including
 port. This is as configured with the <code>Config</code> object at startup.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; rqLocalHostname `fmap` T.buildRequest (T.get &quot;/foo/bar&quot; M.empty)
&quot;localhost&quot;
</pre></div></div><div class="top"><p class="src"><a id="v:rqIsSecure" class="def">rqIsSecure</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Snap.Internal.Http.Types.html#rqIsSecure" class="link">Source</a> <a href="#v:rqIsSecure" class="selflink">#</a></p><div class="doc"><p>Returns <code>True</code> if this is an HTTPS session.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; rqIsSecure `fmap` T.buildRequest (T.get &quot;/foo/bar&quot; M.empty)
False
</pre></div></div><div class="top"><p class="src"><a id="v:rqContentLength" class="def">rqContentLength</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> <a href="src/Snap.Internal.Http.Types.html#rqContentLength" class="link">Source</a> <a href="#v:rqContentLength" class="selflink">#</a></p><div class="doc"><p>Returns the <code>Content-Length</code> of the HTTP request body.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; rqContentLength `fmap` T.buildRequest (T.get &quot;/foo/bar&quot; M.empty)
Nothing
</pre></div></div><div class="top"><p class="src"><a id="v:rqMethod" class="def">rqMethod</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="Snap-Core.html#t:Method" title="Snap.Core">Method</a> <a href="src/Snap.Internal.Http.Types.html#rqMethod" class="link">Source</a> <a href="#v:rqMethod" class="selflink">#</a></p><div class="doc"><p>Returns the HTTP request method.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; rqMethod `fmap` T.buildRequest (T.get &quot;/foo/bar&quot; M.empty)
GET
</pre></div></div><div class="top"><p class="src"><a id="v:rqVersion" class="def">rqVersion</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="Snap-Core.html#t:HttpVersion" title="Snap.Core">HttpVersion</a> <a href="src/Snap.Internal.Http.Types.html#rqVersion" class="link">Source</a> <a href="#v:rqVersion" class="selflink">#</a></p><div class="doc"><p>Returns the HTTP version used by the client.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; rqVersion `fmap` T.buildRequest (T.get &quot;/foo/bar&quot; M.empty)
(1,1)
</pre></div></div><div class="top"><p class="src"><a id="v:rqCookies" class="def">rqCookies</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; [<a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a>] <a href="src/Snap.Internal.Http.Types.html#rqCookies" class="link">Source</a> <a href="#v:rqCookies" class="selflink">#</a></p><div class="doc"><p>Returns a list of the cookies that came in from the HTTP request
 headers.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; rqCookies `fmap` T.buildRequest (T.get &quot;/foo/bar&quot; M.empty)
[]
</pre></div></div><div class="top"><p class="src"><a id="v:rqPathInfo" class="def">rqPathInfo</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="src/Snap.Internal.Http.Types.html#rqPathInfo" class="link">Source</a> <a href="#v:rqPathInfo" class="selflink">#</a></p><div class="doc"><p>Handlers can be hung on a <code>URI</code> &quot;entry point&quot;; this is called the
 &quot;context path&quot;. If a handler is hung on the context path
 <code>&quot;/foo/&quot;</code>, and you request <code>&quot;/foo/bar&quot;</code>, the value of
 <code><a href="Snap-Core.html#v:rqPathInfo" title="Snap.Core">rqPathInfo</a></code> will be <code>&quot;bar&quot;</code>.</p><p>The following identity holds:</p><pre>rqURI r == S.concat [ rqContextPath r
                    , rqPathInfo r
                    , let q = rqQueryString r
                      in if S.null q
                           then &quot;&quot;
                           else S.append &quot;?&quot; q
                    ]</pre><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; rqPathInfo `fmap` T.buildRequest (T.get &quot;/foo/bar&quot; M.empty)
&quot;foo/bar&quot;
</pre></div></div><div class="top"><p class="src"><a id="v:rqContextPath" class="def">rqContextPath</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="src/Snap.Internal.Http.Types.html#rqContextPath" class="link">Source</a> <a href="#v:rqContextPath" class="selflink">#</a></p><div class="doc"><p>The &quot;context path&quot; of the request; catenating <code><a href="Snap-Core.html#v:rqContextPath" title="Snap.Core">rqContextPath</a></code>,
 and <code><a href="Snap-Core.html#v:rqPathInfo" title="Snap.Core">rqPathInfo</a></code> should get you back to the original <code><a href="Snap-Core.html#v:rqURI" title="Snap.Core">rqURI</a></code>
 (ignoring query strings). The <code><a href="Snap-Core.html#v:rqContextPath" title="Snap.Core">rqContextPath</a></code> always begins and ends
 with a slash (<code>&quot;/&quot;</code>) character, and represents the path (relative
 to your component/snaplet) you took to get to your handler.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; rqContextPath `fmap` T.buildRequest (T.get &quot;/foo/bar&quot; M.empty)
&quot;/&quot;
</pre></div></div><div class="top"><p class="src"><a id="v:rqURI" class="def">rqURI</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="src/Snap.Internal.Http.Types.html#rqURI" class="link">Source</a> <a href="#v:rqURI" class="selflink">#</a></p><div class="doc"><p>Returns the <code>URI</code> requested by the client.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; rqURI `fmap` T.buildRequest (T.get &quot;/foo/bar&quot; M.empty)
&quot;foo/bar&quot;
</pre></div></div><div class="top"><p class="src"><a id="v:rqQueryString" class="def">rqQueryString</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="src/Snap.Internal.Http.Types.html#rqQueryString" class="link">Source</a> <a href="#v:rqQueryString" class="selflink">#</a></p><div class="doc"><p>Returns the HTTP query string for this <code><a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></code>.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; rq &lt;- T.buildRequest (T.get &quot;/foo/bar&quot; (M.fromList [(&quot;name&quot;, [&quot;value&quot;])]))
ghci&gt; rqQueryString rq
&quot;name=value&quot;
</pre></div></div><div class="top"><p class="src"><a id="v:rqParams" class="def">rqParams</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="Snap-Core.html#t:Params" title="Snap.Core">Params</a> <a href="src/Snap.Internal.Http.Types.html#rqParams" class="link">Source</a> <a href="#v:rqParams" class="selflink">#</a></p><div class="doc"><p>Returns the parameters mapping for this <code><a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></code>. &quot;Parameters&quot;
 are automatically decoded from the URI's query string and <code>POST</code> body
 and entered into this mapping. The <code><a href="Snap-Core.html#v:rqParams" title="Snap.Core">rqParams</a></code> value is thus a union of
 <code><a href="Snap-Core.html#v:rqQueryParams" title="Snap.Core">rqQueryParams</a></code> and <code><a href="Snap-Core.html#v:rqPostParams" title="Snap.Core">rqPostParams</a></code>.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; :{
ghci| rq &lt;- T.buildRequest $ do
ghci|         T.postUrlEncoded &quot;/foo/bar&quot; $ M.fromList [(&quot;baz&quot;, [&quot;qux&quot;])]
ghci|         T.setQueryStringRaw &quot;baz=quux&quot;
ghci| :}
ghci&gt; rqParams rq
fromList [(&quot;baz&quot;,[&quot;qux&quot;,&quot;quux&quot;])]
</pre></div></div><div class="top"><p class="src"><a id="v:rqQueryParams" class="def">rqQueryParams</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="Snap-Core.html#t:Params" title="Snap.Core">Params</a> <a href="src/Snap.Internal.Http.Types.html#rqQueryParams" class="link">Source</a> <a href="#v:rqQueryParams" class="selflink">#</a></p><div class="doc"><p>The parameter mapping decoded from the URI's query string.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; :{
ghci| rq &lt;- T.buildRequest $ do
ghci|         T.postUrlEncoded &quot;/foo/bar&quot; $ M.fromList [(&quot;baz&quot;, [&quot;qux&quot;])]
ghci|         T.setQueryStringRaw &quot;baz=quux&quot;
ghci| :}
ghci&gt; rqQueryParams rq
fromList [(&quot;baz&quot;,[&quot;quux&quot;])]
</pre></div></div><div class="top"><p class="src"><a id="v:rqPostParams" class="def">rqPostParams</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="Snap-Core.html#t:Params" title="Snap.Core">Params</a> <a href="src/Snap.Internal.Http.Types.html#rqPostParams" class="link">Source</a> <a href="#v:rqPostParams" class="selflink">#</a></p><div class="doc"><p>The parameter mapping decoded from the POST body. Note that Snap
 only auto-decodes POST request bodies when the request's
 <code>Content-Type</code> is <code>application/x-www-form-urlencoded</code>.
 For <code>multipart/form-data</code> use <code><a href="Snap-Util-FileUploads.html#v:handleFileUploads" title="Snap.Util.FileUploads">handleFileUploads</a></code>
 to decode the POST request and fill this mapping.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; :{
ghci| rq &lt;- T.buildRequest $ do
ghci|         T.postUrlEncoded &quot;/foo/bar&quot; $ M.fromList [(&quot;baz&quot;, [&quot;qux&quot;])]
ghci|         T.setQueryStringRaw &quot;baz=quux&quot;
ghci| :}
ghci&gt; rqPostParams rq
fromList [(&quot;baz&quot;,[&quot;qux&quot;])]
</pre></div></div><div class="top"><p class="src"><a id="v:rqParam" class="def">rqParam</a> <a href="src/Snap.Internal.Http.Types.html#rqParam" class="link">Source</a> <a href="#v:rqParam" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc"><p>parameter name to look up</p></td></tr><tr><td class="src">-&gt; <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></td><td class="doc"><p>HTTP request</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> [<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Looks up the value(s) for the given named parameter. Parameters initially
 come from the request's query string and any decoded POST body (if the
 request's <code>Content-Type</code> is <code>application/x-www-form-urlencoded</code>).
 Parameter values can be modified within handlers using &quot;rqModifyParams&quot;.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; :{
ghci| rq &lt;- T.buildRequest $ do
ghci|         T.postUrlEncoded &quot;/foo/bar&quot; $ M.fromList [(&quot;baz&quot;, [&quot;qux&quot;])]
ghci|         T.setQueryStringRaw &quot;baz=quux&quot;
ghci| :}
ghci&gt; <code><a href="Snap-Core.html#v:rqParam" title="Snap.Core">rqParam</a></code> &quot;baz&quot; rq
Just [&quot;qux&quot;,&quot;quux&quot;]
</pre></div></div><div class="top"><p class="src"><a id="v:rqPostParam" class="def">rqPostParam</a> <a href="src/Snap.Internal.Http.Types.html#rqPostParam" class="link">Source</a> <a href="#v:rqPostParam" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc"><p>parameter name to look up</p></td></tr><tr><td class="src">-&gt; <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></td><td class="doc"><p>HTTP request</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> [<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Looks up the value(s) for the given named parameter in the POST parameters
 mapping.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; :{
ghci| rq &lt;- T.buildRequest $ do
ghci|         T.postUrlEncoded &quot;/foo/bar&quot; $ M.fromList [(&quot;baz&quot;, [&quot;qux&quot;])]
ghci|         T.setQueryStringRaw &quot;baz=quux&quot;
ghci| :}
ghci&gt; <code><a href="Snap-Core.html#v:rqPostParam" title="Snap.Core">rqPostParam</a></code> &quot;baz&quot; rq
Just [&quot;qux&quot;]
</pre></div></div><div class="top"><p class="src"><a id="v:rqQueryParam" class="def">rqQueryParam</a> <a href="src/Snap.Internal.Http.Types.html#rqQueryParam" class="link">Source</a> <a href="#v:rqQueryParam" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc"><p>parameter name to look up</p></td></tr><tr><td class="src">-&gt; <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></td><td class="doc"><p>HTTP request</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> [<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Looks up the value(s) for the given named parameter in the query
 parameters mapping.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; :{
ghci| rq &lt;- T.buildRequest $ do
ghci|         T.postUrlEncoded &quot;/foo/bar&quot; $ M.fromList [(&quot;baz&quot;, [&quot;qux&quot;])]
ghci|         T.setQueryStringRaw &quot;baz=quux&quot;
ghci| :}
ghci&gt; <code><a href="Snap-Core.html#v:rqQueryParam" title="Snap.Core">rqQueryParam</a></code> &quot;baz&quot; rq
Just [&quot;quux&quot;]
</pre></div></div><div class="top"><p class="src"><a id="v:getParam" class="def">getParam</a> <a href="src/Snap.Internal.Core.html#getParam" class="link">Source</a> <a href="#v:getParam" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc"><p>parameter name to look up</p></td></tr><tr><td class="src">-&gt; m (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>See <code><a href="Snap-Core.html#v:rqParam" title="Snap.Core">rqParam</a></code>. Looks up a value for the given named parameter in the
 <code><a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></code>. If more than one value was entered for the given parameter name,
 <code><a href="Snap-Core.html#v:getParam" title="Snap.Core">getParam</a></code> gloms the values together with <code><code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#v:intercalate" title="Data.ByteString">intercalate</a></code> &quot; &quot;</code>.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Char8.html">Data.ByteString.Char8</a> as B8
ghci&gt; let r = T.get &quot;/foo/bar&quot; $ M.fromList [(&quot;foo&quot;, [&quot;bar&quot;])]
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:getParam" title="Snap.Core">getParam</a></code> &quot;foo&quot; &gt;&gt;= <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> . B8.pack . show)
HTTP/1.1 200 OK
server: Snap/test
date: Mon, 11 Aug 2014 12:57:20 GMT

Just &quot;bar&quot;
</pre></div></div><div class="top"><p class="src"><a id="v:getPostParam" class="def">getPostParam</a> <a href="src/Snap.Internal.Core.html#getPostParam" class="link">Source</a> <a href="#v:getPostParam" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc"><p>parameter name to look up</p></td></tr><tr><td class="src">-&gt; m (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>See <code><a href="Snap-Core.html#v:rqPostParam" title="Snap.Core">rqPostParam</a></code>. Looks up a value for the given named parameter in the
 POST form parameters mapping in <code><a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></code>. If more than one value was
 entered for the given parameter name, <code><a href="Snap-Core.html#v:getPostParam" title="Snap.Core">getPostParam</a></code> gloms the values
 together with: <code><code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#v:intercalate" title="Data.ByteString">intercalate</a></code> &quot; &quot;</code>.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Char8.html">Data.ByteString.Char8</a> as B8
ghci&gt; let r = T.postUrlEncoded &quot;/foo/bar&quot; $ M.fromList [(&quot;foo&quot;, [&quot;bar&quot;])]
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:getPostParam" title="Snap.Core">getPostParam</a></code> &quot;foo&quot; &gt;&gt;= <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> . B8.pack . show)
HTTP/1.1 200 OK
server: Snap/test
date: Mon, 11 Aug 2014 13:01:04 GMT

Just &quot;bar&quot;
</pre></div></div><div class="top"><p class="src"><a id="v:getQueryParam" class="def">getQueryParam</a> <a href="src/Snap.Internal.Core.html#getQueryParam" class="link">Source</a> <a href="#v:getQueryParam" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc"><p>parameter name to look up</p></td></tr><tr><td class="src">-&gt; m (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>See <code><a href="Snap-Core.html#v:rqQueryParam" title="Snap.Core">rqQueryParam</a></code>. Looks up a value for the given named parameter in the
 query string parameters mapping in <code><a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></code>. If more than one value was
 entered for the given parameter name, <code><a href="Snap-Core.html#v:getQueryParam" title="Snap.Core">getQueryParam</a></code> gloms the values
 together with  <code><code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#v:intercalate" title="Data.ByteString">intercalate</a></code> &quot; &quot;</code>.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Char8.html">Data.ByteString.Char8</a> as B8
ghci&gt; let r = T.postUrlEncoded &quot;/foo/bar&quot; M.empty &gt;&gt; T.setQueryStringRaw &quot;foo=bar&amp;foo=baz&quot;
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:getQueryParam" title="Snap.Core">getQueryParam</a></code> &quot;foo&quot; &gt;&gt;= <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> . B8.pack . show)
HTTP/1.1 200 OK
server: Snap/test
date: Mon, 11 Aug 2014 13:06:50 GMT

Just &quot;bar baz&quot;
</pre></div></div><div class="top"><p class="src"><a id="v:getParams" class="def">getParams</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; m <a href="Snap-Core.html#t:Params" title="Snap.Core">Params</a> <a href="src/Snap.Internal.Core.html#getParams" class="link">Source</a> <a href="#v:getParams" class="selflink">#</a></p><div class="doc"><p>See <code><a href="Snap-Core.html#v:rqParams" title="Snap.Core">rqParams</a></code>. Convenience function to return <code><a href="Snap-Core.html#t:Params" title="Snap.Core">Params</a></code> from the
 <code><a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></code> inside of a <code><a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a></code> instance.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Char8.html">Data.ByteString.Char8</a> as B8
ghci&gt; let r = T.get &quot;/foo/bar&quot; $ M.fromList [(&quot;foo&quot;, [&quot;bar&quot;])]
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:getParams" title="Snap.Core">getParams</a></code> &gt;&gt;= <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> . B8.pack . show)
HTTP/1.1 200 OK
server: Snap/test
date: Mon, 11 Aug 2014 13:02:54 GMT

fromList [(&quot;foo&quot;,[&quot;bar&quot;])]
</pre></div></div><div class="top"><p class="src"><a id="v:getPostParams" class="def">getPostParams</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; m <a href="Snap-Core.html#t:Params" title="Snap.Core">Params</a> <a href="src/Snap.Internal.Core.html#getPostParams" class="link">Source</a> <a href="#v:getPostParams" class="selflink">#</a></p><div class="doc"><p>See <code><a href="Snap-Core.html#v:rqParams" title="Snap.Core">rqParams</a></code>. Convenience function to return <code><a href="Snap-Core.html#t:Params" title="Snap.Core">Params</a></code> from the
 <code><a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></code> inside of a <code><a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a></code> instance.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Char8.html">Data.ByteString.Char8</a> as B8
ghci&gt; let r = T.postUrlEncoded &quot;/foo/bar&quot; $ M.fromList [(&quot;foo&quot;, [&quot;bar&quot;])]
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:getPostParams" title="Snap.Core">getPostParams</a></code> &gt;&gt;= <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> . B8.pack . show)
HTTP/1.1 200 OK
server: Snap/test
date: Mon, 11 Aug 2014 13:04:34 GMT

fromList [(&quot;foo&quot;,[&quot;bar&quot;])]
</pre></div></div><div class="top"><p class="src"><a id="v:getQueryParams" class="def">getQueryParams</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; m <a href="Snap-Core.html#t:Params" title="Snap.Core">Params</a> <a href="src/Snap.Internal.Core.html#getQueryParams" class="link">Source</a> <a href="#v:getQueryParams" class="selflink">#</a></p><div class="doc"><p>See <code><a href="Snap-Core.html#v:rqParams" title="Snap.Core">rqParams</a></code>. Convenience function to return <code><a href="Snap-Core.html#t:Params" title="Snap.Core">Params</a></code> from the
 <code><a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></code> inside of a <code><a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a></code> instance.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Char8.html">Data.ByteString.Char8</a> as B8
ghci&gt; let r = T.postUrlEncoded &quot;/foo/bar&quot; M.empty &gt;&gt; T.setQueryStringRaw &quot;foo=bar&amp;foo=baz&quot;
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:getQueryParams" title="Snap.Core">getQueryParams</a></code> &gt;&gt;= <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> . B8.pack . show)
HTTP/1.1 200 OK
server: Snap/test
date: Mon, 11 Aug 2014 13:10:17 GMT

fromList [(&quot;foo&quot;,[&quot;bar&quot;,&quot;baz&quot;])]
</pre></div></div><div class="top"><p class="src"><a id="v:rqModifyParams" class="def">rqModifyParams</a> :: (<a href="Snap-Core.html#t:Params" title="Snap.Core">Params</a> -&gt; <a href="Snap-Core.html#t:Params" title="Snap.Core">Params</a>) -&gt; <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> <a href="src/Snap.Internal.Http.Types.html#rqModifyParams" class="link">Source</a> <a href="#v:rqModifyParams" class="selflink">#</a></p><div class="doc"><p>Modifies the parameters mapping (which is a <code>Map ByteString ByteString</code>)
 in a <code><a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></code> using the given function.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; :{
ghci| rq &lt;- T.buildRequest $ do
ghci|         T.postUrlEncoded &quot;/foo/bar&quot; $ M.fromList [(&quot;baz&quot;, [&quot;qux&quot;])]
ghci|         T.setQueryStringRaw &quot;baz=quux&quot;
ghci| :}
ghci&gt; <code><a href="Snap-Core.html#v:rqParams" title="Snap.Core">rqParams</a></code> rq
fromList [(&quot;baz&quot;,[&quot;qux&quot;,&quot;quux&quot;])]
ghci&gt; <code><a href="Snap-Core.html#v:rqParams" title="Snap.Core">rqParams</a></code> $ <code><a href="Snap-Core.html#v:rqModifyParams" title="Snap.Core">rqModifyParams</a></code> (M.delete &quot;baz&quot;) rq
fromList []
</pre></div></div><div class="top"><p class="src"><a id="v:rqSetParam" class="def">rqSetParam</a> <a href="src/Snap.Internal.Http.Types.html#rqSetParam" class="link">Source</a> <a href="#v:rqSetParam" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc"><p>parameter name</p></td></tr><tr><td class="src">-&gt; [<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>]</td><td class="doc"><p>parameter values</p></td></tr><tr><td class="src">-&gt; <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></td><td class="doc"><p>request</p></td></tr><tr><td class="src">-&gt; <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Writes a key-value pair to the parameters mapping within the given
 request.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; :{
ghci| rq &lt;- T.buildRequest $ do
ghci|         T.postUrlEncoded &quot;/foo/bar&quot; $ M.fromList [(&quot;baz&quot;, [&quot;qux&quot;])]
ghci|         T.setQueryStringRaw &quot;baz=quux&quot;
ghci| :}
ghci&gt; <code><a href="Snap-Core.html#v:rqParams" title="Snap.Core">rqParams</a></code> rq
fromList [(&quot;baz&quot;,[&quot;qux&quot;,&quot;quux&quot;])]
ghci&gt; <code><a href="Snap-Core.html#v:rqParams" title="Snap.Core">rqParams</a></code> $ <code><a href="Snap-Core.html#v:rqSetParam" title="Snap.Core">rqSetParam</a></code> &quot;baz&quot; [&quot;corge&quot;] rq
fromList [(&quot;baz&quot;, [&quot;corge&quot;])]
</pre></div></div><a href="#g:11" id="g:11"><h3>Deprecated functions</h3></a><div class="top"><p class="src"><a id="v:rqRemoteAddr" class="def">rqRemoteAddr</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="src/Snap.Internal.Http.Types.html#rqRemoteAddr" class="link">Source</a> <a href="#v:rqRemoteAddr" class="selflink">#</a></p><div class="doc"><div class="warning"><p>Deprecated: (snap-core &gt;= 1.0.0.0) please use <code><a href="Snap-Core.html#v:rqClientAddr" title="Snap.Core">rqClientAddr</a></code>, this will be removed in 1.1.*</p></div><p>See <code><a href="Snap-Core.html#v:rqClientAddr" title="Snap.Core">rqClientAddr</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:rqRemotePort" class="def">rqRemotePort</a> :: <a href="Snap-Core.html#t:Request" title="Snap.Core">Request</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Snap.Internal.Http.Types.html#rqRemotePort" class="link">Source</a> <a href="#v:rqRemotePort" class="selflink">#</a></p><div class="doc"><div class="warning"><p>Deprecated: (snap-core &gt;= 1.0.0.0) please use <code><a href="Snap-Core.html#v:rqClientPort" title="Snap.Core">rqClientPort</a></code>, this will be removed in 1.1.*</p></div><p>See <code><a href="Snap-Core.html#v:rqClientPort" title="Snap.Core">rqClientPort</a></code>.</p></div></div><a href="#g:12" id="g:12"><h2>Responses</h2></a><div class="top"><p class="src"><a id="v:emptyResponse" class="def">emptyResponse</a> :: <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> <a href="src/Snap.Internal.Http.Types.html#emptyResponse" class="link">Source</a> <a href="#v:emptyResponse" class="selflink">#</a></p><div class="doc"><p>An empty <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code>.</p><p>Example:</p><pre>ghci&gt; <code><a href="Snap-Core.html#v:emptyResponse" title="Snap.Core">emptyResponse</a></code>
HTTP/1.1 200 OK


</pre></div></div><div class="top"><p class="src"><a id="v:setResponseCode" class="def">setResponseCode</a> <a href="src/Snap.Internal.Http.Types.html#setResponseCode" class="link">Source</a> <a href="#v:setResponseCode" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>HTTP response integer code</p></td></tr><tr><td class="src">-&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></td><td class="doc"><p>Response to be modified</p></td></tr><tr><td class="src">-&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Sets the HTTP response code.</p><p>Example:</p><pre>ghci&gt; setResponseCode 404 <code><a href="Snap-Core.html#v:emptyResponse" title="Snap.Core">emptyResponse</a></code>
HTTP/1.1 404 Not Found


</pre></div></div><div class="top"><p class="src"><a id="v:setResponseStatus" class="def">setResponseStatus</a> <a href="src/Snap.Internal.Http.Types.html#setResponseStatus" class="link">Source</a> <a href="#v:setResponseStatus" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>HTTP response integer code</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc"><p>HTTP response explanation</p></td></tr><tr><td class="src">-&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></td><td class="doc"><p>Response to be modified</p></td></tr><tr><td class="src">-&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Sets the HTTP response status. Note: normally you would use
 <code><a href="Snap-Core.html#v:setResponseCode" title="Snap.Core">setResponseCode</a></code> unless you needed a custom response explanation.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; setResponseStatus 500 &quot;Internal Server Error&quot; <code><a href="Snap-Core.html#v:emptyResponse" title="Snap.Core">emptyResponse</a></code>
HTTP/1.1 500 Internal Server Error


</pre></div></div><div class="top"><p class="src"><a id="v:rspStatus" class="def">rspStatus</a> :: <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Snap.Internal.Http.Types.html#rspStatus" class="link">Source</a> <a href="#v:rspStatus" class="selflink">#</a></p><div class="doc"><p>Returns the HTTP status code.</p><p>Example:</p><pre>ghci&gt; rspStatus <code><a href="Snap-Core.html#v:emptyResponse" title="Snap.Core">emptyResponse</a></code>
200
</pre></div></div><div class="top"><p class="src"><a id="v:rspStatusReason" class="def">rspStatusReason</a> :: <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="src/Snap.Internal.Http.Types.html#rspStatusReason" class="link">Source</a> <a href="#v:rspStatusReason" class="selflink">#</a></p><div class="doc"><p>Returns the HTTP status explanation string.</p><p>Example:</p><pre>ghci&gt; rspStatusReason <code><a href="Snap-Core.html#v:emptyResponse" title="Snap.Core">emptyResponse</a></code>
<a href="OK.html">OK</a>
</pre></div></div><div class="top"><p class="src"><a id="v:setContentType" class="def">setContentType</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> <a href="src/Snap.Internal.Http.Types.html#setContentType" class="link">Source</a> <a href="#v:setContentType" class="selflink">#</a></p><div class="doc"><p>Sets the <code>Content-Type</code> in the <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code> headers.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; setContentType &quot;text/html&quot; <code><a href="Snap-Core.html#v:emptyResponse" title="Snap.Core">emptyResponse</a></code>
HTTP/1.1 200 OK
content-type: text/html


</pre></div></div><div class="top"><p class="src"><a id="v:addResponseCookie" class="def">addResponseCookie</a> <a href="src/Snap.Internal.Http.Types.html#addResponseCookie" class="link">Source</a> <a href="#v:addResponseCookie" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a></td><td class="doc"><p>cookie value</p></td></tr><tr><td class="src">-&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></td><td class="doc"><p>response to modify</p></td></tr><tr><td class="src">-&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Adds an HTTP <code><a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a></code> to <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code> headers.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; let cookie = <code><a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a></code> &quot;name&quot; &quot;value&quot; Nothing Nothing Nothing False False
ghci&gt; <code><a href="Snap-Core.html#v:getResponseCookie" title="Snap.Core">getResponseCookie</a></code> &quot;name&quot; $ <code><a href="Snap-Core.html#v:addResponseCookie" title="Snap.Core">addResponseCookie</a></code> cookie <code><a href="Snap-Core.html#v:emptyResponse" title="Snap.Core">emptyResponse</a></code>
Just (Cookie {cookieName = &quot;name&quot;, cookieValue = &quot;value&quot;, ...})
</pre></div></div><div class="top"><p class="src"><a id="v:getResponseCookie" class="def">getResponseCookie</a> <a href="src/Snap.Internal.Http.Types.html#getResponseCookie" class="link">Source</a> <a href="#v:getResponseCookie" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc"><p>cookie name</p></td></tr><tr><td class="src">-&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></td><td class="doc"><p>response to query</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Gets an HTTP <code><a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a></code> with the given name from <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code> headers.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; <code><a href="Snap-Core.html#v:getResponseCookie" title="Snap.Core">getResponseCookie</a></code> &quot;cookie-name&quot; <code><a href="Snap-Core.html#v:emptyResponse" title="Snap.Core">emptyResponse</a></code>
Nothing
</pre></div></div><div class="top"><p class="src"><a id="v:getResponseCookies" class="def">getResponseCookies</a> <a href="src/Snap.Internal.Http.Types.html#getResponseCookies" class="link">Source</a> <a href="#v:getResponseCookies" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></td><td class="doc"><p>response to query</p></td></tr><tr><td class="src">-&gt; [<a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a>]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Returns a list of <code><a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a></code>s present in <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code></p><p>Example:</p><pre>ghci&gt; <code><a href="Snap-Core.html#v:getResponseCookies" title="Snap.Core">getResponseCookies</a></code> <code><a href="Snap-Core.html#v:emptyResponse" title="Snap.Core">emptyResponse</a></code>
[]
</pre></div></div><div class="top"><p class="src"><a id="v:deleteResponseCookie" class="def">deleteResponseCookie</a> <a href="src/Snap.Internal.Http.Types.html#deleteResponseCookie" class="link">Source</a> <a href="#v:deleteResponseCookie" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc"><p>cookie name</p></td></tr><tr><td class="src">-&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></td><td class="doc"><p>response to modify</p></td></tr><tr><td class="src">-&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Deletes an HTTP <code><a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a></code> from the <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code> headers. Please note
 this does not necessarily erase the cookie from the client browser.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; let cookie = <code><a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a></code> &quot;name&quot; &quot;value&quot; Nothing Nothing Nothing False False
ghci&gt; let rsp    = <code><a href="Snap-Core.html#v:addResponseCookie" title="Snap.Core">addResponseCookie</a></code> cookie <code><a href="Snap-Core.html#v:emptyResponse" title="Snap.Core">emptyResponse</a></code>
ghci&gt; <code><a href="Snap-Core.html#v:getResponseCookie" title="Snap.Core">getResponseCookie</a></code> &quot;name&quot; rsp
Just (Cookie {cookieName = &quot;name&quot;, cookieValue = &quot;value&quot;, ...})
ghci&gt; <code><a href="Snap-Core.html#v:getResponseCookie" title="Snap.Core">getResponseCookie</a></code> &quot;name&quot; $ <code><a href="Snap-Core.html#v:deleteResponseCookie" title="Snap.Core">deleteResponseCookie</a></code> &quot;name&quot; rsp
Nothing
</pre></div></div><div class="top"><p class="src"><a id="v:modifyResponseCookie" class="def">modifyResponseCookie</a> <a href="src/Snap.Internal.Http.Types.html#modifyResponseCookie" class="link">Source</a> <a href="#v:modifyResponseCookie" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc"><p>cookie name</p></td></tr><tr><td class="src">-&gt; (<a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a> -&gt; <a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a>)</td><td class="doc"><p>modifier function</p></td></tr><tr><td class="src">-&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></td><td class="doc"><p>response to modify</p></td></tr><tr><td class="src">-&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Modifies an HTTP <code><a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a></code> with given name in <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code> headers.
 Nothing will happen if a matching <code><a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a></code> can not be found in <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code>.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Monoid.html">Data.Monoid</a>
ghci&gt; let cookie = <code><a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a></code> &quot;name&quot; &quot;value&quot; Nothing Nothing Nothing False False
ghci&gt; let rsp    = <code><a href="Snap-Core.html#v:addResponseCookie" title="Snap.Core">addResponseCookie</a></code> cookie <code><a href="Snap-Core.html#v:emptyResponse" title="Snap.Core">emptyResponse</a></code>
ghci&gt; <code><a href="Snap-Core.html#v:getResponseCookie" title="Snap.Core">getResponseCookie</a></code> &quot;name&quot; rsp
Just (Cookie {cookieName = &quot;name&quot;, cookieValue = &quot;value&quot;, ...})
ghci&gt; let f ck@(<code><a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a></code> { cookieName = name }) = ck { cookieName = name &lt;&gt; &quot;'&quot;}
ghci&gt; let rsp' = <code><a href="Snap-Core.html#v:modifyResponseCookie" title="Snap.Core">modifyResponseCookie</a></code> &quot;name&quot; f rsp
ghci&gt; <code><a href="Snap-Core.html#v:getResponseCookie" title="Snap.Core">getResponseCookie</a></code> &quot;name'&quot; rsp'
Just (Cookie {cookieName = &quot;name'&quot;, ...})
ghci&gt; <code><a href="Snap-Core.html#v:getResponseCookie" title="Snap.Core">getResponseCookie</a></code> &quot;name&quot; rsp'
Just (Cookie {cookieName = &quot;name&quot;, ...})
</pre></div></div><div class="top"><p class="src"><a id="v:expireCookie" class="def">expireCookie</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a> -&gt; m () <a href="src/Snap.Internal.Core.html#expireCookie" class="link">Source</a> <a href="#v:expireCookie" class="selflink">#</a></p><div class="doc"><p>Expire given <code><a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a></code> in client's browser.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; let r = T.get &quot;/foo/bar&quot; M.empty
ghci&gt; let cookie = Cookie &quot;name&quot; &quot;&quot; Nothing (Just &quot;/subsite&quot;) Nothing True False
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:expireCookie" title="Snap.Core">expireCookie</a></code> cookie)
HTTP/1.1 200 OK
set-cookie: name=; path=/subsite; expires=Sat, 24 Dec 1994 06:28:16 GMT; Secure
server: Snap/test

date: Thu, 07 Aug 2014 12:21:27 GMT
ghci&gt; let cookie = Cookie &quot;name&quot; &quot;value&quot; Nothing Nothing Nothing False False
ghci&gt; let r2 = T.get &quot;/foo/bar&quot; M.empty &gt;&gt; T.addCookies [cookie]
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:getCookie" title="Snap.Core">getCookie</a></code> &quot;name&quot; &gt;&gt;= maybe (return ()) <code><a href="Snap-Core.html#v:expireCookie" title="Snap.Core">expireCookie</a></code>)
HTTP/1.1 200 OK
set-cookie: name=; expires=Sat, 24 Dec 1994 06:28:16 GMT
server: Snap/test


</pre></div></div><div class="top"><p class="src"><a id="v:getCookie" class="def">getCookie</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a>) <a href="src/Snap.Internal.Core.html#getCookie" class="link">Source</a> <a href="#v:getCookie" class="selflink">#</a></p><div class="doc"><p>Gets the HTTP <code><a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a></code> with the specified name.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Char8.html">Data.ByteString.Char8</a> as B8
ghci&gt; let cookie = <code><a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a></code> &quot;name&quot; &quot;value&quot; Nothing Nothing Nothing False False
ghci&gt; let r = T.get &quot;/foo/bar&quot; M.empty &gt;&gt; T.addCookies [cookie]
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:getCookie" title="Snap.Core">getCookie</a></code> &quot;name&quot; &gt;&gt;= <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> . B8.pack . show)
HTTP/1.1 200 OK
server: Snap/test
date: Thu, 07 Aug 2014 12:16:58 GMT

Just (Cookie {cookieName = &quot;name&quot;, cookieValue = &quot;value&quot;, ...})
</pre></div></div><div class="top"><p class="src"><a id="v:readCookie" class="def">readCookie</a> :: (<a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m, Readable a) =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m a <a href="src/Snap.Internal.Core.html#readCookie" class="link">Source</a> <a href="#v:readCookie" class="selflink">#</a></p><div class="doc"><p>Gets the HTTP <code><a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a></code> with the specified name and decodes it.  If the
 decoding fails, the handler calls pass.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; let cookie = <code><a href="Snap-Core.html#t:Cookie" title="Snap.Core">Cookie</a></code> &quot;name&quot; &quot;value&quot; Nothing Nothing Nothing False False
ghci&gt; let r = T.get &quot;/foo/bar&quot; M.empty &gt;&gt; T.addCookies [cookie]
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:readCookie" title="Snap.Core">readCookie</a></code> &quot;name&quot; &gt;&gt;= <code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code>)
HTTP/1.1 200 OK
server: Snap/test
date: Thu, 07 Aug 2014 12:20:09 GMT

value
</pre></div></div><div class="top"><p class="src"><a id="v:setContentLength" class="def">setContentLength</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> <a href="src/Snap.Internal.Http.Types.html#setContentLength" class="link">Source</a> <a href="#v:setContentLength" class="selflink">#</a></p><div class="doc"><p>A note here: if you want to set the <code>Content-Length</code> for the response,
 Snap forces you to do it with this function rather than by setting it in
 the headers; the <code>Content-Length</code> in the headers will be ignored.</p><p>The reason for this is that Snap needs to look up the value of
 <code>Content-Length</code> for each request, and looking the string value up in the
 headers and parsing the number out of the text will be too expensive.</p><p>If you don't set a content length in your response, HTTP keep-alive will be
 disabled for HTTP/1.0 clients, forcing a <code>Connection: close</code>. For
 HTTP/1.1 clients, Snap will switch to the chunked transfer encoding if
 <code>Content-Length</code> is not specified.</p><p>Example:</p><pre>ghci&gt; setContentLength 400 <code><a href="Snap-Core.html#v:emptyResponse" title="Snap.Core">emptyResponse</a></code>
HTTP/1.1 200 OK
Content-Length: 400


</pre></div></div><div class="top"><p class="src"><a id="v:clearContentLength" class="def">clearContentLength</a> :: <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> <a href="src/Snap.Internal.Http.Types.html#clearContentLength" class="link">Source</a> <a href="#v:clearContentLength" class="selflink">#</a></p><div class="doc"><p>Removes any <code>Content-Length</code> set in the <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code>.</p><p>Example:</p><pre>ghci&gt; clearContentLength $ <code><a href="Snap-Core.html#v:setContentLength" title="Snap.Core">setContentLength</a></code> 400 <code><a href="Snap-Core.html#v:emptyResponse" title="Snap.Core">emptyResponse</a></code>
HTTP/1.1 200 OK


</pre></div></div><div class="top"><p class="src"><a id="v:redirect" class="def">redirect</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m a <a href="src/Snap.Internal.Core.html#redirect" class="link">Source</a> <a href="#v:redirect" class="selflink">#</a></p><div class="doc"><p>Performs a redirect by setting the <code>Location</code> header to the given target
 URL/path and the status code to 302 in the <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code> object stored in a
 <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> monad. Note that the target URL is not validated in any way.
 Consider using <code><a href="Snap-Core.html#v:redirect-39-" title="Snap.Core">redirect'</a></code> instead, which allows you to choose the correct
 status code.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; let r = T.get &quot;/foo/bar&quot; M.empty
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:redirect" title="Snap.Core">redirect</a></code> &quot;http://snapframework.com&quot;)
HTTP/1.1 302 Found
content-length: 0
location: http://snapframework.com
server: Snap/test
date: Thu, 07 Aug 2014 08:52:11 GMT
Content-Length: 0


</pre></div></div><div class="top"><p class="src"><a id="v:redirect-39-" class="def">redirect'</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m a <a href="src/Snap.Internal.Core.html#redirect%27" class="link">Source</a> <a href="#v:redirect-39-" class="selflink">#</a></p><div class="doc"><p>Performs a redirect by setting the <code>Location</code> header to the given target
 URL/path and the status code (should be one of 301, 302, 303 or 307) in the
 <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code> object stored in a <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> monad. Note that the target URL is not
 validated in any way.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; let r = T.get &quot;/foo/bar&quot; M.empty
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:redirect-39-" title="Snap.Core">redirect'</a></code> &quot;http://snapframework.com&quot; 301)
HTTP/1.1 307 Temporary Redirect
content-length: 0
location: http://snapframework.com
server: Snap/test
date: Thu, 07 Aug 2014 08:55:51 GMT
Content-Length: 0


</pre></div></div><a href="#g:13" id="g:13"><h3>Response I/O</h3></a><div class="top"><p class="src"><a id="v:setResponseBody" class="def">setResponseBody</a> <a href="src/Snap.Internal.Http.Types.html#setResponseBody" class="link">Source</a> <a href="#v:setResponseBody" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (OutputStream <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (OutputStream <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a>))</td><td class="doc"><p>new response body</p></td></tr><tr><td class="src">-&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></td><td class="doc"><p>response to modify</p></td></tr><tr><td class="src">-&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Sets an HTTP response body to the given stream procedure.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="System-IO-Streams.html">System.IO.Streams</a> as Streams
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Builder.html">Data.ByteString.Builder</a> as Builder
ghci&gt; :{
ghci| let r = <code><a href="Snap-Core.html#v:setResponseBody" title="Snap.Core">setResponseBody</a></code>
ghci|         (out -&gt; do
ghci|             Streams.write (Just $ Builder.<code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Builder.html#v:byteString" title="Data.ByteString.Builder">byteString</a></code> &quot;Hello, world!&quot;) out
ghci|             return out)
ghci|         <code><a href="Snap-Core.html#v:emptyResponse" title="Snap.Core">emptyResponse</a></code>
ghci| :}
ghci&gt; r
HTTP/1.1 200 OK

Hello, world!
</pre></div></div><div class="top"><p class="src"><a id="v:modifyResponseBody" class="def">modifyResponseBody</a> :: ((OutputStream <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (OutputStream <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a>)) -&gt; OutputStream <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (OutputStream <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a>)) -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> -&gt; <a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a> <a href="src/Snap.Internal.Http.Types.html#modifyResponseBody" class="link">Source</a> <a href="#v:modifyResponseBody" class="selflink">#</a></p><div class="doc"><p>Modifies a response body.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="System-IO-Streams.html">System.IO.Streams</a> as Streams
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Builder.html">Data.ByteString.Builder</a> as Builder
ghci&gt; :{
ghci| let r = <code><a href="Snap-Core.html#v:setResponseBody" title="Snap.Core">setResponseBody</a></code>
ghci|         (out -&gt; do
ghci|             Streams.write (Just $ Builder.<code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Builder.html#v:byteString" title="Data.ByteString.Builder">byteString</a></code> &quot;Hello, world!&quot;) out
ghci|             return out)
ghci|         <code><a href="Snap-Core.html#v:emptyResponse" title="Snap.Core">emptyResponse</a></code>
ghci| :}
ghci&gt; r
HTTP/1.1 200 OK

Hello, world!
ghci&gt; :{
ghci| let r' = <code><a href="Snap-Core.html#v:modifyResponseBody" title="Snap.Core">modifyResponseBody</a></code>
ghci|          (f out -&gt; do
ghci|              out' &lt;- f out
ghci|              Streams.write (Just $ Builder.<code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Builder.html#v:byteString" title="Data.ByteString.Builder">byteString</a></code> &quot;\nBye, world!&quot;) out'
ghci|              return out') r
ghci| :}
ghci&gt; r'
HTTP/1.1 200 OK

Hello, world!
Bye, world!
</pre></div></div><div class="top"><p class="src"><a id="v:addToOutput" class="def">addToOutput</a> <a href="src/Snap.Internal.Core.html#addToOutput" class="link">Source</a> <a href="#v:addToOutput" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (OutputStream <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (OutputStream <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a>))</td><td class="doc"><p>output to add</p></td></tr><tr><td class="src">-&gt; m ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Run the given stream procedure, adding its output to the <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code> stored
 in the <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> monad state.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Builder.html">Data.ByteString.Builder</a> as B
ghci&gt; import qualified <a href="System-IO-Streams.html">System.IO.Streams</a> as Streams
ghci&gt; let r = T.get &quot;/foo/bar&quot; M.empty
ghci&gt; :{
ghci| let f str = do {
ghci|   Streams.write (Just $ B.byteString &quot;Hello, streams world&quot;) str;
ghci|   return str }
ghci| :}
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:addToOutput" title="Snap.Core">addToOutput</a></code> f)
HTTP/1.1 200 OK
server: Snap/test
date: Wed, 06 Aug 2014 17:55:47 GMT

Hello, streams world
</pre></div></div><div class="top"><p class="src"><a id="v:writeBuilder" class="def">writeBuilder</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a> -&gt; m () <a href="src/Snap.Internal.Core.html#writeBuilder" class="link">Source</a> <a href="#v:writeBuilder" class="selflink">#</a></p><div class="doc"><p>Adds the given <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a></code> to the body of the <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code> stored in the
 | <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> monad state.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Builder.html">Data.ByteString.Builder</a> as B
ghci&gt; let r = T.get &quot;/foo/bar&quot; M.empty
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:writeBuilder" title="Snap.Core">writeBuilder</a></code> $ B.byteString &quot;Hello, world&quot;)
HTTP/1.1 200 OK
server: Snap/test
date: Wed, 06 Aug 2014 17:33:33 GMT

Hello, world
</pre></div></div><div class="top"><p class="src"><a id="v:writeBS" class="def">writeBS</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m () <a href="src/Snap.Internal.Core.html#writeBS" class="link">Source</a> <a href="#v:writeBS" class="selflink">#</a></p><div class="doc"><p>Adds the given strict <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></code> to the body of the <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code> stored
 in the <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> monad state.</p><p>Warning: This function is intentionally non-strict. If any pure
 exceptions are raised by the expression creating the <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></code>,
 the exception won't actually be raised within the Snap handler.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; let r = T.get &quot;/foo/bar&quot; M.empty
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:writeBS" title="Snap.Core">writeBS</a></code> &quot;Hello, bytestring world&quot;)
HTTP/1.1 200 OK
server: Snap/test
date: Wed, 06 Aug 2014 17:34:27 GMT

Hello, bytestring world
</pre></div></div><div class="top"><p class="src"><a id="v:writeLazyText" class="def">writeLazyText</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/text-2.0.2/Data-Text-Lazy.html#t:Text" title="Data.Text.Lazy">Text</a> -&gt; m () <a href="src/Snap.Internal.Core.html#writeLazyText" class="link">Source</a> <a href="#v:writeLazyText" class="selflink">#</a></p><div class="doc"><p>Adds the given lazy <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/text-2.0.2/Data-Text-Lazy.html#t:Text" title="Data.Text.Lazy">Text</a></code> to the body of the <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code> stored in the
 <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> monad state.</p><p>Warning: This function is intentionally non-strict. If any pure
 exceptions are raised by the expression creating the <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></code>,
 the exception won't actually be raised within the Snap handler.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; let r = T.get &quot;/foo/bar&quot; M.empty
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:writeLazyText" title="Snap.Core">writeLazyText</a></code> &quot;Hello, lazy text world&quot;)
HTTP/1.1 200 OK
server: Snap/test
date: Wed, 06 Aug 2014 17:37:41 GMT

Hello, lazy text world
</pre></div></div><div class="top"><p class="src"><a id="v:writeText" class="def">writeText</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/text-2.0.2/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; m () <a href="src/Snap.Internal.Core.html#writeText" class="link">Source</a> <a href="#v:writeText" class="selflink">#</a></p><div class="doc"><p>Adds the given strict <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/text-2.0.2/Data-Text.html#t:Text" title="Data.Text">Text</a></code> to the body of the <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code> stored in
 the <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> monad state.</p><p>Warning: This function is intentionally non-strict. If any pure
 exceptions are raised by the expression creating the <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></code>,
 the exception won't actually be raised within the Snap handler.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; let r = T.get &quot;/foo/bar&quot; M.empty
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:writeText" title="Snap.Core">writeText</a></code> &quot;Hello, text world&quot;)
HTTP/1.1 200 OK
server: Snap/test
date: Wed, 06 Aug 2014 17:36:38 GMT

Hello, text world
</pre></div></div><div class="top"><p class="src"><a id="v:writeLBS" class="def">writeLBS</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> -&gt; m () <a href="src/Snap.Internal.Core.html#writeLBS" class="link">Source</a> <a href="#v:writeLBS" class="selflink">#</a></p><div class="doc"><p>Adds the given lazy <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></code> to the body of the <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code> stored
 in the <code><a href="Snap-Core.html#t:Snap" title="Snap.Core">Snap</a></code> monad state.</p><p>Warning: This function is intentionally non-strict. If any pure
 exceptions are raised by the expression creating the <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></code>,
 the exception won't actually be raised within the Snap handler.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; let r = T.get &quot;/foo/bar&quot; M.empty
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:writeLBS" title="Snap.Core">writeLBS</a></code> &quot;Hello, lazy bytestring world&quot;)
HTTP/1.1 200 OK
server: Snap/test
date: Wed, 06 Aug 2014 17:35:15 GMT

Hello, lazy bytestring world
</pre></div></div><div class="top"><p class="src"><a id="v:sendFile" class="def">sendFile</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; m () <a href="src/Snap.Internal.Core.html#sendFile" class="link">Source</a> <a href="#v:sendFile" class="selflink">#</a></p><div class="doc"><p>Sets the output to be the contents of the specified file.</p><p>Calling <code><a href="Snap-Core.html#v:sendFile" title="Snap.Core">sendFile</a></code> will overwrite any output queued to be sent in the
 <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code>. If the response body is not modified after the call to
 <code><a href="Snap-Core.html#v:sendFile" title="Snap.Core">sendFile</a></code>, Snap will use the efficient <code>sendfile()</code> system call on
 platforms that support it.</p><p>If the response body is modified (using <code><a href="Snap-Core.html#v:modifyResponseBody" title="Snap.Core">modifyResponseBody</a></code>), the file
 will be read using <code>mmap()</code>.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; <code>writeFile</code> &quot;/tmp/snap-file&quot; &quot;Hello, sendFile world&quot;
ghci&gt; let r = T.get &quot;/foo/bar&quot; M.empty
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:sendFile" title="Snap.Core">sendFile</a></code> &quot;/tmp/snap-file&quot;)
HTTP/1.1 200 OK
content-length: 21
server: Snap/test
date: Wed, 06 Aug 2014 17:45:10 GMT
Content-Length: 21

Hello, sendFile world
</pre></div></div><div class="top"><p class="src"><a id="v:sendFilePartial" class="def">sendFilePartial</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a>, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a>) -&gt; m () <a href="src/Snap.Internal.Core.html#sendFilePartial" class="link">Source</a> <a href="#v:sendFilePartial" class="selflink">#</a></p><div class="doc"><p>Sets the output to be the contents of the specified file, within the
 given (start,end) range.</p><p>Calling <code><a href="Snap-Core.html#v:sendFilePartial" title="Snap.Core">sendFilePartial</a></code> will overwrite any output queued to be sent in
 the <code><a href="Snap-Core.html#t:Response" title="Snap.Core">Response</a></code>. If the response body is not modified after the call to
 <code><a href="Snap-Core.html#v:sendFilePartial" title="Snap.Core">sendFilePartial</a></code>, Snap will use the efficient <code>sendfile()</code> system call on
 platforms that support it.</p><p>If the response body is modified (using <code><a href="Snap-Core.html#v:modifyResponseBody" title="Snap.Core">modifyResponseBody</a></code>), the file
 will be read using <code>mmap()</code>.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; import qualified <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a> as M
ghci&gt; import qualified <a href="Snap-Test.html">Snap.Test</a> as T
ghci&gt; <code>writeFile</code> &quot;/tmp/snap-file&quot; &quot;Hello, sendFilePartial world&quot;
ghci&gt; let r = T.get &quot;/foo/bar&quot; M.empty
ghci&gt; T.runHandler r (<code><a href="Snap-Core.html#v:sendFilePartial" title="Snap.Core">sendFilePartial</a></code> &quot;/tmp/snap-file&quot; (7, 28))
HTTP/1.1 200 OK
content-length: 21
server: Snap/test
date: Wed, 06 Aug 2014 17:47:20 GMT
Content-Length: 21

sendFilePartial world
</pre></div></div><a href="#g:14" id="g:14"><h2>Timeouts</h2></a><div class="top"><p class="src"><a id="v:setTimeout" class="def">setTimeout</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m () <a href="src/Snap.Internal.Core.html#setTimeout" class="link">Source</a> <a href="#v:setTimeout" class="selflink">#</a></p><div class="doc"><p>Causes the handler thread to be killed <code>n</code> seconds from now.</p></div></div><div class="top"><p class="src"><a id="v:extendTimeout" class="def">extendTimeout</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m () <a href="src/Snap.Internal.Core.html#extendTimeout" class="link">Source</a> <a href="#v:extendTimeout" class="selflink">#</a></p><div class="doc"><p>Causes the handler thread to be killed at least <code>n</code> seconds from now.</p></div></div><div class="top"><p class="src"><a id="v:modifyTimeout" class="def">modifyTimeout</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; m () <a href="src/Snap.Internal.Core.html#modifyTimeout" class="link">Source</a> <a href="#v:modifyTimeout" class="selflink">#</a></p><div class="doc"><p>Modifies the amount of time remaining before the request times out.</p></div></div><div class="top"><p class="src"><a id="v:getTimeoutModifier" class="def">getTimeoutModifier</a> :: <a href="Snap-Core.html#t:MonadSnap" title="Snap.Core">MonadSnap</a> m =&gt; m ((<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> ()) <a href="src/Snap.Internal.Core.html#getTimeoutModifier" class="link">Source</a> <a href="#v:getTimeoutModifier" class="selflink">#</a></p><div class="doc"><p>Returns an <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a></code> action which you can use to modify the timeout value.</p></div></div><a href="#g:15" id="g:15"><h1>HTTP utilities</h1></a><div class="top"><p class="src"><a id="v:formatHttpTime" class="def">formatHttpTime</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Foreign-C-Types.html#t:CTime" title="Foreign.C.Types">CTime</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="src/Snap.Internal.Http.Types.html#formatHttpTime" class="link">Source</a> <a href="#v:formatHttpTime" class="selflink">#</a></p><div class="doc"><p>Convert a <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Foreign-C-Types.html#t:CTime" title="Foreign.C.Types">CTime</a></code> into an HTTP timestamp.</p><p>Example:</p><pre>ghci&gt; <code><a href="Snap-Core.html#v:formatHttpTime" title="Snap.Core">formatHttpTime</a></code> . <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Prelude.html#v:fromIntegral" title="Prelude">fromIntegral</a></code> $ 10
&quot;Thu, 01 Jan 1970 00:00:10 GMT&quot;
</pre></div></div><div class="top"><p class="src"><a id="v:parseHttpTime" class="def">parseHttpTime</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Foreign-C-Types.html#t:CTime" title="Foreign.C.Types">CTime</a> <a href="src/Snap.Internal.Http.Types.html#parseHttpTime" class="link">Source</a> <a href="#v:parseHttpTime" class="selflink">#</a></p><div class="doc"><p>Converts an HTTP timestamp into a <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Foreign-C-Types.html#t:CTime" title="Foreign.C.Types">CTime</a></code>.</p><p>If the given time string is unparseable, this function will return 0.</p><p>Example:</p><pre>ghci&gt; :set -XOverloadedStrings
ghci&gt; <code><a href="Snap-Core.html#v:parseHttpTime" title="Snap.Core">parseHttpTime</a></code> &quot;Thu, 01 Jan 1970 00:00:10 GMT&quot;
10
</pre></div></div><div class="top"><p class="src"><a id="v:parseUrlEncoded" class="def">parseUrlEncoded</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> [<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>] <a href="src/Snap.Internal.Parsing.html#parseUrlEncoded" class="link">Source</a> <a href="#v:parseUrlEncoded" class="selflink">#</a></p><div class="doc"><p>Parse a string encoded in <code>application/x-www-form-urlencoded</code> <a href="http://en.wikipedia.org/wiki/POST_%28HTTP%29#Use_for_submitting_web_forms">format</a>.</p><p>Example:</p><pre>ghci&gt; <code><a href="Snap-Core.html#v:parseUrlEncoded" title="Snap.Core">parseUrlEncoded</a></code> &quot;Name=John+Doe&amp;Name=Jane+Doe&amp;Age=23&amp;Formula=a+%2B+b+%3D%3D+13%25%21&quot;
<code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html#v:fromList" title="Data.Map">fromList</a></code> [(<a href="Age.html">Age</a>,[&quot;23&quot;]),(<a href="Formula.html">Formula</a>,[&quot;a + b == 13%!&quot;]),(<a href="Name.html">Name</a>,[&quot;John Doe&quot;,&quot;Jane Doe&quot;])]
</pre></div></div><div class="top"><p class="src"><a id="v:buildUrlEncoded" class="def">buildUrlEncoded</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> [<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a> <a href="src/Snap.Internal.Parsing.html#buildUrlEncoded" class="link">Source</a> <a href="#v:buildUrlEncoded" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Snap-Core.html#v:printUrlEncoded" title="Snap.Core">printUrlEncoded</a></code>, but produces a <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a></code> instead of a
 <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></code>. Useful for constructing a large string efficiently in
 a single step.</p><p>Example:</p><pre>ghci&gt; import <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html">Data.Map</a>
ghci&gt; import <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Monoid.html">Data.Monoid</a>
ghci&gt; import <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Builder.html">Data.ByteString.Builder</a>
ghci&gt; let bldr = <code><a href="Snap-Core.html#v:buildUrlEncoded" title="Snap.Core">buildUrlEncoded</a></code> (<code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html#v:fromList" title="Data.Map">fromList</a></code> [(<a href="Name.html">Name</a>, [&quot;John Doe&quot;]), (<a href="Age.html">Age</a>, [&quot;23&quot;])])
ghci&gt; <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#v:toLazyByteString" title="Data.Binary.Builder">toLazyByteString</a></code> $ <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Builder.html#v:byteString" title="Data.ByteString.Builder">byteString</a></code> &quot;<a href="http://example.com/script?&quot;">http://example.com/script?&quot;</a> &lt;&gt; bldr
&quot;<a href="http://example.com/script?Age=23&amp;Name=John+Doe&quot;">http://example.com/script?Age=23&amp;Name=John+Doe&quot;</a>
</pre></div></div><div class="top"><p class="src"><a id="v:printUrlEncoded" class="def">printUrlEncoded</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> [<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="src/Snap.Internal.Parsing.html#printUrlEncoded" class="link">Source</a> <a href="#v:printUrlEncoded" class="selflink">#</a></p><div class="doc"><p>Given a collection of key-value pairs with possibly duplicate
 keys (represented as a <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a></code>), construct a string in
 <code>application/x-www-form-urlencoded</code> format.</p><p>Example:</p><pre>ghci&gt; <code><a href="Snap-Core.html#v:printUrlEncoded" title="Snap.Core">printUrlEncoded</a></code> (<code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map.html#v:fromList" title="Data.Map">fromList</a></code> [(<a href="Name.html">Name</a>, [&quot;John Doe&quot;]), (<a href="Age.html">Age</a>, [&quot;23&quot;])])
&quot;Age=23&amp;Name=John+Doe&quot;
</pre></div></div><div class="top"><p class="src"><a id="v:urlEncode" class="def">urlEncode</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="src/Snap.Internal.Parsing.html#urlEncode" class="link">Source</a> <a href="#v:urlEncode" class="selflink">#</a></p><div class="doc"><p>URL-escape a string (see
 <a href="http://tools.ietf.org/html/rfc2396.html#section-2.4">http://tools.ietf.org/html/rfc2396.html#section-2.4</a>)</p><p>Example:</p><pre>ghci&gt; <code><a href="Snap-Core.html#v:urlEncode" title="Snap.Core">urlEncode</a></code> &quot;1 attoparsec ~= 3 * 10^-2 meters&quot;
&quot;1+attoparsec+%7e%3d+3+*+10%5e-2+meters&quot;
</pre></div></div><div class="top"><p class="src"><a id="v:urlEncodeBuilder" class="def">urlEncodeBuilder</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a> <a href="src/Snap.Internal.Parsing.html#urlEncodeBuilder" class="link">Source</a> <a href="#v:urlEncodeBuilder" class="selflink">#</a></p><div class="doc"><p>URL-escape a string (see
 <a href="http://tools.ietf.org/html/rfc2396.html#section-2.4">http://tools.ietf.org/html/rfc2396.html#section-2.4</a>) into a <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a></code>.</p><p>Example:</p><pre>ghci&gt; import <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Builder.html">Data.ByteString.Builder</a>
ghci&gt; <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/binary-0.8.9.1/Data-Binary-Builder.html#v:toLazyByteString" title="Data.Binary.Builder">toLazyByteString</a></code> . <code><a href="Snap-Core.html#v:urlEncodeBuilder" title="Snap.Core">urlEncodeBuilder</a></code> $ &quot;1 attoparsec ~= 3 * 10^-2 meters&quot;
&quot;1+attoparsec+%7e%3d+3+*+10%5e-2+meters&quot;
</pre></div></div><div class="top"><p class="src"><a id="v:urlDecode" class="def">urlDecode</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="src/Snap.Internal.Parsing.html#urlDecode" class="link">Source</a> <a href="#v:urlDecode" class="selflink">#</a></p><div class="doc"><p>Decode an URL-escaped string (see
 <a href="http://tools.ietf.org/html/rfc2396.html#section-2.4">http://tools.ietf.org/html/rfc2396.html#section-2.4</a>)</p><p>Example:</p><pre>ghci&gt; <code><a href="Snap-Core.html#v:urlDecode" title="Snap.Core">urlDecode</a></code> &quot;1+attoparsec+%7e%3d+3+*+10%5e-2+meters&quot;
Just &quot;1 attoparsec ~= 3 * 10^-2 meters&quot;
</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.1</p></div></body></html>