<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head id="head" data-base-url=".."><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Trace.Forward.Utils.TraceObject</title><link href="../linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="../quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="../haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">trace-forward-2.2.2: The forwarding protocols library for cardano node.</span><ul class="links" id="page-menu"><li id="quick-jump-button"><a href="#">Quick Jump</a></li><li><a href="src/Trace.Forward.Utils.TraceObject.html">Source</a></li><li><a href="../index.html">Contents</a></li><li><a href="../doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Trace.Forward.Utils.TraceObject</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:ForwardSink">ForwardSink</a> lo = <a href="#v:ForwardSink">ForwardSink</a> {<ul class="subs"><li><a href="#v:forwardQueue">forwardQueue</a> :: !(<a href="../base/GHC-Conc.html#t:TVar" title="GHC.Conc">TVar</a> (<a href="../stm/Control-Concurrent-STM-TBQueue.html#t:TBQueue" title="Control.Concurrent.STM.TBQueue">TBQueue</a> lo))</li><li><a href="#v:disconnectedSize">disconnectedSize</a> :: !<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a></li><li><a href="#v:connectedSize">connectedSize</a> :: !<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a></li><li><a href="#v:wasUsed">wasUsed</a> :: !(<a href="../base/GHC-Conc.html#t:TVar" title="GHC.Conc">TVar</a> <a href="../base/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>)</li><li><a href="#v:overflowCallback">overflowCallback</a> :: !([lo] -&gt; <a href="../base/System-IO.html#t:IO" title="System.IO">IO</a> ())</li></ul>}</li><li class="src short"><a href="#v:initForwardSink">initForwardSink</a> :: <a href="Trace-Forward-Configuration-TraceObject.html#t:ForwarderConfiguration" title="Trace.Forward.Configuration.TraceObject">ForwarderConfiguration</a> lo -&gt; ([lo] -&gt; <a href="../base/System-IO.html#t:IO" title="System.IO">IO</a> ()) -&gt; <a href="../base/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Trace-Forward-Utils-TraceObject.html#t:ForwardSink" title="Trace.Forward.Utils.TraceObject">ForwardSink</a> lo)</li><li class="src short"><a href="#v:writeToSink">writeToSink</a> :: <a href="Trace-Forward-Utils-TraceObject.html#t:ForwardSink" title="Trace.Forward.Utils.TraceObject">ForwardSink</a> lo -&gt; lo -&gt; <a href="../base/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:readFromSink">readFromSink</a> :: <a href="Trace-Forward-Utils-TraceObject.html#t:ForwardSink" title="Trace.Forward.Utils.TraceObject">ForwardSink</a> lo -&gt; <a href="Trace-Forward-Protocol-TraceObject-Forwarder.html#t:TraceObjectForwarder" title="Trace.Forward.Protocol.TraceObject.Forwarder">TraceObjectForwarder</a> lo <a href="../base/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:getTraceObjectsFromReply">getTraceObjectsFromReply</a> :: <a href="Trace-Forward-Protocol-TraceObject-Type.html#t:BlockingReplyList" title="Trace.Forward.Protocol.TraceObject.Type">BlockingReplyList</a> blocking lo -&gt; [lo]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ForwardSink" class="def">ForwardSink</a> lo <a href="src/Trace.Forward.Utils.TraceObject.html#ForwardSink" class="link">Source</a> <a href="#t:ForwardSink" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ForwardSink" class="def">ForwardSink</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:forwardQueue" class="def">forwardQueue</a> :: !(<a href="../base/GHC-Conc.html#t:TVar" title="GHC.Conc">TVar</a> (<a href="../stm/Control-Concurrent-STM-TBQueue.html#t:TBQueue" title="Control.Concurrent.STM.TBQueue">TBQueue</a> lo))</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:disconnectedSize" class="def">disconnectedSize</a> :: !<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:connectedSize" class="def">connectedSize</a> :: !<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:wasUsed" class="def">wasUsed</a> :: !(<a href="../base/GHC-Conc.html#t:TVar" title="GHC.Conc">TVar</a> <a href="../base/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:overflowCallback" class="def">overflowCallback</a> :: !([lo] -&gt; <a href="../base/System-IO.html#t:IO" title="System.IO">IO</a> ())</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:initForwardSink" class="def">initForwardSink</a> :: <a href="Trace-Forward-Configuration-TraceObject.html#t:ForwarderConfiguration" title="Trace.Forward.Configuration.TraceObject">ForwarderConfiguration</a> lo -&gt; ([lo] -&gt; <a href="../base/System-IO.html#t:IO" title="System.IO">IO</a> ()) -&gt; <a href="../base/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Trace-Forward-Utils-TraceObject.html#t:ForwardSink" title="Trace.Forward.Utils.TraceObject">ForwardSink</a> lo) <a href="src/Trace.Forward.Utils.TraceObject.html#initForwardSink" class="link">Source</a> <a href="#v:initForwardSink" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:writeToSink" class="def">writeToSink</a> :: <a href="Trace-Forward-Utils-TraceObject.html#t:ForwardSink" title="Trace.Forward.Utils.TraceObject">ForwardSink</a> lo -&gt; lo -&gt; <a href="../base/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Trace.Forward.Utils.TraceObject.html#writeToSink" class="link">Source</a> <a href="#v:writeToSink" class="selflink">#</a></p><div class="doc"><p>There are 4 possible cases when we try to write tracing item:
   1. The queue is <strong>still</strong> empty (no tracing items were written in it).
   2. The queue is <strong>already</strong> empty (all previously written items were taken from it).
   3. The queue is full. In this case flush all tracing items to stdout and continue.
   4. The queue isn't empty and isn't full. Just continue writing.</p></div></div><div class="top"><p class="src"><a id="v:readFromSink" class="def">readFromSink</a> <a href="src/Trace.Forward.Utils.TraceObject.html#readFromSink" class="link">Source</a> <a href="#v:readFromSink" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Trace-Forward-Utils-TraceObject.html#t:ForwardSink" title="Trace.Forward.Utils.TraceObject">ForwardSink</a> lo</td><td class="doc"><p>The sink contains the queue we read <code>TraceObject</code>s from.</p></td></tr><tr><td class="src">-&gt; <a href="Trace-Forward-Protocol-TraceObject-Forwarder.html#t:TraceObjectForwarder" title="Trace.Forward.Protocol.TraceObject.Forwarder">TraceObjectForwarder</a> lo <a href="../base/System-IO.html#t:IO" title="System.IO">IO</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:getTraceObjectsFromReply" class="def">getTraceObjectsFromReply</a> <a href="src/Trace.Forward.Utils.TraceObject.html#getTraceObjectsFromReply" class="link">Source</a> <a href="#v:getTraceObjectsFromReply" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Trace-Forward-Protocol-TraceObject-Type.html#t:BlockingReplyList" title="Trace.Forward.Protocol.TraceObject.Type">BlockingReplyList</a> blocking lo</td><td class="doc"><p>The reply with list of <code>TraceObject</code>s.</p></td></tr><tr><td class="src">-&gt; [lo]</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.1</p></div></body></html>