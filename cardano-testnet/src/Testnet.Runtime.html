<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DeriveAnyClass #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DuplicateRecordFields #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Testnet.Runtime</span><span>
</span><span id="line-11"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#LeadershipSlot"><span class="hs-identifier">LeadershipSlot</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-12"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Testnet.Start.Types.html#NodeLoggingFormat"><span class="hs-identifier">NodeLoggingFormat</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-13"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#PaymentKeyInfo"><span class="hs-identifier">PaymentKeyInfo</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#PaymentKeyPair"><span class="hs-identifier">PaymentKeyPair</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-15"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#StakingKeyPair"><span class="hs-identifier">StakingKeyPair</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#TestnetRuntime"><span class="hs-identifier">TestnetRuntime</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#NodeRuntime"><span class="hs-identifier">NodeRuntime</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#PoolNode"><span class="hs-identifier">PoolNode</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#PoolNodeKeys"><span class="hs-identifier">PoolNodeKeys</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#Delegator"><span class="hs-identifier">Delegator</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#allNodes"><span class="hs-identifier">allNodes</span></a></span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#poolSprockets"><span class="hs-identifier">poolSprockets</span></a></span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#poolNodeStdout"><span class="hs-identifier">poolNodeStdout</span></a></span><span>
</span><span id="line-24"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#readNodeLoggingFormat"><span class="hs-identifier">readNodeLoggingFormat</span></a></span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#startNode"><span class="hs-identifier">startNode</span></a></span><span>
</span><span id="line-26"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ShelleyGenesis</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#shelleyGenesis"><span class="hs-identifier">shelleyGenesis</span></a></span><span>
</span><span id="line-28"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#getStartTime"><span class="hs-identifier">getStartTime</span></a></span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">fromNominalDiffTimeMicro</span></span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#startLedgerStateLogging"><span class="hs-identifier">startLedgerStateLogging</span></a></span><span>
</span><span id="line-31"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/bss88hay1dshpzm18jhm97dmcnjhsx7y-cardano-api-lib-cardano-api-8.38.0.1-haddock-doc/share/doc/cardano-api/html/src/Cardano.Api.html"><span class="hs-identifier">Cardano.Api</span></a></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/bss88hay1dshpzm18jhm97dmcnjhsx7y-cardano-api-lib-cardano-api-8.38.0.1-haddock-doc/share/doc/cardano-api/html/src/Cardano.Api.html"><span class="hs-identifier">Cardano.Api</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Api</span></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Cardano.Api.Pretty</span></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/yv27c5xzz6c2nhryhwp7hnpzy2mg81vm-cardano-ledger-byron-lib-cardano-ledger-byron-1.0.0.4-haddock-doc/share/doc/cardano-ledger-byron/html/src/Cardano.Chain.Genesis.html"><span class="hs-identifier">Cardano.Chain.Genesis</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">G</span></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/i5wig9pjpn8y7hy0ja7pqsjplwfrkqh8-cardano-crypto-wrapper-lib-cardano-crypto-wrapper-1.5.1.1-haddock-doc/share/doc/cardano-crypto-wrapper/html/src/Cardano.Crypto.ProtocolMagic.html"><span class="hs-identifier">Cardano.Crypto.ProtocolMagic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/i5wig9pjpn8y7hy0ja7pqsjplwfrkqh8-cardano-crypto-wrapper-lib-cardano-crypto-wrapper-1.5.1.1-haddock-doc/share/doc/cardano-crypto-wrapper/html/src/Cardano.Crypto.ProtocolMagic.html#RequiresNetworkMagic"><span class="hs-identifier">RequiresNetworkMagic</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/jfad4i4xrd9a86pd5gr4qq2jj7pzkqlh-cardano-ledger-core-lib-cardano-ledger-core-1.10.0.0-haddock-doc/share/doc/cardano-ledger-core/html/src/Cardano.Ledger.Crypto.html"><span class="hs-identifier">Cardano.Ledger.Crypto</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/jfad4i4xrd9a86pd5gr4qq2jj7pzkqlh-cardano-ledger-core-lib-cardano-ledger-core-1.10.0.0-haddock-doc/share/doc/cardano-ledger-core/html/src/Cardano.Ledger.Crypto.html#StandardCrypto"><span class="hs-identifier">StandardCrypto</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Cardano.Ledger.Shelley.Genesis</span></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.3/cardano-node-8.8.0/doc/html/cardano-node/src/Cardano.Node.Configuration.POM.html"><span class="hs-identifier">Cardano.Node.Configuration.POM</span></a></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.3/cardano-node-8.8.0/doc/html/cardano-node/src/Cardano.Node.Protocol.Byron.html"><span class="hs-identifier">Cardano.Node.Protocol.Byron</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Byron</span></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.3/cardano-node-8.8.0/doc/html/cardano-node/src/Cardano.Node.Types.html"><span class="hs-identifier">Cardano.Node.Types</span></a></span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/gva415ijnpdi7pggd748fdm9fjhic2bi-safe-exceptions-lib-safe-exceptions-0.1.7.4-haddock-doc/share/doc/safe-exceptions/html/src/Control.Exception.Safe.html"><span class="hs-identifier">Control.Exception.Safe</span></a></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.html"><span class="hs-identifier">Control.Monad</span></a></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/qknajxpm2sljcpb4h8b8lq3a71zy0vy6-si-timers-lib-si-timers-1.3.0.0-haddock-doc/share/doc/si-timers/html/src/Control.Monad.Class.MonadTimer.SI.html"><span class="hs-identifier">Control.Monad.Class.MonadTimer.SI</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">MT</span></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/src/Control.Monad.Error.Class.html"><span class="hs-identifier">Control.Monad.Error.Class</span></a></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html"><span class="hs-identifier">Control.Monad.IO.Class</span></a></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Class.html"><span class="hs-identifier">Control.Monad.Trans.Class</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier">lift</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html"><span class="hs-identifier">Control.Monad.Trans.Except</span></a></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/srn6bsn7d18q6zw42x7hh4yazaq31pm5-transformers-except-lib-transformers-except-0.1.4-haddock-doc/share/doc/transformers-except/html/src/Control.Monad.Trans.Except.Extra.html"><span class="hs-identifier">Control.Monad.Trans.Except.Extra</span></a></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/7q8prrmwhbgkvak2z07186f1ipfavkgf-resourcet-lib-resourcet-1.3.0-haddock-doc/share/doc/resourcet/html/src/Control.Monad.Trans.Resource.html"><span class="hs-identifier">Control.Monad.Trans.Resource</span></a></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">A</span></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.List.html"><span class="hs-identifier">Data.List</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">List</span></span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/text-2.0.2/src/Data.Text.html"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier">Text</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/src/Data.Time.Clock.html"><span class="hs-identifier">Data.Time.Clock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/src/Data.Time.Clock.Internal.UTCTime.html#UTCTime"><span class="hs-identifier">UTCTime</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Generics.html"><span class="hs-identifier">GHC.Generics</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.Handle.html"><span class="hs-identifier">GHC.IO.Handle</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IO</span></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Stack.html"><span class="hs-identifier">GHC.Stack</span></a></span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Stack.html"><span class="hs-identifier">GHC.Stack</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-9.6.3/src/GHC.html"><span class="hs-identifier">GHC</span></a></span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Prelude.html"><span class="hs-identifier">Prelude</span></a></span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/directory-1.3.8.1/src/System.Directory.html"><span class="hs-identifier">System.Directory</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IO</span></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/template-haskell-2.20.0.0/src/System.FilePath.html"><span class="hs-identifier">System.FilePath</span></a></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/System.IO.html"><span class="hs-identifier">System.IO</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IO</span></span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/process-1.6.17.0/src/System.Process.html"><span class="hs-identifier">System.Process</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IO</span></span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/idj3ckkbn95630aws9w22d0183ip90b6-hedgehog-lib-hedgehog-1.4-haddock-doc/share/doc/hedgehog/html/src/Hedgehog.html"><span class="hs-identifier">Hedgehog</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/idj3ckkbn95630aws9w22d0183ip90b6-hedgehog-lib-hedgehog-1.4-haddock-doc/share/doc/hedgehog/html/src/Hedgehog.Internal.Property.html#MonadTest"><span class="hs-identifier">MonadTest</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/idj3ckkbn95630aws9w22d0183ip90b6-hedgehog-lib-hedgehog-1.4-haddock-doc/share/doc/hedgehog/html/src/Hedgehog.html"><span class="hs-identifier">Hedgehog</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">H</span></span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/8f9aaw4y4659m6yzrvgf27y4hinji3rx-hedgehog-extras-lib-hedgehog-extras-0.6.0.2-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Stock.IO.Network.Sprocket.html"><span class="hs-identifier">Hedgehog.Extras.Stock.IO.Network.Sprocket</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8f9aaw4y4659m6yzrvgf27y4hinji3rx-hedgehog-extras-lib-hedgehog-extras-0.6.0.2-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Stock.IO.Network.Sprocket.html#Sprocket"><span class="hs-identifier">Sprocket</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/8f9aaw4y4659m6yzrvgf27y4hinji3rx-hedgehog-extras-lib-hedgehog-extras-0.6.0.2-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Stock.IO.Network.Sprocket.html"><span class="hs-identifier">Hedgehog.Extras.Stock.IO.Network.Sprocket</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">H</span></span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/8f9aaw4y4659m6yzrvgf27y4hinji3rx-hedgehog-extras-lib-hedgehog-extras-0.6.0.2-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Test.Base.html"><span class="hs-identifier">Hedgehog.Extras.Test.Base</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">H</span></span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/8f9aaw4y4659m6yzrvgf27y4hinji3rx-hedgehog-extras-lib-hedgehog-extras-0.6.0.2-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Test.Concurrent.html"><span class="hs-identifier">Hedgehog.Extras.Test.Concurrent</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">H</span></span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Testnet.Filepath.html"><span class="hs-identifier">Testnet.Filepath</span></a></span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Testnet.Ping.html"><span class="hs-identifier">Testnet.Ping</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Ping</span></span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Testnet.Process.Run.html"><span class="hs-identifier">Testnet.Process.Run</span></a></span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Testnet.Start.Types.html"><span class="hs-identifier">Testnet.Start.Types</span></a></span><span>
</span><span id="line-78"></span><span>
</span><span id="line-79"></span><span class="hs-keyword">data</span><span> </span><span id="TestnetRuntime"><span class="annot"><a href="Testnet.Runtime.html#TestnetRuntime"><span class="hs-identifier hs-var">TestnetRuntime</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TestnetRuntime"><span class="annot"><a href="Testnet.Runtime.html#TestnetRuntime"><span class="hs-identifier hs-var">TestnetRuntime</span></a></span></span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="%24sel%3AconfigurationFile%3ATestnetRuntime"><span class="annot"><span class="annottext">TestnetRuntime -&gt; String
</span><a href="Testnet.Runtime.html#%24sel%3AconfigurationFile%3ATestnetRuntime"><span class="hs-identifier hs-var hs-var">configurationFile</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span>
</span><span id="line-81"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AshelleyGenesisFile%3ATestnetRuntime"><span class="annot"><span class="annottext">TestnetRuntime -&gt; String
</span><a href="Testnet.Runtime.html#%24sel%3AshelleyGenesisFile%3ATestnetRuntime"><span class="hs-identifier hs-var hs-var">shelleyGenesisFile</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span>
</span><span id="line-82"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AtestnetMagic%3ATestnetRuntime"><span class="annot"><span class="annottext">TestnetRuntime -&gt; Int
</span><a href="Testnet.Runtime.html#%24sel%3AtestnetMagic%3ATestnetRuntime"><span class="hs-identifier hs-var hs-var">testnetMagic</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-83"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3ApoolNodes%3ATestnetRuntime"><span class="annot"><span class="annottext">TestnetRuntime -&gt; [PoolNode]
</span><a href="Testnet.Runtime.html#%24sel%3ApoolNodes%3ATestnetRuntime"><span class="hs-identifier hs-var hs-var">poolNodes</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Testnet.Runtime.html#PoolNode"><span class="hs-identifier hs-type">PoolNode</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3Awallets%3ATestnetRuntime"><span class="annot"><span class="annottext">TestnetRuntime -&gt; [PaymentKeyInfo]
</span><a href="Testnet.Runtime.html#%24sel%3Awallets%3ATestnetRuntime"><span class="hs-identifier hs-var hs-var">wallets</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Testnet.Runtime.html#PaymentKeyInfo"><span class="hs-identifier hs-type">PaymentKeyInfo</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-85"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3Adelegators%3ATestnetRuntime"><span class="annot"><span class="annottext">TestnetRuntime -&gt; [Delegator]
</span><a href="Testnet.Runtime.html#%24sel%3Adelegators%3ATestnetRuntime"><span class="hs-identifier hs-var hs-var">delegators</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Testnet.Runtime.html#Delegator"><span class="hs-identifier hs-type">Delegator</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-86"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span class="hs-keyword">data</span><span> </span><span id="NodeRuntime"><span class="annot"><a href="Testnet.Runtime.html#NodeRuntime"><span class="hs-identifier hs-var">NodeRuntime</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="NodeRuntime"><span class="annot"><a href="Testnet.Runtime.html#NodeRuntime"><span class="hs-identifier hs-var">NodeRuntime</span></a></span></span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="%24sel%3AnodeName%3ANodeRuntime"><span class="annot"><span class="annottext">NodeRuntime -&gt; String
</span><a href="Testnet.Runtime.html#%24sel%3AnodeName%3ANodeRuntime"><span class="hs-identifier hs-var hs-var">nodeName</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AnodeSprocket%3ANodeRuntime"><span class="annot"><span class="annottext">NodeRuntime -&gt; Sprocket
</span><a href="Testnet.Runtime.html#%24sel%3AnodeSprocket%3ANodeRuntime"><span class="hs-identifier hs-var hs-var">nodeSprocket</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8f9aaw4y4659m6yzrvgf27y4hinji3rx-hedgehog-extras-lib-hedgehog-extras-0.6.0.2-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Stock.IO.Network.Sprocket.html#Sprocket"><span class="hs-identifier hs-type">Sprocket</span></a></span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AnodeStdinHandle%3ANodeRuntime"><span class="annot"><span class="annottext">NodeRuntime -&gt; Handle
</span><a href="Testnet.Runtime.html#%24sel%3AnodeStdinHandle%3ANodeRuntime"><span class="hs-identifier hs-var hs-var">nodeStdinHandle</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.Handle.Types.html#Handle"><span class="hs-identifier hs-type">IO.Handle</span></a></span><span>
</span><span id="line-92"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AnodeStdout%3ANodeRuntime"><span class="annot"><span class="annottext">NodeRuntime -&gt; String
</span><a href="Testnet.Runtime.html#%24sel%3AnodeStdout%3ANodeRuntime"><span class="hs-identifier hs-var hs-var">nodeStdout</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span>
</span><span id="line-93"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AnodeStderr%3ANodeRuntime"><span class="annot"><span class="annottext">NodeRuntime -&gt; String
</span><a href="Testnet.Runtime.html#%24sel%3AnodeStderr%3ANodeRuntime"><span class="hs-identifier hs-var hs-var">nodeStderr</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span>
</span><span id="line-94"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AnodeProcessHandle%3ANodeRuntime"><span class="annot"><span class="annottext">NodeRuntime -&gt; ProcessHandle
</span><a href="Testnet.Runtime.html#%24sel%3AnodeProcessHandle%3ANodeRuntime"><span class="hs-identifier hs-var hs-var">nodeProcessHandle</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/process-1.6.17.0/src/System.Process.Common.html#ProcessHandle"><span class="hs-identifier hs-type">IO.ProcessHandle</span></a></span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span class="hs-keyword">data</span><span> </span><span id="PoolNode"><span class="annot"><a href="Testnet.Runtime.html#PoolNode"><span class="hs-identifier hs-var">PoolNode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PoolNode"><span class="annot"><a href="Testnet.Runtime.html#PoolNode"><span class="hs-identifier hs-var">PoolNode</span></a></span></span><span>
</span><span id="line-98"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="%24sel%3ApoolRuntime%3APoolNode"><span class="annot"><span class="annottext">PoolNode -&gt; NodeRuntime
</span><a href="Testnet.Runtime.html#%24sel%3ApoolRuntime%3APoolNode"><span class="hs-identifier hs-var hs-var">poolRuntime</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#NodeRuntime"><span class="hs-identifier hs-type">NodeRuntime</span></a></span><span>
</span><span id="line-99"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3ApoolKeys%3APoolNode"><span class="annot"><span class="annottext">PoolNode -&gt; PoolNodeKeys
</span><a href="Testnet.Runtime.html#%24sel%3ApoolKeys%3APoolNode"><span class="hs-identifier hs-var hs-var">poolKeys</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#PoolNodeKeys"><span class="hs-identifier hs-type">PoolNodeKeys</span></a></span><span>
</span><span id="line-100"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span class="hs-keyword">data</span><span> </span><span id="PoolNodeKeys"><span class="annot"><a href="Testnet.Runtime.html#PoolNodeKeys"><span class="hs-identifier hs-var">PoolNodeKeys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PoolNodeKeys"><span class="annot"><a href="Testnet.Runtime.html#PoolNodeKeys"><span class="hs-identifier hs-var">PoolNodeKeys</span></a></span></span><span>
</span><span id="line-103"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="%24sel%3ApoolNodeKeysColdVkey%3APoolNodeKeys"><span class="annot"><span class="annottext">PoolNodeKeys -&gt; String
</span><a href="Testnet.Runtime.html#%24sel%3ApoolNodeKeysColdVkey%3APoolNodeKeys"><span class="hs-identifier hs-var hs-var">poolNodeKeysColdVkey</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span>
</span><span id="line-104"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3ApoolNodeKeysColdSkey%3APoolNodeKeys"><span class="annot"><span class="annottext">PoolNodeKeys -&gt; String
</span><a href="Testnet.Runtime.html#%24sel%3ApoolNodeKeysColdSkey%3APoolNodeKeys"><span class="hs-identifier hs-var hs-var">poolNodeKeysColdSkey</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span>
</span><span id="line-105"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3ApoolNodeKeysVrfVkey%3APoolNodeKeys"><span class="annot"><span class="annottext">PoolNodeKeys -&gt; String
</span><a href="Testnet.Runtime.html#%24sel%3ApoolNodeKeysVrfVkey%3APoolNodeKeys"><span class="hs-identifier hs-var hs-var">poolNodeKeysVrfVkey</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3ApoolNodeKeysVrfSkey%3APoolNodeKeys"><span class="annot"><span class="annottext">PoolNodeKeys -&gt; String
</span><a href="Testnet.Runtime.html#%24sel%3ApoolNodeKeysVrfSkey%3APoolNodeKeys"><span class="hs-identifier hs-var hs-var">poolNodeKeysVrfSkey</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span>
</span><span id="line-107"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3ApoolNodeKeysStakingVkey%3APoolNodeKeys"><span class="annot"><span class="annottext">PoolNodeKeys -&gt; String
</span><a href="Testnet.Runtime.html#%24sel%3ApoolNodeKeysStakingVkey%3APoolNodeKeys"><span class="hs-identifier hs-var hs-var">poolNodeKeysStakingVkey</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span>
</span><span id="line-108"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3ApoolNodeKeysStakingSkey%3APoolNodeKeys"><span class="annot"><span class="annottext">PoolNodeKeys -&gt; String
</span><a href="Testnet.Runtime.html#%24sel%3ApoolNodeKeysStakingSkey%3APoolNodeKeys"><span class="hs-identifier hs-var hs-var">poolNodeKeysStakingSkey</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span>
</span><span id="line-109"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679413946"><span id="local-6989586621679413954"><span class="annot"><span class="annottext">PoolNodeKeys -&gt; PoolNodeKeys -&gt; Bool
(PoolNodeKeys -&gt; PoolNodeKeys -&gt; Bool)
-&gt; (PoolNodeKeys -&gt; PoolNodeKeys -&gt; Bool) -&gt; Eq PoolNodeKeys
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: PoolNodeKeys -&gt; PoolNodeKeys -&gt; Bool
== :: PoolNodeKeys -&gt; PoolNodeKeys -&gt; Bool
$c/= :: PoolNodeKeys -&gt; PoolNodeKeys -&gt; Bool
/= :: PoolNodeKeys -&gt; PoolNodeKeys -&gt; Bool
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679413959"><span id="local-6989586621679413969"><span id="local-6989586621679413973"><span class="annot"><span class="annottext">Int -&gt; PoolNodeKeys -&gt; ShowS
[PoolNodeKeys] -&gt; ShowS
PoolNodeKeys -&gt; String
(Int -&gt; PoolNodeKeys -&gt; ShowS)
-&gt; (PoolNodeKeys -&gt; String)
-&gt; ([PoolNodeKeys] -&gt; ShowS)
-&gt; Show PoolNodeKeys
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; PoolNodeKeys -&gt; ShowS
showsPrec :: Int -&gt; PoolNodeKeys -&gt; ShowS
$cshow :: PoolNodeKeys -&gt; String
show :: PoolNodeKeys -&gt; String
$cshowList :: [PoolNodeKeys] -&gt; ShowS
showList :: [PoolNodeKeys] -&gt; ShowS
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span class="hs-keyword">data</span><span> </span><span id="PaymentKeyPair"><span class="annot"><a href="Testnet.Runtime.html#PaymentKeyPair"><span class="hs-identifier hs-var">PaymentKeyPair</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PaymentKeyPair"><span class="annot"><a href="Testnet.Runtime.html#PaymentKeyPair"><span class="hs-identifier hs-var">PaymentKeyPair</span></a></span></span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="%24sel%3ApaymentVKey%3APaymentKeyPair"><span class="annot"><span class="annottext">PaymentKeyPair -&gt; String
</span><a href="Testnet.Runtime.html#%24sel%3ApaymentVKey%3APaymentKeyPair"><span class="hs-identifier hs-var hs-var">paymentVKey</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span>
</span><span id="line-113"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3ApaymentSKey%3APaymentKeyPair"><span class="annot"><span class="annottext">PaymentKeyPair -&gt; String
</span><a href="Testnet.Runtime.html#%24sel%3ApaymentSKey%3APaymentKeyPair"><span class="hs-identifier hs-var hs-var">paymentSKey</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679413980"><span id="local-6989586621679413984"><span class="annot"><span class="annottext">PaymentKeyPair -&gt; PaymentKeyPair -&gt; Bool
(PaymentKeyPair -&gt; PaymentKeyPair -&gt; Bool)
-&gt; (PaymentKeyPair -&gt; PaymentKeyPair -&gt; Bool) -&gt; Eq PaymentKeyPair
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: PaymentKeyPair -&gt; PaymentKeyPair -&gt; Bool
== :: PaymentKeyPair -&gt; PaymentKeyPair -&gt; Bool
$c/= :: PaymentKeyPair -&gt; PaymentKeyPair -&gt; Bool
/= :: PaymentKeyPair -&gt; PaymentKeyPair -&gt; Bool
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679413988"><span id="local-6989586621679413993"><span id="local-6989586621679413997"><span class="annot"><span class="annottext">Int -&gt; PaymentKeyPair -&gt; ShowS
[PaymentKeyPair] -&gt; ShowS
PaymentKeyPair -&gt; String
(Int -&gt; PaymentKeyPair -&gt; ShowS)
-&gt; (PaymentKeyPair -&gt; String)
-&gt; ([PaymentKeyPair] -&gt; ShowS)
-&gt; Show PaymentKeyPair
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; PaymentKeyPair -&gt; ShowS
showsPrec :: Int -&gt; PaymentKeyPair -&gt; ShowS
$cshow :: PaymentKeyPair -&gt; String
show :: PaymentKeyPair -&gt; String
$cshowList :: [PaymentKeyPair] -&gt; ShowS
showList :: [PaymentKeyPair] -&gt; ShowS
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span class="hs-keyword">data</span><span> </span><span id="PaymentKeyInfo"><span class="annot"><a href="Testnet.Runtime.html#PaymentKeyInfo"><span class="hs-identifier hs-var">PaymentKeyInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PaymentKeyInfo"><span class="annot"><a href="Testnet.Runtime.html#PaymentKeyInfo"><span class="hs-identifier hs-var">PaymentKeyInfo</span></a></span></span><span>
</span><span id="line-117"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="%24sel%3ApaymentKeyInfoPair%3APaymentKeyInfo"><span class="annot"><span class="annottext">PaymentKeyInfo -&gt; PaymentKeyPair
</span><a href="Testnet.Runtime.html#%24sel%3ApaymentKeyInfoPair%3APaymentKeyInfo"><span class="hs-identifier hs-var hs-var">paymentKeyInfoPair</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#PaymentKeyPair"><span class="hs-identifier hs-type">PaymentKeyPair</span></a></span><span>
</span><span id="line-118"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3ApaymentKeyInfoAddr%3APaymentKeyInfo"><span class="annot"><span class="annottext">PaymentKeyInfo -&gt; Text
</span><a href="Testnet.Runtime.html#%24sel%3ApaymentKeyInfoAddr%3APaymentKeyInfo"><span class="hs-identifier hs-var hs-var">paymentKeyInfoAddr</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-119"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679414003"><span id="local-6989586621679414008"><span class="annot"><span class="annottext">PaymentKeyInfo -&gt; PaymentKeyInfo -&gt; Bool
(PaymentKeyInfo -&gt; PaymentKeyInfo -&gt; Bool)
-&gt; (PaymentKeyInfo -&gt; PaymentKeyInfo -&gt; Bool) -&gt; Eq PaymentKeyInfo
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: PaymentKeyInfo -&gt; PaymentKeyInfo -&gt; Bool
== :: PaymentKeyInfo -&gt; PaymentKeyInfo -&gt; Bool
$c/= :: PaymentKeyInfo -&gt; PaymentKeyInfo -&gt; Bool
/= :: PaymentKeyInfo -&gt; PaymentKeyInfo -&gt; Bool
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679414012"><span id="local-6989586621679414018"><span id="local-6989586621679414022"><span class="annot"><span class="annottext">Int -&gt; PaymentKeyInfo -&gt; ShowS
[PaymentKeyInfo] -&gt; ShowS
PaymentKeyInfo -&gt; String
(Int -&gt; PaymentKeyInfo -&gt; ShowS)
-&gt; (PaymentKeyInfo -&gt; String)
-&gt; ([PaymentKeyInfo] -&gt; ShowS)
-&gt; Show PaymentKeyInfo
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; PaymentKeyInfo -&gt; ShowS
showsPrec :: Int -&gt; PaymentKeyInfo -&gt; ShowS
$cshow :: PaymentKeyInfo -&gt; String
show :: PaymentKeyInfo -&gt; String
$cshowList :: [PaymentKeyInfo] -&gt; ShowS
showList :: [PaymentKeyInfo] -&gt; ShowS
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span class="hs-keyword">data</span><span> </span><span id="StakingKeyPair"><span class="annot"><a href="Testnet.Runtime.html#StakingKeyPair"><span class="hs-identifier hs-var">StakingKeyPair</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="StakingKeyPair"><span class="annot"><a href="Testnet.Runtime.html#StakingKeyPair"><span class="hs-identifier hs-var">StakingKeyPair</span></a></span></span><span>
</span><span id="line-122"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="%24sel%3AstakingVKey%3AStakingKeyPair"><span class="annot"><span class="annottext">StakingKeyPair -&gt; String
</span><a href="Testnet.Runtime.html#%24sel%3AstakingVKey%3AStakingKeyPair"><span class="hs-identifier hs-var hs-var">stakingVKey</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span>
</span><span id="line-123"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AstakingSKey%3AStakingKeyPair"><span class="annot"><span class="annottext">StakingKeyPair -&gt; String
</span><a href="Testnet.Runtime.html#%24sel%3AstakingSKey%3AStakingKeyPair"><span class="hs-identifier hs-var hs-var">stakingSKey</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span>
</span><span id="line-124"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679414028"><span id="local-6989586621679414032"><span class="annot"><span class="annottext">StakingKeyPair -&gt; StakingKeyPair -&gt; Bool
(StakingKeyPair -&gt; StakingKeyPair -&gt; Bool)
-&gt; (StakingKeyPair -&gt; StakingKeyPair -&gt; Bool) -&gt; Eq StakingKeyPair
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: StakingKeyPair -&gt; StakingKeyPair -&gt; Bool
== :: StakingKeyPair -&gt; StakingKeyPair -&gt; Bool
$c/= :: StakingKeyPair -&gt; StakingKeyPair -&gt; Bool
/= :: StakingKeyPair -&gt; StakingKeyPair -&gt; Bool
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679414036"><span id="local-6989586621679414041"><span id="local-6989586621679414045"><span class="annot"><span class="annottext">Int -&gt; StakingKeyPair -&gt; ShowS
[StakingKeyPair] -&gt; ShowS
StakingKeyPair -&gt; String
(Int -&gt; StakingKeyPair -&gt; ShowS)
-&gt; (StakingKeyPair -&gt; String)
-&gt; ([StakingKeyPair] -&gt; ShowS)
-&gt; Show StakingKeyPair
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; StakingKeyPair -&gt; ShowS
showsPrec :: Int -&gt; StakingKeyPair -&gt; ShowS
$cshow :: StakingKeyPair -&gt; String
show :: StakingKeyPair -&gt; String
$cshowList :: [StakingKeyPair] -&gt; ShowS
showList :: [StakingKeyPair] -&gt; ShowS
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span class="hs-keyword">data</span><span> </span><span id="Delegator"><span class="annot"><a href="Testnet.Runtime.html#Delegator"><span class="hs-identifier hs-var">Delegator</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Delegator"><span class="annot"><a href="Testnet.Runtime.html#Delegator"><span class="hs-identifier hs-var">Delegator</span></a></span></span><span>
</span><span id="line-127"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="%24sel%3ApaymentKeyPair%3ADelegator"><span class="annot"><span class="annottext">Delegator -&gt; PaymentKeyPair
</span><a href="Testnet.Runtime.html#%24sel%3ApaymentKeyPair%3ADelegator"><span class="hs-identifier hs-var hs-var">paymentKeyPair</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#PaymentKeyPair"><span class="hs-identifier hs-type">PaymentKeyPair</span></a></span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AstakingKeyPair%3ADelegator"><span class="annot"><span class="annottext">Delegator -&gt; StakingKeyPair
</span><a href="Testnet.Runtime.html#%24sel%3AstakingKeyPair%3ADelegator"><span class="hs-identifier hs-var hs-var">stakingKeyPair</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#StakingKeyPair"><span class="hs-identifier hs-type">StakingKeyPair</span></a></span><span>
</span><span id="line-129"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679414051"><span id="local-6989586621679414055"><span class="annot"><span class="annottext">Delegator -&gt; Delegator -&gt; Bool
(Delegator -&gt; Delegator -&gt; Bool)
-&gt; (Delegator -&gt; Delegator -&gt; Bool) -&gt; Eq Delegator
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Delegator -&gt; Delegator -&gt; Bool
== :: Delegator -&gt; Delegator -&gt; Bool
$c/= :: Delegator -&gt; Delegator -&gt; Bool
/= :: Delegator -&gt; Delegator -&gt; Bool
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679414059"><span id="local-6989586621679414064"><span id="local-6989586621679414068"><span class="annot"><span class="annottext">Int -&gt; Delegator -&gt; ShowS
[Delegator] -&gt; ShowS
Delegator -&gt; String
(Int -&gt; Delegator -&gt; ShowS)
-&gt; (Delegator -&gt; String)
-&gt; ([Delegator] -&gt; ShowS)
-&gt; Show Delegator
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Delegator -&gt; ShowS
showsPrec :: Int -&gt; Delegator -&gt; ShowS
$cshow :: Delegator -&gt; String
show :: Delegator -&gt; String
$cshowList :: [Delegator] -&gt; ShowS
showList :: [Delegator] -&gt; ShowS
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span class="hs-keyword">data</span><span> </span><span id="LeadershipSlot"><span class="annot"><a href="Testnet.Runtime.html#LeadershipSlot"><span class="hs-identifier hs-var">LeadershipSlot</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="LeadershipSlot"><span class="annot"><a href="Testnet.Runtime.html#LeadershipSlot"><span class="hs-identifier hs-var">LeadershipSlot</span></a></span></span><span>
</span><span id="line-132"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="%24sel%3AslotNumber%3ALeadershipSlot"><span class="annot"><span class="annottext">LeadershipSlot -&gt; Int
</span><a href="Testnet.Runtime.html#%24sel%3AslotNumber%3ALeadershipSlot"><span class="hs-identifier hs-var hs-var">slotNumber</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-133"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AslotTime%3ALeadershipSlot"><span class="annot"><span class="annottext">LeadershipSlot -&gt; Text
</span><a href="Testnet.Runtime.html#%24sel%3AslotTime%3ALeadershipSlot"><span class="hs-identifier hs-var hs-var">slotTime</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-134"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679414074"><span id="local-6989586621679414079"><span class="annot"><span class="annottext">LeadershipSlot -&gt; LeadershipSlot -&gt; Bool
(LeadershipSlot -&gt; LeadershipSlot -&gt; Bool)
-&gt; (LeadershipSlot -&gt; LeadershipSlot -&gt; Bool) -&gt; Eq LeadershipSlot
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: LeadershipSlot -&gt; LeadershipSlot -&gt; Bool
== :: LeadershipSlot -&gt; LeadershipSlot -&gt; Bool
$c/= :: LeadershipSlot -&gt; LeadershipSlot -&gt; Bool
/= :: LeadershipSlot -&gt; LeadershipSlot -&gt; Bool
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679414083"><span id="local-6989586621679414089"><span id="local-6989586621679414093"><span class="annot"><span class="annottext">Int -&gt; LeadershipSlot -&gt; ShowS
[LeadershipSlot] -&gt; ShowS
LeadershipSlot -&gt; String
(Int -&gt; LeadershipSlot -&gt; ShowS)
-&gt; (LeadershipSlot -&gt; String)
-&gt; ([LeadershipSlot] -&gt; ShowS)
-&gt; Show LeadershipSlot
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; LeadershipSlot -&gt; ShowS
showsPrec :: Int -&gt; LeadershipSlot -&gt; ShowS
$cshow :: LeadershipSlot -&gt; String
show :: LeadershipSlot -&gt; String
$cshowList :: [LeadershipSlot] -&gt; ShowS
showList :: [LeadershipSlot] -&gt; ShowS
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679414096"><span id="local-6989586621679414098"><span class="annot"><span class="annottext">(forall x. LeadershipSlot -&gt; Rep LeadershipSlot x)
-&gt; (forall x. Rep LeadershipSlot x -&gt; LeadershipSlot)
-&gt; Generic LeadershipSlot
forall x. Rep LeadershipSlot x -&gt; LeadershipSlot
forall x. LeadershipSlot -&gt; Rep LeadershipSlot x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. LeadershipSlot -&gt; Rep LeadershipSlot x
from :: forall x. LeadershipSlot -&gt; Rep LeadershipSlot x
$cto :: forall x. Rep LeadershipSlot x -&gt; LeadershipSlot
to :: forall x. Rep LeadershipSlot x -&gt; LeadershipSlot
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679414102"><span id="local-6989586621679414109"><span id="local-6989586621679414112"><span class="annot"><span class="annottext">Maybe LeadershipSlot
Value -&gt; Parser [LeadershipSlot]
Value -&gt; Parser LeadershipSlot
(Value -&gt; Parser LeadershipSlot)
-&gt; (Value -&gt; Parser [LeadershipSlot])
-&gt; Maybe LeadershipSlot
-&gt; FromJSON LeadershipSlot
forall a.
(Value -&gt; Parser a)
-&gt; (Value -&gt; Parser [a]) -&gt; Maybe a -&gt; FromJSON a
$cparseJSON :: Value -&gt; Parser LeadershipSlot
parseJSON :: Value -&gt; Parser LeadershipSlot
$cparseJSONList :: Value -&gt; Parser [LeadershipSlot]
parseJSONList :: Value -&gt; Parser [LeadershipSlot]
$comittedField :: Maybe LeadershipSlot
omittedField :: Maybe LeadershipSlot
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span>
</span><span id="line-137"></span><span class="annot"><a href="Testnet.Runtime.html#poolNodeStdout"><span class="hs-identifier hs-type">poolNodeStdout</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#PoolNode"><span class="hs-identifier hs-type">PoolNode</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span>
</span><span id="line-138"></span><span id="poolNodeStdout"><span class="annot"><span class="annottext">poolNodeStdout :: PoolNode -&gt; String
</span><a href="Testnet.Runtime.html#poolNodeStdout"><span class="hs-identifier hs-var hs-var">poolNodeStdout</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NodeRuntime -&gt; String
</span><a href="Testnet.Runtime.html#%24sel%3AnodeStdout%3ANodeRuntime"><span class="hs-identifier hs-var">nodeStdout</span></a></span><span> </span><span class="annot"><span class="annottext">(NodeRuntime -&gt; String)
-&gt; (PoolNode -&gt; NodeRuntime) -&gt; PoolNode -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">PoolNode -&gt; NodeRuntime
</span><a href="Testnet.Runtime.html#%24sel%3ApoolRuntime%3APoolNode"><span class="hs-identifier hs-var">poolRuntime</span></a></span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span class="annot"><a href="Testnet.Runtime.html#poolSprockets"><span class="hs-identifier hs-type">poolSprockets</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#TestnetRuntime"><span class="hs-identifier hs-type">TestnetRuntime</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///nix/store/8f9aaw4y4659m6yzrvgf27y4hinji3rx-hedgehog-extras-lib-hedgehog-extras-0.6.0.2-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Stock.IO.Network.Sprocket.html#Sprocket"><span class="hs-identifier hs-type">Sprocket</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-141"></span><span id="poolSprockets"><span class="annot"><span class="annottext">poolSprockets :: TestnetRuntime -&gt; [Sprocket]
</span><a href="Testnet.Runtime.html#poolSprockets"><span class="hs-identifier hs-var hs-var">poolSprockets</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PoolNode -&gt; Sprocket) -&gt; [PoolNode] -&gt; [Sprocket]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NodeRuntime -&gt; Sprocket
</span><a href="Testnet.Runtime.html#%24sel%3AnodeSprocket%3ANodeRuntime"><span class="hs-identifier hs-var">nodeSprocket</span></a></span><span> </span><span class="annot"><span class="annottext">(NodeRuntime -&gt; Sprocket)
-&gt; (PoolNode -&gt; NodeRuntime) -&gt; PoolNode -&gt; Sprocket
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">PoolNode -&gt; NodeRuntime
</span><a href="Testnet.Runtime.html#%24sel%3ApoolRuntime%3APoolNode"><span class="hs-identifier hs-var">poolRuntime</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([PoolNode] -&gt; [Sprocket])
-&gt; (TestnetRuntime -&gt; [PoolNode]) -&gt; TestnetRuntime -&gt; [Sprocket]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TestnetRuntime -&gt; [PoolNode]
</span><a href="Testnet.Runtime.html#%24sel%3ApoolNodes%3ATestnetRuntime"><span class="hs-identifier hs-var">poolNodes</span></a></span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span id="local-6989586621679413694"><span class="annot"><a href="Testnet.Runtime.html#shelleyGenesis"><span class="hs-identifier hs-type">shelleyGenesis</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/idj3ckkbn95630aws9w22d0183ip90b6-hedgehog-lib-hedgehog-1.4-haddock-doc/share/doc/hedgehog/html/src/Hedgehog.Internal.Property.html#MonadTest"><span class="hs-identifier hs-type">H.MonadTest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679413694"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#MonadIO"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679413694"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Stack.Types.html#HasCallStack"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#TestnetRuntime"><span class="hs-identifier hs-type">TestnetRuntime</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679413694"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ShelleyGenesis</span></span><span> </span><span class="annot"><a href="file:///nix/store/jfad4i4xrd9a86pd5gr4qq2jj7pzkqlh-cardano-ledger-core-lib-cardano-ledger-core-1.10.0.0-haddock-doc/share/doc/cardano-ledger-core/html/src/Cardano.Ledger.Crypto.html#StandardCrypto"><span class="hs-identifier hs-type">StandardCrypto</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-144"></span><span id="shelleyGenesis"><span class="annot"><span class="annottext">shelleyGenesis :: forall (m :: * -&gt; *).
(MonadTest m, MonadIO m, HasCallStack) =&gt;
TestnetRuntime -&gt; m (ShelleyGenesis StandardCrypto)
</span><a href="Testnet.Runtime.html#shelleyGenesis"><span class="hs-identifier hs-var hs-var">shelleyGenesis</span></a></span></span><span> </span><span class="annot"><a href="Testnet.Runtime.html#TestnetRuntime"><span class="hs-identifier hs-type">TestnetRuntime</span></a></span><span class="hs-special">{</span><span id="local-6989586621679414202"><span class="annot"><span class="annottext">String
$sel:shelleyGenesisFile:TestnetRuntime :: TestnetRuntime -&gt; String
shelleyGenesisFile :: String
</span><a href="Testnet.Runtime.html#%24sel%3AshelleyGenesisFile%3ATestnetRuntime"><span class="hs-identifier hs-var hs-var">shelleyGenesisFile</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(HasCallStack =&gt; m (ShelleyGenesis StandardCrypto))
-&gt; m (ShelleyGenesis StandardCrypto)
forall a. HasCallStack =&gt; (HasCallStack =&gt; a) -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Stack.html#withFrozenCallStack"><span class="hs-identifier hs-var">withFrozenCallStack</span></a></span><span> </span><span class="annot"><span class="annottext">((HasCallStack =&gt; m (ShelleyGenesis StandardCrypto))
 -&gt; m (ShelleyGenesis StandardCrypto))
-&gt; (HasCallStack =&gt; m (ShelleyGenesis StandardCrypto))
-&gt; m (ShelleyGenesis StandardCrypto)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-145"></span><span>  </span><span class="annot"><span class="annottext">Either String (ShelleyGenesis StandardCrypto)
-&gt; m (ShelleyGenesis StandardCrypto)
forall (m :: * -&gt; *) x a.
(MonadTest m, Show x, HasCallStack) =&gt;
Either x a -&gt; m a
</span><a href="file:///nix/store/idj3ckkbn95630aws9w22d0183ip90b6-hedgehog-lib-hedgehog-1.4-haddock-doc/share/doc/hedgehog/html/src/Hedgehog.Internal.Property.html#evalEither"><span class="hs-identifier hs-var">H.evalEither</span></a></span><span> </span><span class="annot"><span class="annottext">(Either String (ShelleyGenesis StandardCrypto)
 -&gt; m (ShelleyGenesis StandardCrypto))
-&gt; m (Either String (ShelleyGenesis StandardCrypto))
-&gt; m (ShelleyGenesis StandardCrypto)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Either String (ShelleyGenesis StandardCrypto))
-&gt; m (Either String (ShelleyGenesis StandardCrypto))
forall (m :: * -&gt; *) a.
(MonadTest m, MonadIO m, HasCallStack) =&gt;
IO a -&gt; m a
</span><a href="file:///nix/store/idj3ckkbn95630aws9w22d0183ip90b6-hedgehog-lib-hedgehog-1.4-haddock-doc/share/doc/hedgehog/html/src/Hedgehog.Internal.Property.html#evalIO"><span class="hs-identifier hs-var">H.evalIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; IO (Either String (ShelleyGenesis StandardCrypto))
forall a. FromJSON a =&gt; String -&gt; IO (Either String a)
</span><span class="hs-identifier hs-var">A.eitherDecodeFileStrict'</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414202"><span class="hs-identifier hs-var">shelleyGenesisFile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-146"></span><span>
</span><span id="line-147"></span><span id="local-6989586621679413716"><span class="annot"><a href="Testnet.Runtime.html#getStartTime"><span class="hs-identifier hs-type">getStartTime</span></a></span><span>
</span><span id="line-148"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/idj3ckkbn95630aws9w22d0183ip90b6-hedgehog-lib-hedgehog-1.4-haddock-doc/share/doc/hedgehog/html/src/Hedgehog.Internal.Property.html#MonadTest"><span class="hs-identifier hs-type">H.MonadTest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679413716"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#MonadIO"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679413716"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Stack.Types.html#HasCallStack"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-149"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#TestnetRuntime"><span class="hs-identifier hs-type">TestnetRuntime</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679413716"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/src/Data.Time.Clock.Internal.UTCTime.html#UTCTime"><span class="hs-identifier hs-type">UTCTime</span></a></span></span><span>
</span><span id="line-150"></span><span id="getStartTime"><span class="annot"><span class="annottext">getStartTime :: forall (m :: * -&gt; *).
(MonadTest m, MonadIO m, HasCallStack) =&gt;
String -&gt; TestnetRuntime -&gt; m UTCTime
</span><a href="Testnet.Runtime.html#getStartTime"><span class="hs-identifier hs-var hs-var">getStartTime</span></a></span></span><span> </span><span id="local-6989586621679414244"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414244"><span class="hs-identifier hs-var">tempRootPath</span></a></span></span><span> </span><span class="annot"><a href="Testnet.Runtime.html#TestnetRuntime"><span class="hs-identifier hs-type">TestnetRuntime</span></a></span><span class="hs-special">{</span><span id="local-6989586621679414245"><span class="annot"><span class="annottext">String
$sel:configurationFile:TestnetRuntime :: TestnetRuntime -&gt; String
configurationFile :: String
</span><a href="Testnet.Runtime.html#%24sel%3AconfigurationFile%3ATestnetRuntime"><span class="hs-identifier hs-var hs-var">configurationFile</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(HasCallStack =&gt; m UTCTime) -&gt; m UTCTime
forall a. HasCallStack =&gt; (HasCallStack =&gt; a) -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Stack.html#withFrozenCallStack"><span class="hs-identifier hs-var">withFrozenCallStack</span></a></span><span> </span><span class="annot"><span class="annottext">((HasCallStack =&gt; m UTCTime) -&gt; m UTCTime)
-&gt; (HasCallStack =&gt; m UTCTime) -&gt; m UTCTime
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Either String UTCTime -&gt; m UTCTime
forall (m :: * -&gt; *) x a.
(MonadTest m, Show x, HasCallStack) =&gt;
Either x a -&gt; m a
</span><a href="file:///nix/store/idj3ckkbn95630aws9w22d0183ip90b6-hedgehog-lib-hedgehog-1.4-haddock-doc/share/doc/hedgehog/html/src/Hedgehog.Internal.Property.html#evalEither"><span class="hs-identifier hs-var">H.evalEither</span></a></span><span> </span><span class="annot"><span class="annottext">(Either String UTCTime -&gt; m UTCTime)
-&gt; (ExceptT String IO UTCTime -&gt; m (Either String UTCTime))
-&gt; ExceptT String IO UTCTime
-&gt; m UTCTime
forall (m :: * -&gt; *) b c a.
Monad m =&gt;
(b -&gt; m c) -&gt; (a -&gt; m b) -&gt; a -&gt; m c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.html#%3C%3D%3C"><span class="hs-operator hs-var">&lt;=&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Either String UTCTime) -&gt; m (Either String UTCTime)
forall (m :: * -&gt; *) a.
(MonadTest m, MonadIO m, HasCallStack) =&gt;
IO a -&gt; m a
</span><a href="file:///nix/store/idj3ckkbn95630aws9w22d0183ip90b6-hedgehog-lib-hedgehog-1.4-haddock-doc/share/doc/hedgehog/html/src/Hedgehog.Internal.Property.html#evalIO"><span class="hs-identifier hs-var">H.evalIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either String UTCTime) -&gt; m (Either String UTCTime))
-&gt; (ExceptT String IO UTCTime -&gt; IO (Either String UTCTime))
-&gt; ExceptT String IO UTCTime
-&gt; m (Either String UTCTime)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ExceptT String IO UTCTime -&gt; IO (Either String UTCTime)
forall e (m :: * -&gt; *) a. ExceptT e m a -&gt; m (Either e a)
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#runExceptT"><span class="hs-identifier hs-var">runExceptT</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT String IO UTCTime -&gt; m UTCTime)
-&gt; ExceptT String IO UTCTime -&gt; m UTCTime
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-151"></span><span>  </span><span id="local-6989586621679414263"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414263"><span class="hs-identifier hs-var">byronGenesisFile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-152"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; ExceptT String IO NodeProtocolConfiguration
</span><a href="#local-6989586621679414264"><span class="hs-identifier hs-var">decodeNodeConfiguration</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414245"><span class="hs-identifier hs-var">configurationFile</span></a></span><span> </span><span class="annot"><span class="annottext">ExceptT String IO NodeProtocolConfiguration
-&gt; (NodeProtocolConfiguration -&gt; ExceptT String IO String)
-&gt; ExceptT String IO String
forall a b.
ExceptT String IO a
-&gt; (a -&gt; ExceptT String IO b) -&gt; ExceptT String IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-153"></span><span>      </span><span class="annot"><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.3/cardano-node-8.8.0/doc/html/cardano-node/src/Cardano.Node.Types.html#NodeProtocolConfigurationCardano"><span class="hs-identifier hs-type">NodeProtocolConfigurationCardano</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.3/cardano-node-8.8.0/doc/html/cardano-node/src/Cardano.Node.Types.html#NodeByronProtocolConfiguration"><span class="hs-identifier hs-type">NodeByronProtocolConfiguration</span></a></span><span class="hs-special">{</span><span id="local-6989586621679414267"><span class="annot"><span class="annottext">GenesisFile
npcByronGenesisFile :: GenesisFile
npcByronGenesisFile :: NodeByronProtocolConfiguration -&gt; GenesisFile
</span><a href="#local-6989586621679414267"><span class="hs-identifier hs-var hs-var">npcByronGenesisFile</span></a></span></span><span class="hs-special">}</span><span> </span><span class="annot"><span class="annottext">NodeShelleyProtocolConfiguration
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">NodeAlonzoProtocolConfiguration
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">NodeConwayProtocolConfiguration
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">NodeHardForkProtocolConfiguration
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-154"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; ExceptT String IO String
forall a. a -&gt; ExceptT String IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; ExceptT String IO String)
-&gt; String -&gt; ExceptT String IO String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">GenesisFile -&gt; String
</span><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.3/cardano-node-8.8.0/doc/html/cardano-node/src/Cardano.Node.Types.html#unGenesisFile"><span class="hs-identifier hs-var">unGenesisFile</span></a></span><span> </span><span class="annot"><span class="annottext">GenesisFile
</span><a href="#local-6989586621679414267"><span class="hs-identifier hs-var">npcByronGenesisFile</span></a></span><span>
</span><span id="line-155"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679414270"><span class="annot"><span class="annottext">byronGenesisFilePath :: String
</span><a href="#local-6989586621679414270"><span class="hs-identifier hs-var hs-var">byronGenesisFilePath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414244"><span class="hs-identifier hs-var">tempRootPath</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/filepath-1.4.100.4/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414263"><span class="hs-identifier hs-var">byronGenesisFile</span></a></span><span>
</span><span id="line-156"></span><span>  </span><span class="annot"><span class="annottext">GenesisData -&gt; UTCTime
</span><a href="file:///nix/store/yv27c5xzz6c2nhryhwp7hnpzy2mg81vm-cardano-ledger-byron-lib-cardano-ledger-byron-1.0.0.4-haddock-doc/share/doc/cardano-ledger-byron/html/src/Cardano.Chain.Genesis.Data.html#gdStartTime"><span class="hs-identifier hs-var">G.gdStartTime</span></a></span><span> </span><span class="annot"><span class="annottext">(GenesisData -&gt; UTCTime)
-&gt; (Config -&gt; GenesisData) -&gt; Config -&gt; UTCTime
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Config -&gt; GenesisData
</span><a href="file:///nix/store/yv27c5xzz6c2nhryhwp7hnpzy2mg81vm-cardano-ledger-byron-lib-cardano-ledger-byron-1.0.0.4-haddock-doc/share/doc/cardano-ledger-byron/html/src/Cardano.Chain.Genesis.Config.html#configGenesisData"><span class="hs-identifier hs-var">G.configGenesisData</span></a></span><span> </span><span class="annot"><span class="annottext">(Config -&gt; UTCTime)
-&gt; ExceptT String IO Config -&gt; ExceptT String IO UTCTime
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ExceptT String IO Config
</span><a href="#local-6989586621679414275"><span class="hs-identifier hs-var">decodeGenesisFile</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414270"><span class="hs-identifier hs-var">byronGenesisFilePath</span></a></span><span>
</span><span id="line-157"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-158"></span><span>    </span><span class="annot"><a href="#local-6989586621679414264"><span class="hs-identifier hs-type">decodeNodeConfiguration</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.3/cardano-node-8.8.0/doc/html/cardano-node/src/Cardano.Node.Types.html#NodeProtocolConfiguration"><span class="hs-identifier hs-type">NodeProtocolConfiguration</span></a></span><span>
</span><span id="line-159"></span><span>    </span><span id="local-6989586621679414264"><span class="annot"><span class="annottext">decodeNodeConfiguration :: String -&gt; ExceptT String IO NodeProtocolConfiguration
</span><a href="#local-6989586621679414264"><span class="hs-identifier hs-var hs-var">decodeNodeConfiguration</span></a></span></span><span> </span><span id="local-6989586621679414276"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414276"><span class="hs-identifier hs-var">file</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-160"></span><span>      </span><span id="local-6989586621679414277"><span class="annot"><span class="annottext">PartialNodeConfiguration
</span><a href="#local-6989586621679414277"><span class="hs-identifier hs-var">partialNodeCfg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Either String PartialNodeConfiguration)
-&gt; ExceptT String IO PartialNodeConfiguration
forall e (m :: * -&gt; *) a. m (Either e a) -&gt; ExceptT e m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-var">ExceptT</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either String PartialNodeConfiguration)
 -&gt; ExceptT String IO PartialNodeConfiguration)
-&gt; IO (Either String PartialNodeConfiguration)
-&gt; ExceptT String IO PartialNodeConfiguration
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; IO (Either String PartialNodeConfiguration)
forall a. FromJSON a =&gt; String -&gt; IO (Either String a)
</span><span class="hs-identifier hs-var">A.eitherDecodeFileStrict'</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414276"><span class="hs-identifier hs-var">file</span></a></span><span>
</span><span id="line-161"></span><span>      </span><span class="annot"><span class="annottext">(NodeConfiguration -&gt; NodeProtocolConfiguration)
-&gt; ExceptT String IO NodeConfiguration
-&gt; ExceptT String IO NodeProtocolConfiguration
forall a b. (a -&gt; b) -&gt; ExceptT String IO a -&gt; ExceptT String IO b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">NodeConfiguration -&gt; NodeProtocolConfiguration
</span><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.3/cardano-node-8.8.0/doc/html/cardano-node/src/Cardano.Node.Configuration.POM.html#ncProtocolConfig"><span class="hs-identifier hs-var">ncProtocolConfig</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT String IO NodeConfiguration
 -&gt; ExceptT String IO NodeProtocolConfiguration)
-&gt; (PartialNodeConfiguration
    -&gt; ExceptT String IO NodeConfiguration)
-&gt; PartialNodeConfiguration
-&gt; ExceptT String IO NodeProtocolConfiguration
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Either String NodeConfiguration
-&gt; ExceptT String IO NodeConfiguration
forall e (m :: * -&gt; *) a. MonadError e m =&gt; Either e a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/src/Control.Monad.Error.Class.html#liftEither"><span class="hs-identifier hs-var">liftEither</span></a></span><span> </span><span class="annot"><span class="annottext">(Either String NodeConfiguration
 -&gt; ExceptT String IO NodeConfiguration)
-&gt; (PartialNodeConfiguration -&gt; Either String NodeConfiguration)
-&gt; PartialNodeConfiguration
-&gt; ExceptT String IO NodeConfiguration
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">PartialNodeConfiguration -&gt; Either String NodeConfiguration
</span><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.3/cardano-node-8.8.0/doc/html/cardano-node/src/Cardano.Node.Configuration.POM.html#makeNodeConfiguration"><span class="hs-identifier hs-var">makeNodeConfiguration</span></a></span><span> </span><span class="annot"><span class="annottext">(PartialNodeConfiguration
 -&gt; ExceptT String IO NodeProtocolConfiguration)
-&gt; PartialNodeConfiguration
-&gt; ExceptT String IO NodeProtocolConfiguration
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PartialNodeConfiguration
</span><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.3/cardano-node-8.8.0/doc/html/cardano-node/src/Cardano.Node.Configuration.POM.html#defaultPartialNodeConfiguration"><span class="hs-identifier hs-var">defaultPartialNodeConfiguration</span></a></span><span> </span><span class="annot"><span class="annottext">PartialNodeConfiguration
-&gt; PartialNodeConfiguration -&gt; PartialNodeConfiguration
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">PartialNodeConfiguration
</span><a href="#local-6989586621679414277"><span class="hs-identifier hs-var">partialNodeCfg</span></a></span><span>
</span><span id="line-162"></span><span>    </span><span class="annot"><a href="#local-6989586621679414275"><span class="hs-identifier hs-type">decodeGenesisFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/yv27c5xzz6c2nhryhwp7hnpzy2mg81vm-cardano-ledger-byron-lib-cardano-ledger-byron-1.0.0.4-haddock-doc/share/doc/cardano-ledger-byron/html/src/Cardano.Chain.Genesis.Config.html#Config"><span class="hs-identifier hs-type">G.Config</span></a></span><span>
</span><span id="line-163"></span><span>    </span><span id="local-6989586621679414275"><span class="annot"><span class="annottext">decodeGenesisFile :: String -&gt; ExceptT String IO Config
</span><a href="#local-6989586621679414275"><span class="hs-identifier hs-var hs-var">decodeGenesisFile</span></a></span></span><span> </span><span id="local-6989586621679414283"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414283"><span class="hs-identifier hs-var">fp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ByronProtocolInstantiationError -&gt; String)
-&gt; ExceptT ByronProtocolInstantiationError IO Config
-&gt; ExceptT String IO Config
forall (m :: * -&gt; *) e e' a.
Functor m =&gt;
(e -&gt; e') -&gt; ExceptT e m a -&gt; ExceptT e' m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#withExceptT"><span class="hs-identifier hs-var">withExceptT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc AnsiStyle -&gt; String
</span><span class="hs-identifier hs-var">docToString</span></span><span> </span><span class="annot"><span class="annottext">(Doc AnsiStyle -&gt; String)
-&gt; (ByronProtocolInstantiationError -&gt; Doc AnsiStyle)
-&gt; ByronProtocolInstantiationError
-&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByronProtocolInstantiationError -&gt; Doc AnsiStyle
forall e ann. Error e =&gt; e -&gt; Doc ann
forall ann. ByronProtocolInstantiationError -&gt; Doc ann
</span><span class="hs-identifier hs-var">prettyError</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ExceptT ByronProtocolInstantiationError IO Config
 -&gt; ExceptT String IO Config)
-&gt; ExceptT ByronProtocolInstantiationError IO Config
-&gt; ExceptT String IO Config
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-164"></span><span>      </span><span class="annot"><span class="annottext">GenesisFile
-&gt; Maybe GenesisHash
-&gt; RequiresNetworkMagic
-&gt; ExceptT ByronProtocolInstantiationError IO Config
</span><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.3/cardano-node-8.8.0/doc/html/cardano-node/src/Cardano.Node.Protocol.Byron.html#readGenesis"><span class="hs-identifier hs-var">Byron.readGenesis</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; GenesisFile
</span><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.3/cardano-node-8.8.0/doc/html/cardano-node/src/Cardano.Node.Types.html#GenesisFile"><span class="hs-identifier hs-var">GenesisFile</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414283"><span class="hs-identifier hs-var">fp</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe GenesisHash
forall a. Maybe a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">RequiresNetworkMagic
</span><a href="file:///nix/store/i5wig9pjpn8y7hy0ja7pqsjplwfrkqh8-cardano-crypto-wrapper-lib-cardano-crypto-wrapper-1.5.1.1-haddock-doc/share/doc/cardano-crypto-wrapper/html/src/Cardano.Crypto.ProtocolMagic.html#RequiresNoMagic"><span class="hs-identifier hs-var">RequiresNoMagic</span></a></span><span>
</span><span id="line-165"></span><span>
</span><span id="line-166"></span><span class="annot"><a href="Testnet.Runtime.html#readNodeLoggingFormat"><span class="hs-identifier hs-type">readNodeLoggingFormat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><a href="Testnet.Start.Types.html#NodeLoggingFormat"><span class="hs-identifier hs-type">NodeLoggingFormat</span></a></span><span>
</span><span id="line-167"></span><span id="readNodeLoggingFormat"><span class="annot"><span class="annottext">readNodeLoggingFormat :: String -&gt; Either String NodeLoggingFormat
</span><a href="Testnet.Runtime.html#readNodeLoggingFormat"><span class="hs-identifier hs-var hs-var">readNodeLoggingFormat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-168"></span><span>  </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;json&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NodeLoggingFormat -&gt; Either String NodeLoggingFormat
forall a b. b -&gt; Either a b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Right"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">NodeLoggingFormat
</span><a href="Testnet.Start.Types.html#NodeLoggingFormatAsJson"><span class="hs-identifier hs-var">NodeLoggingFormatAsJson</span></a></span><span>
</span><span id="line-169"></span><span>  </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;text&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NodeLoggingFormat -&gt; Either String NodeLoggingFormat
forall a b. b -&gt; Either a b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Right"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">NodeLoggingFormat
</span><a href="Testnet.Start.Types.html#NodeLoggingFormatAsText"><span class="hs-identifier hs-var">NodeLoggingFormatAsText</span></a></span><span>
</span><span id="line-170"></span><span>  </span><span id="local-6989586621679414292"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414292"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Either String NodeLoggingFormat
forall a b. a -&gt; Either a b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Either String NodeLoggingFormat)
-&gt; String -&gt; Either String NodeLoggingFormat
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unrecognised node logging format: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414292"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.  Valid options: \&quot;json\&quot;, \&quot;text\&quot;&quot;</span></span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span class="annot"><a href="Testnet.Runtime.html#allNodes"><span class="hs-identifier hs-type">allNodes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#TestnetRuntime"><span class="hs-identifier hs-type">TestnetRuntime</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Testnet.Runtime.html#NodeRuntime"><span class="hs-identifier hs-type">NodeRuntime</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-173"></span><span id="allNodes"><span class="annot"><span class="annottext">allNodes :: TestnetRuntime -&gt; [NodeRuntime]
</span><a href="Testnet.Runtime.html#allNodes"><span class="hs-identifier hs-var hs-var">allNodes</span></a></span></span><span> </span><span id="local-6989586621679414294"><span class="annot"><span class="annottext">TestnetRuntime
</span><a href="#local-6989586621679414294"><span class="hs-identifier hs-var">tr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PoolNode -&gt; NodeRuntime) -&gt; [PoolNode] -&gt; [NodeRuntime]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">PoolNode -&gt; NodeRuntime
</span><a href="Testnet.Runtime.html#%24sel%3ApoolRuntime%3APoolNode"><span class="hs-identifier hs-var">poolRuntime</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TestnetRuntime -&gt; [PoolNode]
</span><a href="Testnet.Runtime.html#%24sel%3ApoolNodes%3ATestnetRuntime"><span class="hs-identifier hs-var">poolNodes</span></a></span><span> </span><span class="annot"><span class="annottext">TestnetRuntime
</span><a href="#local-6989586621679414294"><span class="hs-identifier hs-var">tr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="hs-keyword">data</span><span> </span><span id="NodeStartFailure"><span class="annot"><a href="Testnet.Runtime.html#NodeStartFailure"><span class="hs-identifier hs-var">NodeStartFailure</span></a></span></span><span>
</span><span id="line-176"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="ProcessRelatedFailure"><span class="annot"><a href="Testnet.Runtime.html#ProcessRelatedFailure"><span class="hs-identifier hs-var">ProcessRelatedFailure</span></a></span></span><span> </span><span class="annot"><a href="Testnet.Process.Run.html#ProcessError"><span class="hs-identifier hs-type">ProcessError</span></a></span><span>
</span><span id="line-177"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ExecutableRelatedFailure"><span class="annot"><a href="Testnet.Runtime.html#ExecutableRelatedFailure"><span class="hs-identifier hs-var">ExecutableRelatedFailure</span></a></span></span><span> </span><span class="annot"><a href="Testnet.Process.Run.html#ExecutableError"><span class="hs-identifier hs-type">ExecutableError</span></a></span><span>
</span><span id="line-178"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="FileRelatedFailure"><span class="annot"><a href="Testnet.Runtime.html#FileRelatedFailure"><span class="hs-identifier hs-var">FileRelatedFailure</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.Exception.html#IOException"><span class="hs-identifier hs-type">IOException</span></a></span><span>
</span><span id="line-179"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NodeExecutableError"><span class="annot"><a href="Testnet.Runtime.html#NodeExecutableError"><span class="hs-identifier hs-var">NodeExecutableError</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-180"></span><span> </span><span class="annot"><span class="hs-comment">-- | NodePortNotOpenError IOException</span></span><span>
</span><span id="line-181"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="MaxSprocketLengthExceededError"><span class="annot"><a href="Testnet.Runtime.html#MaxSprocketLengthExceededError"><span class="hs-identifier hs-var">MaxSprocketLengthExceededError</span></a></span></span><span>
</span><span id="line-182"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679414301"><span id="local-6989586621679414314"><span id="local-6989586621679414318"><span class="annot"><span class="annottext">Int -&gt; NodeStartFailure -&gt; ShowS
[NodeStartFailure] -&gt; ShowS
NodeStartFailure -&gt; String
(Int -&gt; NodeStartFailure -&gt; ShowS)
-&gt; (NodeStartFailure -&gt; String)
-&gt; ([NodeStartFailure] -&gt; ShowS)
-&gt; Show NodeStartFailure
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; NodeStartFailure -&gt; ShowS
showsPrec :: Int -&gt; NodeStartFailure -&gt; ShowS
$cshow :: NodeStartFailure -&gt; String
show :: NodeStartFailure -&gt; String
$cshowList :: [NodeStartFailure] -&gt; ShowS
showList :: [NodeStartFailure] -&gt; ShowS
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span>
</span><span id="line-183"></span><span>
</span><span id="line-184"></span><span class="hs-comment">-- TODO: We probably want a check that this node has the necessary config files to run and</span><span>
</span><span id="line-185"></span><span class="hs-comment">-- if it doesn't we fail hard.</span><span>
</span><span id="line-186"></span><span class="annot"><span class="hs-comment">-- | Start a node, creating file handles, sockets and temp-dirs.</span></span><span>
</span><span id="line-187"></span><span class="annot"><a href="Testnet.Runtime.html#startNode"><span class="hs-identifier hs-type">startNode</span></a></span><span>
</span><span id="line-188"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Testnet.Filepath.html#TmpAbsolutePath"><span class="hs-identifier hs-type">TmpAbsolutePath</span></a></span><span>
</span><span id="line-189"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ The temporary absolute path</span></span><span>
</span><span id="line-190"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-191"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ The name of the node</span></span><span>
</span><span id="line-192"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-193"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Node port</span></span><span>
</span><span id="line-194"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-195"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Testnet magic</span></span><span>
</span><span id="line-196"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-197"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ The command --socket-path will be added automatically.</span></span><span>
</span><span id="line-198"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="Testnet.Runtime.html#NodeStartFailure"><span class="hs-identifier hs-type">NodeStartFailure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/7q8prrmwhbgkvak2z07186f1ipfavkgf-resourcet-lib-resourcet-1.3.0-haddock-doc/share/doc/resourcet/html/src/Control.Monad.Trans.Resource.Internal.html#ResourceT"><span class="hs-identifier hs-type">ResourceT</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#NodeRuntime"><span class="hs-identifier hs-type">NodeRuntime</span></a></span><span>
</span><span id="line-199"></span><span id="startNode"><span class="annot"><span class="annottext">startNode :: TmpAbsolutePath
-&gt; String
-&gt; Int
-&gt; Int
-&gt; [String]
-&gt; ExceptT NodeStartFailure (ResourceT IO) NodeRuntime
</span><a href="Testnet.Runtime.html#startNode"><span class="hs-identifier hs-var hs-var">startNode</span></a></span></span><span> </span><span id="local-6989586621679414320"><span class="annot"><span class="annottext">TmpAbsolutePath
</span><a href="#local-6989586621679414320"><span class="hs-identifier hs-var">tp</span></a></span></span><span> </span><span id="local-6989586621679414321"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414321"><span class="hs-identifier hs-var">node</span></a></span></span><span> </span><span id="local-6989586621679414322"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679414322"><span class="hs-identifier hs-var">port</span></a></span></span><span> </span><span id="local-6989586621679414323"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679414323"><span class="hs-identifier hs-var">testnetMagic</span></a></span></span><span> </span><span id="local-6989586621679414324"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679414324"><span class="hs-identifier hs-var">nodeCmd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(HasCallStack =&gt;
 ExceptT NodeStartFailure (ResourceT IO) NodeRuntime)
-&gt; ExceptT NodeStartFailure (ResourceT IO) NodeRuntime
forall a. HasCallStack =&gt; (HasCallStack =&gt; a) -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Stack.html#withFrozenCallStack"><span class="hs-identifier hs-var">GHC.withFrozenCallStack</span></a></span><span> </span><span class="annot"><span class="annottext">((HasCallStack =&gt;
  ExceptT NodeStartFailure (ResourceT IO) NodeRuntime)
 -&gt; ExceptT NodeStartFailure (ResourceT IO) NodeRuntime)
-&gt; (HasCallStack =&gt;
    ExceptT NodeStartFailure (ResourceT IO) NodeRuntime)
-&gt; ExceptT NodeStartFailure (ResourceT IO) NodeRuntime
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-200"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679414412"><span class="annot"><span class="annottext">tempBaseAbsPath :: String
</span><a href="#local-6989586621679414412"><span class="hs-identifier hs-var hs-var">tempBaseAbsPath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TmpAbsolutePath -&gt; String
</span><a href="Testnet.Filepath.html#makeTmpBaseAbsPath"><span class="hs-identifier hs-var">makeTmpBaseAbsPath</span></a></span><span> </span><span class="annot"><span class="annottext">TmpAbsolutePath
</span><a href="#local-6989586621679414320"><span class="hs-identifier hs-var">tp</span></a></span><span>
</span><span id="line-201"></span><span>      </span><span id="local-6989586621679414414"><span class="annot"><span class="annottext">socketDir :: String
</span><a href="#local-6989586621679414414"><span class="hs-identifier hs-var hs-var">socketDir</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TmpAbsolutePath -&gt; String
</span><a href="Testnet.Filepath.html#makeSocketDir"><span class="hs-identifier hs-var">makeSocketDir</span></a></span><span> </span><span class="annot"><span class="annottext">TmpAbsolutePath
</span><a href="#local-6989586621679414320"><span class="hs-identifier hs-var">tp</span></a></span><span>
</span><span id="line-202"></span><span>      </span><span id="local-6989586621679414416"><span class="annot"><span class="annottext">logDir :: String
</span><a href="#local-6989586621679414416"><span class="hs-identifier hs-var hs-var">logDir</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TmpAbsolutePath -&gt; String
</span><a href="Testnet.Filepath.html#makeLogDir"><span class="hs-identifier hs-var">makeLogDir</span></a></span><span> </span><span class="annot"><span class="annottext">TmpAbsolutePath
</span><a href="#local-6989586621679414320"><span class="hs-identifier hs-var">tp</span></a></span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span>  </span><span class="annot"><span class="annottext">IO () -&gt; ExceptT NodeStartFailure (ResourceT IO) ()
forall a. IO a -&gt; ExceptT NodeStartFailure (ResourceT IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ExceptT NodeStartFailure (ResourceT IO) ())
-&gt; IO () -&gt; ExceptT NodeStartFailure (ResourceT IO) ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">HasCallStack =&gt; String -&gt; IO ()
String -&gt; IO ()
</span><a href="Testnet.Runtime.html#createDirectoryIfMissingNew_"><span class="hs-identifier hs-var">createDirectoryIfMissingNew_</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; String -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414416"><span class="hs-identifier hs-var">logDir</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/filepath-1.4.100.4/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414321"><span class="hs-identifier hs-var">node</span></a></span><span>
</span><span id="line-205"></span><span>  </span><span class="annot"><span class="annottext">ExceptT NodeStartFailure (ResourceT IO) String
-&gt; ExceptT NodeStartFailure (ResourceT IO) ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#void"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT NodeStartFailure (ResourceT IO) String
 -&gt; ExceptT NodeStartFailure (ResourceT IO) ())
-&gt; (IO String -&gt; ExceptT NodeStartFailure (ResourceT IO) String)
-&gt; IO String
-&gt; ExceptT NodeStartFailure (ResourceT IO) ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IO String -&gt; ExceptT NodeStartFailure (ResourceT IO) String
forall a. IO a -&gt; ExceptT NodeStartFailure (ResourceT IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO String -&gt; ExceptT NodeStartFailure (ResourceT IO) ())
-&gt; IO String -&gt; ExceptT NodeStartFailure (ResourceT IO) ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">HasCallStack =&gt; String -&gt; String -&gt; IO String
String -&gt; String -&gt; IO String
</span><a href="Testnet.Runtime.html#createSubdirectoryIfMissingNew"><span class="hs-identifier hs-var">createSubdirectoryIfMissingNew</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414412"><span class="hs-identifier hs-var">tempBaseAbsPath</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414414"><span class="hs-identifier hs-var">socketDir</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/filepath-1.4.100.4/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414321"><span class="hs-identifier hs-var">node</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679414422"><span class="annot"><span class="annottext">nodeStdoutFile :: String
</span><a href="#local-6989586621679414422"><span class="hs-identifier hs-var hs-var">nodeStdoutFile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414416"><span class="hs-identifier hs-var">logDir</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/filepath-1.4.100.4/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414321"><span class="hs-identifier hs-var">node</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/filepath-1.4.100.4/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;stdout.log&quot;</span></span><span>
</span><span id="line-208"></span><span>      </span><span id="local-6989586621679414423"><span class="annot"><span class="annottext">nodeStderrFile :: String
</span><a href="#local-6989586621679414423"><span class="hs-identifier hs-var hs-var">nodeStderrFile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414416"><span class="hs-identifier hs-var">logDir</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/filepath-1.4.100.4/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414321"><span class="hs-identifier hs-var">node</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/filepath-1.4.100.4/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;stderr.log&quot;</span></span><span>
</span><span id="line-209"></span><span>      </span><span id="local-6989586621679414424"><span class="annot"><span class="annottext">socketRelPath :: String
</span><a href="#local-6989586621679414424"><span class="hs-identifier hs-var hs-var">socketRelPath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414414"><span class="hs-identifier hs-var">socketDir</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/filepath-1.4.100.4/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414321"><span class="hs-identifier hs-var">node</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/filepath-1.4.100.4/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;sock&quot;</span></span><span>
</span><span id="line-210"></span><span>      </span><span id="local-6989586621679414425"><span class="annot"><span class="annottext">sprocket :: Sprocket
</span><a href="#local-6989586621679414425"><span class="hs-identifier hs-var hs-var">sprocket</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Sprocket
</span><a href="file:///nix/store/8f9aaw4y4659m6yzrvgf27y4hinji3rx-hedgehog-extras-lib-hedgehog-extras-0.6.0.2-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Stock.IO.Network.Sprocket.html#Sprocket"><span class="hs-identifier hs-var">Sprocket</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414412"><span class="hs-identifier hs-var">tempBaseAbsPath</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414424"><span class="hs-identifier hs-var">socketRelPath</span></a></span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span>  </span><span id="local-6989586621679414427"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679414427"><span class="hs-identifier hs-var">hNodeStdout</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(IOException -&gt; NodeStartFailure)
-&gt; IO Handle -&gt; ExceptT NodeStartFailure (ResourceT IO) Handle
forall (m :: * -&gt; *) x a.
MonadIO m =&gt;
(IOException -&gt; x) -&gt; IO a -&gt; ExceptT x m a
</span><a href="file:///nix/store/srn6bsn7d18q6zw42x7hh4yazaq31pm5-transformers-except-lib-transformers-except-0.1.4-haddock-doc/share/doc/transformers-except/html/src/Control.Monad.Trans.Except.Extra.html#handleIOExceptT"><span class="hs-identifier hs-var">handleIOExceptT</span></a></span><span> </span><span class="annot"><span class="annottext">IOException -&gt; NodeStartFailure
</span><a href="Testnet.Runtime.html#FileRelatedFailure"><span class="hs-identifier hs-var">FileRelatedFailure</span></a></span><span> </span><span class="annot"><span class="annottext">(IO Handle -&gt; ExceptT NodeStartFailure (ResourceT IO) Handle)
-&gt; IO Handle -&gt; ExceptT NodeStartFailure (ResourceT IO) Handle
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; IOMode -&gt; IO Handle
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.StdHandles.html#openFile"><span class="hs-identifier hs-var">IO.openFile</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414422"><span class="hs-identifier hs-var">nodeStdoutFile</span></a></span><span> </span><span class="annot"><span class="annottext">IOMode
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.IOMode.html#WriteMode"><span class="hs-identifier hs-var">IO.WriteMode</span></a></span><span>
</span><span id="line-213"></span><span>  </span><span id="local-6989586621679414431"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679414431"><span class="hs-identifier hs-var">hNodeStderr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(IOException -&gt; NodeStartFailure)
-&gt; IO Handle -&gt; ExceptT NodeStartFailure (ResourceT IO) Handle
forall (m :: * -&gt; *) x a.
MonadIO m =&gt;
(IOException -&gt; x) -&gt; IO a -&gt; ExceptT x m a
</span><a href="file:///nix/store/srn6bsn7d18q6zw42x7hh4yazaq31pm5-transformers-except-lib-transformers-except-0.1.4-haddock-doc/share/doc/transformers-except/html/src/Control.Monad.Trans.Except.Extra.html#handleIOExceptT"><span class="hs-identifier hs-var">handleIOExceptT</span></a></span><span> </span><span class="annot"><span class="annottext">IOException -&gt; NodeStartFailure
</span><a href="Testnet.Runtime.html#FileRelatedFailure"><span class="hs-identifier hs-var">FileRelatedFailure</span></a></span><span> </span><span class="annot"><span class="annottext">(IO Handle -&gt; ExceptT NodeStartFailure (ResourceT IO) Handle)
-&gt; IO Handle -&gt; ExceptT NodeStartFailure (ResourceT IO) Handle
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; IOMode -&gt; IO Handle
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.StdHandles.html#openFile"><span class="hs-identifier hs-var">IO.openFile</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414423"><span class="hs-identifier hs-var">nodeStderrFile</span></a></span><span> </span><span class="annot"><span class="annottext">IOMode
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.IOMode.html#ReadWriteMode"><span class="hs-identifier hs-var">IO.ReadWriteMode</span></a></span><span>
</span><span id="line-214"></span><span>
</span><span id="line-215"></span><span>  </span><span class="annot"><span class="annottext">Bool
-&gt; ExceptT NodeStartFailure (ResourceT IO) ()
-&gt; ExceptT NodeStartFailure (ResourceT IO) ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Foldable.html#length"><span class="hs-identifier hs-var">List.length</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sprocket -&gt; String
</span><a href="file:///nix/store/8f9aaw4y4659m6yzrvgf27y4hinji3rx-hedgehog-extras-lib-hedgehog-extras-0.6.0.2-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Stock.IO.Network.Sprocket.html#sprocketArgumentName"><span class="hs-identifier hs-var">H.sprocketArgumentName</span></a></span><span> </span><span class="annot"><span class="annottext">Sprocket
</span><a href="#local-6989586621679414425"><span class="hs-identifier hs-var">sprocket</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3C%3D"><span class="hs-operator hs-var">&lt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="file:///nix/store/8f9aaw4y4659m6yzrvgf27y4hinji3rx-hedgehog-extras-lib-hedgehog-extras-0.6.0.2-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Stock.IO.Network.Sprocket.html#maxSprocketArgumentNameLength"><span class="hs-identifier hs-var">H.maxSprocketArgumentNameLength</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ExceptT NodeStartFailure (ResourceT IO) ()
 -&gt; ExceptT NodeStartFailure (ResourceT IO) ())
-&gt; ExceptT NodeStartFailure (ResourceT IO) ()
-&gt; ExceptT NodeStartFailure (ResourceT IO) ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-216"></span><span>     </span><span class="annot"><span class="annottext">NodeStartFailure -&gt; ExceptT NodeStartFailure (ResourceT IO) ()
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><a href="file:///nix/store/srn6bsn7d18q6zw42x7hh4yazaq31pm5-transformers-except-lib-transformers-except-0.1.4-haddock-doc/share/doc/transformers-except/html/src/Control.Monad.Trans.Except.Extra.html#left"><span class="hs-identifier hs-var">left</span></a></span><span> </span><span class="annot"><span class="annottext">NodeStartFailure
</span><a href="Testnet.Runtime.html#MaxSprocketLengthExceededError"><span class="hs-identifier hs-var">MaxSprocketLengthExceededError</span></a></span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679414440"><span class="annot"><span class="annottext">portString :: String
</span><a href="#local-6989586621679414440"><span class="hs-identifier hs-var hs-var">portString</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679414322"><span class="hs-identifier hs-var">port</span></a></span><span>
</span><span id="line-219"></span><span>      </span><span id="local-6989586621679414441"><span class="annot"><span class="annottext">socketAbsPath :: String
</span><a href="#local-6989586621679414441"><span class="hs-identifier hs-var hs-var">socketAbsPath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sprocket -&gt; String
</span><a href="file:///nix/store/8f9aaw4y4659m6yzrvgf27y4hinji3rx-hedgehog-extras-lib-hedgehog-extras-0.6.0.2-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Stock.IO.Network.Sprocket.html#sprocketSystemName"><span class="hs-identifier hs-var">H.sprocketSystemName</span></a></span><span> </span><span class="annot"><span class="annottext">Sprocket
</span><a href="#local-6989586621679414425"><span class="hs-identifier hs-var">sprocket</span></a></span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span>  </span><span id="local-6989586621679414443"><span class="annot"><span class="annottext">CreateProcess
</span><a href="#local-6989586621679414443"><span class="hs-identifier hs-var">nodeProcess</span></a></span></span><span>
</span><span id="line-222"></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(ExecutableError -&gt; NodeStartFailure)
-&gt; ExceptT ExecutableError (ResourceT IO) CreateProcess
-&gt; ExceptT NodeStartFailure (ResourceT IO) CreateProcess
forall (m :: * -&gt; *) e e' a.
Functor m =&gt;
(e -&gt; e') -&gt; ExceptT e m a -&gt; ExceptT e' m a
</span><a href="file:///nix/store/srn6bsn7d18q6zw42x7hh4yazaq31pm5-transformers-except-lib-transformers-except-0.1.4-haddock-doc/share/doc/transformers-except/html/src/Control.Monad.Trans.Except.Extra.html#firstExceptT"><span class="hs-identifier hs-var">firstExceptT</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutableError -&gt; NodeStartFailure
</span><a href="Testnet.Runtime.html#ExecutableRelatedFailure"><span class="hs-identifier hs-var">ExecutableRelatedFailure</span></a></span><span>
</span><span id="line-223"></span><span>         </span><span class="annot"><span class="annottext">(ExceptT ExecutableError (ResourceT IO) CreateProcess
 -&gt; ExceptT NodeStartFailure (ResourceT IO) CreateProcess)
-&gt; ExceptT ExecutableError (ResourceT IO) CreateProcess
-&gt; ExceptT NodeStartFailure (ResourceT IO) CreateProcess
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(forall b. IO b -&gt; ResourceT IO b)
-&gt; ExceptT ExecutableError IO CreateProcess
-&gt; ExceptT ExecutableError (ResourceT IO) CreateProcess
forall (m :: * -&gt; *) (n :: * -&gt; *) x a.
(forall b. m b -&gt; n b) -&gt; ExceptT x m a -&gt; ExceptT x n a
</span><a href="file:///nix/store/srn6bsn7d18q6zw42x7hh4yazaq31pm5-transformers-except-lib-transformers-except-0.1.4-haddock-doc/share/doc/transformers-except/html/src/Control.Monad.Trans.Except.Extra.html#hoistExceptT"><span class="hs-identifier hs-var">hoistExceptT</span></a></span><span> </span><span class="annot"><span class="annottext">IO b -&gt; ResourceT IO b
forall b. IO b -&gt; ResourceT IO b
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ResourceT m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT ExecutableError IO CreateProcess
 -&gt; ExceptT ExecutableError (ResourceT IO) CreateProcess)
-&gt; ExceptT ExecutableError IO CreateProcess
-&gt; ExceptT ExecutableError (ResourceT IO) CreateProcess
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; ExceptT ExecutableError IO CreateProcess
</span><a href="Testnet.Process.Run.html#procNode"><span class="hs-identifier hs-var">procNode</span></a></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; ExceptT ExecutableError IO CreateProcess)
-&gt; [String] -&gt; ExceptT ExecutableError IO CreateProcess
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[[String]] -&gt; [String]
forall a. Monoid a =&gt; [a] -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#mconcat"><span class="hs-identifier hs-var">mconcat</span></a></span><span>
</span><span id="line-224"></span><span>                       </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679414324"><span class="hs-identifier hs-var">nodeCmd</span></a></span><span>
</span><span id="line-225"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--socket-path&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Sprocket -&gt; String
</span><a href="file:///nix/store/8f9aaw4y4659m6yzrvgf27y4hinji3rx-hedgehog-extras-lib-hedgehog-extras-0.6.0.2-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Stock.IO.Network.Sprocket.html#sprocketArgumentName"><span class="hs-identifier hs-var">H.sprocketArgumentName</span></a></span><span> </span><span class="annot"><span class="annottext">Sprocket
</span><a href="#local-6989586621679414425"><span class="hs-identifier hs-var">sprocket</span></a></span><span>
</span><span id="line-226"></span><span>                         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--port&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414440"><span class="hs-identifier hs-var">portString</span></a></span><span>
</span><span id="line-227"></span><span>                         </span><span class="hs-special">]</span><span>
</span><span id="line-228"></span><span>                       </span><span class="hs-special">]</span><span>
</span><span id="line-229"></span><span>
</span><span id="line-230"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679414450"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679414450"><span class="hs-identifier hs-var">stdIn</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Handle
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Handle
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679414451"><span class="annot"><span class="annottext">ProcessHandle
</span><a href="#local-6989586621679414451"><span class="hs-identifier hs-var">hProcess</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ReleaseKey
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>
</span><span id="line-231"></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(ProcessError -&gt; NodeStartFailure)
-&gt; ExceptT
     ProcessError
     (ResourceT IO)
     (Maybe Handle, Maybe Handle, Maybe Handle, ProcessHandle,
      ReleaseKey)
-&gt; ExceptT
     NodeStartFailure
     (ResourceT IO)
     (Maybe Handle, Maybe Handle, Maybe Handle, ProcessHandle,
      ReleaseKey)
forall (m :: * -&gt; *) e e' a.
Functor m =&gt;
(e -&gt; e') -&gt; ExceptT e m a -&gt; ExceptT e' m a
</span><a href="file:///nix/store/srn6bsn7d18q6zw42x7hh4yazaq31pm5-transformers-except-lib-transformers-except-0.1.4-haddock-doc/share/doc/transformers-except/html/src/Control.Monad.Trans.Except.Extra.html#firstExceptT"><span class="hs-identifier hs-var">firstExceptT</span></a></span><span> </span><span class="annot"><span class="annottext">ProcessError -&gt; NodeStartFailure
</span><a href="Testnet.Runtime.html#ProcessRelatedFailure"><span class="hs-identifier hs-var">ProcessRelatedFailure</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT
   ProcessError
   (ResourceT IO)
   (Maybe Handle, Maybe Handle, Maybe Handle, ProcessHandle,
    ReleaseKey)
 -&gt; ExceptT
      NodeStartFailure
      (ResourceT IO)
      (Maybe Handle, Maybe Handle, Maybe Handle, ProcessHandle,
       ReleaseKey))
-&gt; ExceptT
     ProcessError
     (ResourceT IO)
     (Maybe Handle, Maybe Handle, Maybe Handle, ProcessHandle,
      ReleaseKey)
-&gt; ExceptT
     NodeStartFailure
     (ResourceT IO)
     (Maybe Handle, Maybe Handle, Maybe Handle, ProcessHandle,
      ReleaseKey)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CreateProcess
-&gt; ExceptT
     ProcessError
     (ResourceT IO)
     (Maybe Handle, Maybe Handle, Maybe Handle, ProcessHandle,
      ReleaseKey)
</span><a href="Testnet.Process.Run.html#initiateProcess"><span class="hs-identifier hs-var">initiateProcess</span></a></span><span>
</span><span id="line-232"></span><span>          </span><span class="annot"><span class="annottext">(CreateProcess
 -&gt; ExceptT
      ProcessError
      (ResourceT IO)
      (Maybe Handle, Maybe Handle, Maybe Handle, ProcessHandle,
       ReleaseKey))
-&gt; CreateProcess
-&gt; ExceptT
     ProcessError
     (ResourceT IO)
     (Maybe Handle, Maybe Handle, Maybe Handle, ProcessHandle,
      ReleaseKey)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CreateProcess
</span><a href="#local-6989586621679414443"><span class="hs-identifier hs-var">nodeProcess</span></a></span><span>
</span><span id="line-233"></span><span>             </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/process-1.6.17.0/src/System.Process.Common.html#std_in"><span class="hs-identifier hs-var">IO.std_in</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/process-1.6.17.0/src/System.Process.Common.html#CreatePipe"><span class="hs-identifier hs-type">IO.CreatePipe</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/process-1.6.17.0/src/System.Process.Common.html#std_out"><span class="hs-identifier hs-var">IO.std_out</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/process-1.6.17.0/src/System.Process.Common.html#UseHandle"><span class="hs-identifier hs-type">IO.UseHandle</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679414427"><span class="hs-identifier hs-type">hNodeStdout</span></a></span><span>
</span><span id="line-234"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/process-1.6.17.0/src/System.Process.Common.html#std_err"><span class="hs-identifier hs-var">IO.std_err</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/process-1.6.17.0/src/System.Process.Common.html#UseHandle"><span class="hs-identifier hs-type">IO.UseHandle</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679414431"><span class="hs-identifier hs-type">hNodeStderr</span></a></span><span>
</span><span id="line-235"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/process-1.6.17.0/src/System.Process.Common.html#cwd"><span class="hs-identifier hs-var">IO.cwd</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679414412"><span class="hs-identifier hs-type">tempBaseAbsPath</span></a></span><span>
</span><span id="line-236"></span><span>             </span><span class="hs-special">}</span><span>
</span><span id="line-237"></span><span>
</span><span id="line-238"></span><span>  </span><span class="hs-comment">-- We force the evaluation of initiateProcess so we can be sure that</span><span>
</span><span id="line-239"></span><span>  </span><span class="hs-comment">-- the process has started. This allows us to read stderr in order</span><span>
</span><span id="line-240"></span><span>  </span><span class="hs-comment">-- to fail early on errors generated from the cardano-node binary.</span><span>
</span><span id="line-241"></span><span>  </span><span class="annot"><span class="annottext">Pid
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Maybe Pid)
-&gt; ExceptT NodeStartFailure (ResourceT IO) (Maybe Pid)
forall a. IO a -&gt; ExceptT NodeStartFailure (ResourceT IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProcessHandle -&gt; IO (Maybe Pid)
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/process-1.6.17.0/src/System.Process.html#getPid"><span class="hs-identifier hs-var">IO.getPid</span></a></span><span> </span><span class="annot"><span class="annottext">ProcessHandle
</span><a href="#local-6989586621679414451"><span class="hs-identifier hs-var">hProcess</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-242"></span><span>    </span><span class="annot"><span class="annottext">ExceptT NodeStartFailure (ResourceT IO) (Maybe Pid)
-&gt; (Maybe Pid -&gt; ExceptT NodeStartFailure (ResourceT IO) Pid)
-&gt; ExceptT NodeStartFailure (ResourceT IO) Pid
forall a b.
ExceptT NodeStartFailure (ResourceT IO) a
-&gt; (a -&gt; ExceptT NodeStartFailure (ResourceT IO) b)
-&gt; ExceptT NodeStartFailure (ResourceT IO) b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">NodeStartFailure
-&gt; Maybe Pid -&gt; ExceptT NodeStartFailure (ResourceT IO) Pid
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; Maybe a -&gt; ExceptT x m a
</span><a href="file:///nix/store/srn6bsn7d18q6zw42x7hh4yazaq31pm5-transformers-except-lib-transformers-except-0.1.4-haddock-doc/share/doc/transformers-except/html/src/Control.Monad.Trans.Except.Extra.html#hoistMaybe"><span class="hs-identifier hs-var">hoistMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; NodeStartFailure
</span><a href="Testnet.Runtime.html#NodeExecutableError"><span class="hs-identifier hs-var">NodeExecutableError</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; NodeStartFailure) -&gt; String -&gt; NodeStartFailure
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
forall a. Monoid a =&gt; [a] -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#mconcat"><span class="hs-identifier hs-var">mconcat</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;startNode: &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414321"><span class="hs-identifier hs-var">node</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'s process did not start.&quot;</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span>  </span><span class="hs-comment">-- allow network to thermalize before proceeding</span><span>
</span><span id="line-245"></span><span>  </span><span class="hs-comment">-- FIXME: use ledger events to listen here instead of this workaround</span><span>
</span><span id="line-246"></span><span>  </span><span class="annot"><span class="annottext">IO () -&gt; ExceptT NodeStartFailure (ResourceT IO) ()
forall a. IO a -&gt; ExceptT NodeStartFailure (ResourceT IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ExceptT NodeStartFailure (ResourceT IO) ())
-&gt; IO () -&gt; ExceptT NodeStartFailure (ResourceT IO) ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DiffTime -&gt; IO ()
forall (m :: * -&gt; *). MonadDelay m =&gt; DiffTime -&gt; m ()
</span><a href="file:///nix/store/qknajxpm2sljcpb4h8b8lq3a71zy0vy6-si-timers-lib-si-timers-1.3.0.0-haddock-doc/share/doc/si-timers/html/src/Control.Monad.Class.MonadTimer.SI.html#threadDelay"><span class="hs-identifier hs-var">MT.threadDelay</span></a></span><span> </span><span class="annot"><span class="annottext">DiffTime
</span><span class="hs-number">10</span></span><span>
</span><span id="line-247"></span><span>
</span><span id="line-248"></span><span>  </span><span class="hs-comment">-- Wait for socket to be created</span><span>
</span><span id="line-249"></span><span>  </span><span id="local-6989586621679414462"><span class="annot"><span class="annottext">Either IOException ()
</span><a href="#local-6989586621679414462"><span class="hs-identifier hs-var">eSprocketError</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-250"></span><span>    </span><span class="annot"><span class="annottext">DiffTime
-&gt; DiffTime
-&gt; Sprocket
-&gt; ExceptT NodeStartFailure (ResourceT IO) (Either IOException ())
forall (m :: * -&gt; *).
MonadIO m =&gt;
DiffTime -&gt; DiffTime -&gt; Sprocket -&gt; m (Either IOException ())
</span><a href="Testnet.Ping.html#waitForSprocket"><span class="hs-identifier hs-var">Ping.waitForSprocket</span></a></span><span>
</span><span id="line-251"></span><span>      </span><span class="annot"><span class="annottext">DiffTime
</span><span class="hs-number">20</span></span><span>  </span><span class="hs-comment">-- timeout</span><span>
</span><span id="line-252"></span><span>      </span><span class="annot"><span class="annottext">DiffTime
</span><span class="hs-number">0.2</span></span><span> </span><span class="hs-comment">-- check interval</span><span>
</span><span id="line-253"></span><span>      </span><span class="annot"><span class="annottext">Sprocket
</span><a href="#local-6989586621679414425"><span class="hs-identifier hs-var">sprocket</span></a></span><span>
</span><span id="line-254"></span><span>
</span><span id="line-255"></span><span>  </span><span class="hs-comment">-- If we do have anything on stderr, fail.</span><span>
</span><span id="line-256"></span><span>  </span><span id="local-6989586621679414464"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414464"><span class="hs-identifier hs-var">stdErrContents</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO String -&gt; ExceptT NodeStartFailure (ResourceT IO) String
forall a. IO a -&gt; ExceptT NodeStartFailure (ResourceT IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO String -&gt; ExceptT NodeStartFailure (ResourceT IO) String)
-&gt; IO String -&gt; ExceptT NodeStartFailure (ResourceT IO) String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; IO String
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/System.IO.html#readFile"><span class="hs-identifier hs-var">IO.readFile</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414423"><span class="hs-identifier hs-var">nodeStderrFile</span></a></span><span>
</span><span id="line-257"></span><span>  </span><span class="annot"><span class="annottext">Bool
-&gt; ExceptT NodeStartFailure (ResourceT IO) ()
-&gt; ExceptT NodeStartFailure (ResourceT IO) ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414464"><span class="hs-identifier hs-var">stdErrContents</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-258"></span><span>    </span><span class="annot"><span class="annottext">(ExceptT NodeStartFailure (ResourceT IO) ()
 -&gt; ExceptT NodeStartFailure (ResourceT IO) ())
-&gt; ExceptT NodeStartFailure (ResourceT IO) ()
-&gt; ExceptT NodeStartFailure (ResourceT IO) ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">NodeStartFailure -&gt; ExceptT NodeStartFailure (ResourceT IO) ()
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><a href="file:///nix/store/srn6bsn7d18q6zw42x7hh4yazaq31pm5-transformers-except-lib-transformers-except-0.1.4-haddock-doc/share/doc/transformers-except/html/src/Control.Monad.Trans.Except.Extra.html#left"><span class="hs-identifier hs-var">left</span></a></span><span> </span><span class="annot"><span class="annottext">(NodeStartFailure -&gt; ExceptT NodeStartFailure (ResourceT IO) ())
-&gt; NodeStartFailure -&gt; ExceptT NodeStartFailure (ResourceT IO) ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; NodeStartFailure
</span><a href="Testnet.Runtime.html#NodeExecutableError"><span class="hs-identifier hs-var">NodeExecutableError</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414464"><span class="hs-identifier hs-var">stdErrContents</span></a></span><span>
</span><span id="line-259"></span><span>
</span><span id="line-260"></span><span>  </span><span class="hs-comment">-- No stderr and no socket? Fail.</span><span>
</span><span id="line-261"></span><span>  </span><span class="annot"><span class="annottext">(IOException -&gt; NodeStartFailure)
-&gt; ExceptT IOException (ResourceT IO) ()
-&gt; ExceptT NodeStartFailure (ResourceT IO) ()
forall (m :: * -&gt; *) e e' a.
Functor m =&gt;
(e -&gt; e') -&gt; ExceptT e m a -&gt; ExceptT e' m a
</span><a href="file:///nix/store/srn6bsn7d18q6zw42x7hh4yazaq31pm5-transformers-except-lib-transformers-except-0.1.4-haddock-doc/share/doc/transformers-except/html/src/Control.Monad.Trans.Except.Extra.html#firstExceptT"><span class="hs-identifier hs-var">firstExceptT</span></a></span><span>
</span><span id="line-262"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679414467"><span class="annot"><span class="annottext">IOException
</span><a href="#local-6989586621679414467"><span class="hs-identifier hs-var">ioex</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-263"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; NodeStartFailure
</span><a href="Testnet.Runtime.html#NodeExecutableError"><span class="hs-identifier hs-var">NodeExecutableError</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; NodeStartFailure)
-&gt; ([String] -&gt; String) -&gt; [String] -&gt; NodeStartFailure
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
forall a. Monoid a =&gt; [a] -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#mconcat"><span class="hs-identifier hs-var">mconcat</span></a></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; NodeStartFailure) -&gt; [String] -&gt; NodeStartFailure
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-264"></span><span>        </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Socket &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414441"><span class="hs-identifier hs-var">socketAbsPath</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; was not created after 20 seconds. There was no output on stderr. Exception: &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IOException -&gt; String
forall e. Exception e =&gt; e -&gt; String
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Exception.Type.html#displayException"><span class="hs-identifier hs-var">displayException</span></a></span><span> </span><span class="annot"><span class="annottext">IOException
</span><a href="#local-6989586621679414467"><span class="hs-identifier hs-var">ioex</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-265"></span><span>    </span><span class="annot"><span class="annottext">(ExceptT IOException (ResourceT IO) ()
 -&gt; ExceptT NodeStartFailure (ResourceT IO) ())
-&gt; ExceptT IOException (ResourceT IO) ()
-&gt; ExceptT NodeStartFailure (ResourceT IO) ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Either IOException () -&gt; ExceptT IOException (ResourceT IO) ()
forall (m :: * -&gt; *) x a. Monad m =&gt; Either x a -&gt; ExceptT x m a
</span><a href="file:///nix/store/srn6bsn7d18q6zw42x7hh4yazaq31pm5-transformers-except-lib-transformers-except-0.1.4-haddock-doc/share/doc/transformers-except/html/src/Control.Monad.Trans.Except.Extra.html#hoistEither"><span class="hs-identifier hs-var">hoistEither</span></a></span><span> </span><span class="annot"><span class="annottext">Either IOException ()
</span><a href="#local-6989586621679414462"><span class="hs-identifier hs-var">eSprocketError</span></a></span><span>
</span><span id="line-266"></span><span>
</span><span id="line-267"></span><span>  </span><span class="hs-comment">-- Ping node and fail on error</span><span>
</span><span id="line-268"></span><span>  </span><span class="annot"><span class="annottext">TestnetMagic
-&gt; Sprocket
-&gt; ExceptT
     NodeStartFailure (ResourceT IO) (Either PingClientError ())
forall (m :: * -&gt; *).
MonadIO m =&gt;
TestnetMagic -&gt; Sprocket -&gt; m (Either PingClientError ())
</span><a href="Testnet.Ping.html#pingNode"><span class="hs-identifier hs-var">Ping.pingNode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; TestnetMagic
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679414323"><span class="hs-identifier hs-var">testnetMagic</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Sprocket
</span><a href="#local-6989586621679414425"><span class="hs-identifier hs-var">sprocket</span></a></span><span>
</span><span id="line-269"></span><span>    </span><span class="annot"><span class="annottext">ExceptT NodeStartFailure (ResourceT IO) (Either PingClientError ())
-&gt; (Either PingClientError ()
    -&gt; ExceptT NodeStartFailure (ResourceT IO) ())
-&gt; ExceptT NodeStartFailure (ResourceT IO) ()
forall a b.
ExceptT NodeStartFailure (ResourceT IO) a
-&gt; (a -&gt; ExceptT NodeStartFailure (ResourceT IO) b)
-&gt; ExceptT NodeStartFailure (ResourceT IO) b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PingClientError -&gt; NodeStartFailure)
-&gt; ExceptT PingClientError (ResourceT IO) ()
-&gt; ExceptT NodeStartFailure (ResourceT IO) ()
forall (m :: * -&gt; *) e e' a.
Functor m =&gt;
(e -&gt; e') -&gt; ExceptT e m a -&gt; ExceptT e' m a
</span><a href="file:///nix/store/srn6bsn7d18q6zw42x7hh4yazaq31pm5-transformers-except-lib-transformers-except-0.1.4-haddock-doc/share/doc/transformers-except/html/src/Control.Monad.Trans.Except.Extra.html#firstExceptT"><span class="hs-identifier hs-var">firstExceptT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; NodeStartFailure
</span><a href="Testnet.Runtime.html#NodeExecutableError"><span class="hs-identifier hs-var">NodeExecutableError</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; NodeStartFailure)
-&gt; (PingClientError -&gt; String)
-&gt; PingClientError
-&gt; NodeStartFailure
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Doc AnsiStyle -&gt; String
</span><span class="hs-identifier hs-var">docToString</span></span><span> </span><span class="annot"><span class="annottext">(Doc AnsiStyle -&gt; String)
-&gt; (PingClientError -&gt; Doc AnsiStyle) -&gt; PingClientError -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc AnsiStyle
</span><span class="hs-string">&quot;Ping error:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc AnsiStyle -&gt; Doc AnsiStyle -&gt; Doc AnsiStyle
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="file:///nix/store/mxx6313ghs5h1gb6halnfhd81hqnc5cr-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src/Prettyprinter.Internal.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Doc AnsiStyle -&gt; Doc AnsiStyle)
-&gt; (PingClientError -&gt; Doc AnsiStyle)
-&gt; PingClientError
-&gt; Doc AnsiStyle
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">PingClientError -&gt; Doc AnsiStyle
forall e ann. Error e =&gt; e -&gt; Doc ann
forall ann. PingClientError -&gt; Doc ann
</span><span class="hs-identifier hs-var">prettyError</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ExceptT PingClientError (ResourceT IO) ()
 -&gt; ExceptT NodeStartFailure (ResourceT IO) ())
-&gt; (Either PingClientError ()
    -&gt; ExceptT PingClientError (ResourceT IO) ())
-&gt; Either PingClientError ()
-&gt; ExceptT NodeStartFailure (ResourceT IO) ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Either PingClientError ()
-&gt; ExceptT PingClientError (ResourceT IO) ()
forall (m :: * -&gt; *) x a. Monad m =&gt; Either x a -&gt; ExceptT x m a
</span><a href="file:///nix/store/srn6bsn7d18q6zw42x7hh4yazaq31pm5-transformers-except-lib-transformers-except-0.1.4-haddock-doc/share/doc/transformers-except/html/src/Control.Monad.Trans.Except.Extra.html#hoistEither"><span class="hs-identifier hs-var">hoistEither</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-270"></span><span>
</span><span id="line-271"></span><span>  </span><span class="annot"><span class="annottext">NodeRuntime -&gt; ExceptT NodeStartFailure (ResourceT IO) NodeRuntime
forall a. a -&gt; ExceptT NodeStartFailure (ResourceT IO) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(NodeRuntime
 -&gt; ExceptT NodeStartFailure (ResourceT IO) NodeRuntime)
-&gt; NodeRuntime
-&gt; ExceptT NodeStartFailure (ResourceT IO) NodeRuntime
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
-&gt; Sprocket
-&gt; Handle
-&gt; String
-&gt; String
-&gt; ProcessHandle
-&gt; NodeRuntime
</span><a href="Testnet.Runtime.html#NodeRuntime"><span class="hs-identifier hs-var">NodeRuntime</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414321"><span class="hs-identifier hs-var">node</span></a></span><span> </span><span class="annot"><span class="annottext">Sprocket
</span><a href="#local-6989586621679414425"><span class="hs-identifier hs-var">sprocket</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679414450"><span class="hs-identifier hs-var">stdIn</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414422"><span class="hs-identifier hs-var">nodeStdoutFile</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414423"><span class="hs-identifier hs-var">nodeStderrFile</span></a></span><span> </span><span class="annot"><span class="annottext">ProcessHandle
</span><a href="#local-6989586621679414451"><span class="hs-identifier hs-var">hProcess</span></a></span><span>
</span><span id="line-272"></span><span>
</span><span id="line-273"></span><span>
</span><span id="line-274"></span><span class="annot"><a href="Testnet.Runtime.html#createDirectoryIfMissingNew"><span class="hs-identifier hs-type">createDirectoryIfMissingNew</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Stack.Types.html#HasCallStack"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span>
</span><span id="line-275"></span><span id="createDirectoryIfMissingNew"><span class="annot"><span class="annottext">createDirectoryIfMissingNew :: HasCallStack =&gt; String -&gt; IO String
</span><a href="Testnet.Runtime.html#createDirectoryIfMissingNew"><span class="hs-identifier hs-var hs-var">createDirectoryIfMissingNew</span></a></span></span><span> </span><span id="local-6989586621679414476"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414476"><span class="hs-identifier hs-var">directory</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(HasCallStack =&gt; IO String) -&gt; IO String
forall a. HasCallStack =&gt; (HasCallStack =&gt; a) -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Stack.html#withFrozenCallStack"><span class="hs-identifier hs-var">GHC.withFrozenCallStack</span></a></span><span> </span><span class="annot"><span class="annottext">((HasCallStack =&gt; IO String) -&gt; IO String)
-&gt; (HasCallStack =&gt; IO String) -&gt; IO String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-276"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; String -&gt; IO ()
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/directory-1.3.8.1/src/System.Directory.html#createDirectoryIfMissing"><span class="hs-identifier hs-var">IO.createDirectoryIfMissing</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414476"><span class="hs-identifier hs-var">directory</span></a></span><span>
</span><span id="line-277"></span><span>  </span><span class="annot"><span class="annottext">String -&gt; IO String
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414476"><span class="hs-identifier hs-var">directory</span></a></span><span>
</span><span id="line-278"></span><span>
</span><span id="line-279"></span><span class="annot"><a href="Testnet.Runtime.html#createDirectoryIfMissingNew_"><span class="hs-identifier hs-type">createDirectoryIfMissingNew_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Stack.Types.html#HasCallStack"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-280"></span><span id="createDirectoryIfMissingNew_"><span class="annot"><span class="annottext">createDirectoryIfMissingNew_ :: HasCallStack =&gt; String -&gt; IO ()
</span><a href="Testnet.Runtime.html#createDirectoryIfMissingNew_"><span class="hs-identifier hs-var hs-var">createDirectoryIfMissingNew_</span></a></span></span><span> </span><span id="local-6989586621679414485"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414485"><span class="hs-identifier hs-var">directory</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(HasCallStack =&gt; IO ()) -&gt; IO ()
forall a. HasCallStack =&gt; (HasCallStack =&gt; a) -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Stack.html#withFrozenCallStack"><span class="hs-identifier hs-var">GHC.withFrozenCallStack</span></a></span><span> </span><span class="annot"><span class="annottext">((HasCallStack =&gt; IO ()) -&gt; IO ())
-&gt; (HasCallStack =&gt; IO ()) -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-281"></span><span>  </span><span class="annot"><span class="annottext">IO String -&gt; IO ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#void"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="annot"><span class="annottext">(IO String -&gt; IO ()) -&gt; IO String -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">HasCallStack =&gt; String -&gt; IO String
String -&gt; IO String
</span><a href="Testnet.Runtime.html#createDirectoryIfMissingNew"><span class="hs-identifier hs-var">createDirectoryIfMissingNew</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414485"><span class="hs-identifier hs-var">directory</span></a></span><span>
</span><span id="line-282"></span><span>
</span><span id="line-283"></span><span class="annot"><a href="Testnet.Runtime.html#createSubdirectoryIfMissingNew"><span class="hs-identifier hs-type">createSubdirectoryIfMissingNew</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-284"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Stack.Types.html#HasCallStack"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span>
</span><span id="line-285"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span>
</span><span id="line-286"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span>
</span><span id="line-287"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span>
</span><span id="line-288"></span><span id="createSubdirectoryIfMissingNew"><span class="annot"><span class="annottext">createSubdirectoryIfMissingNew :: HasCallStack =&gt; String -&gt; String -&gt; IO String
</span><a href="Testnet.Runtime.html#createSubdirectoryIfMissingNew"><span class="hs-identifier hs-var hs-var">createSubdirectoryIfMissingNew</span></a></span></span><span> </span><span id="local-6989586621679414493"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414493"><span class="hs-identifier hs-var">parent</span></a></span></span><span> </span><span id="local-6989586621679414494"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414494"><span class="hs-identifier hs-var">subdirectory</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(HasCallStack =&gt; IO String) -&gt; IO String
forall a. HasCallStack =&gt; (HasCallStack =&gt; a) -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Stack.html#withFrozenCallStack"><span class="hs-identifier hs-var">GHC.withFrozenCallStack</span></a></span><span> </span><span class="annot"><span class="annottext">((HasCallStack =&gt; IO String) -&gt; IO String)
-&gt; (HasCallStack =&gt; IO String) -&gt; IO String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-289"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; String -&gt; IO ()
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/directory-1.3.8.1/src/System.Directory.html#createDirectoryIfMissing"><span class="hs-identifier hs-var">IO.createDirectoryIfMissing</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; String -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414493"><span class="hs-identifier hs-var">parent</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/filepath-1.4.100.4/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414494"><span class="hs-identifier hs-var">subdirectory</span></a></span><span>
</span><span id="line-290"></span><span>  </span><span class="annot"><span class="annottext">String -&gt; IO String
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414494"><span class="hs-identifier hs-var">subdirectory</span></a></span><span>
</span><span id="line-291"></span><span>
</span><span id="line-292"></span><span class="hs-comment">-- | Start ledger state logging for the first node in the background.</span><span>
</span><span id="line-293"></span><span class="hs-comment">-- Logs will be placed in &lt;tmp workspace directory&gt;/logs/ledger-state.log</span><span>
</span><span id="line-294"></span><span class="hs-comment">-- The logging thread will be cancelled when `MonadResource` releases all resources.</span><span>
</span><span id="line-295"></span><span class="annot"><a href="Testnet.Runtime.html#startLedgerStateLogging"><span class="hs-identifier hs-type">startLedgerStateLogging</span></a></span><span>
</span><span id="line-296"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679413842"><span class="annot"><a href="#local-6989586621679413842"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/exceptions-0.10.7/src/Control.Monad.Catch.html#MonadCatch"><span class="hs-identifier hs-type">MonadCatch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679413842"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-297"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/7q8prrmwhbgkvak2z07186f1ipfavkgf-resourcet-lib-resourcet-1.3.0-haddock-doc/share/doc/resourcet/html/src/Control.Monad.Trans.Resource.Internal.html#MonadResource"><span class="hs-identifier hs-type">MonadResource</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679413842"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-298"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/idj3ckkbn95630aws9w22d0183ip90b6-hedgehog-lib-hedgehog-1.4-haddock-doc/share/doc/hedgehog/html/src/Hedgehog.Internal.Property.html#MonadTest"><span class="hs-identifier hs-type">MonadTest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679413842"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-299"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Testnet.Runtime.html#TestnetRuntime"><span class="hs-identifier hs-type">TestnetRuntime</span></a></span><span>
</span><span id="line-300"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ tmp workspace directory</span></span><span>
</span><span id="line-301"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679413842"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-302"></span><span id="startLedgerStateLogging"><span class="annot"><span class="annottext">startLedgerStateLogging :: forall (m :: * -&gt; *).
(MonadCatch m, MonadResource m, MonadTest m) =&gt;
TestnetRuntime -&gt; String -&gt; m ()
</span><a href="Testnet.Runtime.html#startLedgerStateLogging"><span class="hs-identifier hs-var hs-var">startLedgerStateLogging</span></a></span></span><span> </span><span id="local-6989586621679414528"><span class="annot"><span class="annottext">TestnetRuntime
</span><a href="#local-6989586621679414528"><span class="hs-identifier hs-var">testnetRuntime</span></a></span></span><span> </span><span id="local-6989586621679414529"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414529"><span class="hs-identifier hs-var">tmpWorkspace</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-303"></span><span>  </span><span id="local-6989586621679414530"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414530"><span class="hs-identifier hs-var">socketPath</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m String -&gt; m String
forall (m :: * -&gt; *).
(MonadTest m, MonadCatch m, HasCallStack) =&gt;
m String -&gt; m String
</span><a href="file:///nix/store/8f9aaw4y4659m6yzrvgf27y4hinji3rx-hedgehog-extras-lib-hedgehog-extras-0.6.0.2-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Test.Base.html#noteM"><span class="hs-identifier hs-var">H.noteM</span></a></span><span> </span><span class="annot"><span class="annottext">(m String -&gt; m String) -&gt; m String -&gt; m String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Sprocket -&gt; String
</span><a href="file:///nix/store/8f9aaw4y4659m6yzrvgf27y4hinji3rx-hedgehog-extras-lib-hedgehog-extras-0.6.0.2-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Stock.IO.Network.Sprocket.html#sprocketSystemName"><span class="hs-identifier hs-var">H.sprocketSystemName</span></a></span><span> </span><span class="annot"><span class="annottext">(Sprocket -&gt; String) -&gt; m Sprocket -&gt; m String
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Sprocket] -&gt; m Sprocket
forall (m :: * -&gt; *) a. (MonadTest m, HasCallStack) =&gt; [a] -&gt; m a
</span><a href="file:///nix/store/8f9aaw4y4659m6yzrvgf27y4hinji3rx-hedgehog-extras-lib-hedgehog-extras-0.6.0.2-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Test.Base.html#headM"><span class="hs-identifier hs-var">H.headM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TestnetRuntime -&gt; [Sprocket]
</span><a href="Testnet.Runtime.html#poolSprockets"><span class="hs-identifier hs-var">poolSprockets</span></a></span><span> </span><span class="annot"><span class="annottext">TestnetRuntime
</span><a href="#local-6989586621679414528"><span class="hs-identifier hs-var">testnetRuntime</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-304"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679414533"><span class="annot"><span class="annottext">logFile :: String
</span><a href="#local-6989586621679414533"><span class="hs-identifier hs-var hs-var">logFile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TmpAbsolutePath -&gt; String
</span><a href="Testnet.Filepath.html#makeLogDir"><span class="hs-identifier hs-var">makeLogDir</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; TmpAbsolutePath
</span><a href="Testnet.Filepath.html#TmpAbsolutePath"><span class="hs-identifier hs-var">TmpAbsolutePath</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414529"><span class="hs-identifier hs-var">tmpWorkspace</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/filepath-1.4.100.4/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ledger-state.log&quot;</span></span><span>
</span><span id="line-305"></span><span>  </span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Either FoldBlocksError ()) -&gt; m ()
forall a. IO a -&gt; m ()
</span><a href="#local-6989586621679414535"><span class="hs-identifier hs-var">runInBackground</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either FoldBlocksError ()) -&gt; m ())
-&gt; (ExceptT FoldBlocksError IO ()
    -&gt; IO (Either FoldBlocksError ()))
-&gt; ExceptT FoldBlocksError IO ()
-&gt; m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ExceptT FoldBlocksError IO () -&gt; IO (Either FoldBlocksError ())
forall e (m :: * -&gt; *) a. ExceptT e m a -&gt; m (Either e a)
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#runExceptT"><span class="hs-identifier hs-var">runExceptT</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT FoldBlocksError IO () -&gt; m ())
-&gt; ExceptT FoldBlocksError IO () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-306"></span><span>    </span><span class="annot"><span class="annottext">NodeConfigFile 'In
-&gt; SocketPath
-&gt; ValidationMode
-&gt; ()
-&gt; (Env
    -&gt; LedgerState
    -&gt; [LedgerEvent]
    -&gt; BlockInMode
    -&gt; ()
    -&gt; IO ((), FoldStatus))
-&gt; ExceptT FoldBlocksError IO ()
forall a (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *).
(Show a, MonadIOTransError FoldBlocksError t m) =&gt;
NodeConfigFile 'In
-&gt; SocketPath
-&gt; ValidationMode
-&gt; a
-&gt; (Env
    -&gt; LedgerState
    -&gt; [LedgerEvent]
    -&gt; BlockInMode
    -&gt; a
    -&gt; IO (a, FoldStatus))
-&gt; t m a
</span><span class="hs-identifier hs-var">foldBlocks</span></span><span>
</span><span id="line-307"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; NodeConfigFile 'In
forall content (direction :: FileDirection).
String -&gt; File content direction
</span><span class="hs-identifier hs-var">File</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; NodeConfigFile 'In) -&gt; String -&gt; NodeConfigFile 'In
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TestnetRuntime -&gt; String
</span><a href="Testnet.Runtime.html#%24sel%3AconfigurationFile%3ATestnetRuntime"><span class="hs-identifier hs-var">configurationFile</span></a></span><span> </span><span class="annot"><span class="annottext">TestnetRuntime
</span><a href="#local-6989586621679414528"><span class="hs-identifier hs-var">testnetRuntime</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-308"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SocketPath
forall content (direction :: FileDirection).
String -&gt; File content direction
</span><span class="hs-identifier hs-var">Api.File</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414530"><span class="hs-identifier hs-var">socketPath</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-309"></span><span>      </span><span class="annot"><span class="annottext">ValidationMode
</span><span class="hs-identifier hs-var">Api.QuickValidation</span></span><span>
</span><span id="line-310"></span><span>      </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-311"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
-&gt; Env
-&gt; LedgerState
-&gt; [LedgerEvent]
-&gt; BlockInMode
-&gt; ()
-&gt; IO ((), FoldStatus)
forall {a} {p} {p} {p} {p}.
Show a =&gt;
String -&gt; p -&gt; a -&gt; p -&gt; p -&gt; p -&gt; IO ((), FoldStatus)
</span><a href="#local-6989586621679414539"><span class="hs-identifier hs-var">handler</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414533"><span class="hs-identifier hs-var">logFile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-312"></span><span>  </span><span class="annot"><span class="annottext">() -&gt; m ()
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-313"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-314"></span><span>    </span><span class="hs-comment">-- handler :: FilePath -&gt; Env -&gt; LedgerState -&gt; [LedgerEvent] -&gt; BlockInMode -&gt; () -&gt; IO ((), FoldStatus)</span><span>
</span><span id="line-315"></span><span>    </span><span id="local-6989586621679414539"><span class="annot"><span class="annottext">handler :: String -&gt; p -&gt; a -&gt; p -&gt; p -&gt; p -&gt; IO ((), FoldStatus)
</span><a href="#local-6989586621679414539"><span class="hs-identifier hs-var hs-var">handler</span></a></span></span><span> </span><span id="local-6989586621679414551"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414551"><span class="hs-identifier hs-var">outputFp</span></a></span></span><span> </span><span class="annot"><span class="annottext">p
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679414552"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679414552"><span class="hs-identifier hs-var">ledgerState</span></a></span></span><span> </span><span class="annot"><span class="annottext">p
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">p
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">p
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-316"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; String -&gt; IO ()
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/System.IO.html#appendFile"><span class="hs-identifier hs-var">appendFile</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414551"><span class="hs-identifier hs-var">outputFp</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; String -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;#### BLOCK ####&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\n&quot;</span></span><span>
</span><span id="line-317"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; String -&gt; IO ()
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/System.IO.html#appendFile"><span class="hs-identifier hs-var">appendFile</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679414551"><span class="hs-identifier hs-var">outputFp</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; String -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679414552"><span class="hs-identifier hs-var">ledgerState</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\n&quot;</span></span><span>
</span><span id="line-318"></span><span>      </span><span class="annot"><span class="annottext">((), FoldStatus) -&gt; IO ((), FoldStatus)
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FoldStatus
</span><span class="hs-identifier hs-var">ContinueFold</span></span><span class="hs-special">)</span><span>
</span><span id="line-319"></span><span>    </span><span class="hs-comment">-- | Runs an action in background, and registers cleanup to `MonadResource m`</span><span>
</span><span id="line-320"></span><span>    </span><span class="hs-comment">-- The argument forces IO monad to prevent leaking of `MonadResource` to the child thread</span><span>
</span><span id="line-321"></span><span>    </span><span id="local-6989586621679413854"><span class="annot"><a href="#local-6989586621679414535"><span class="hs-identifier hs-type">runInBackground</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679413854"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679413842"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-322"></span><span>    </span><span id="local-6989586621679414535"><span class="annot"><span class="annottext">runInBackground :: forall a. IO a -&gt; m ()
</span><a href="#local-6989586621679414535"><span class="hs-identifier hs-var hs-var">runInBackground</span></a></span></span><span> </span><span id="local-6989586621679414561"><span class="annot"><span class="annottext">IO a
</span><a href="#local-6989586621679414561"><span class="hs-identifier hs-var">act</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m (ReleaseKey, Async a) -&gt; m ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#void"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="annot"><span class="annottext">(m (ReleaseKey, Async a) -&gt; m ())
-&gt; m (ReleaseKey, Async a) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Async a) -&gt; (Async a -&gt; IO ()) -&gt; m (ReleaseKey, Async a)
forall (m :: * -&gt; *) a.
MonadResource m =&gt;
IO a -&gt; (a -&gt; IO ()) -&gt; m (ReleaseKey, a)
</span><a href="file:///nix/store/7q8prrmwhbgkvak2z07186f1ipfavkgf-resourcet-lib-resourcet-1.3.0-haddock-doc/share/doc/resourcet/html/src/Control.Monad.Trans.Resource.html#allocate"><span class="hs-identifier hs-var">allocate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO a -&gt; IO (Async (StM IO a))
forall (m :: * -&gt; *) a.
MonadBaseControl IO m =&gt;
m a -&gt; m (Async (StM m a))
</span><span class="hs-identifier hs-var">H.async</span></span><span> </span><span class="annot"><span class="annottext">IO a
</span><a href="#local-6989586621679414561"><span class="hs-identifier hs-var">act</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Async a -&gt; IO ()
forall (m :: * -&gt; *) a. MonadBase IO m =&gt; Async a -&gt; m ()
</span><span class="hs-identifier hs-var">H.cancel</span></span><span>
</span><span id="line-323"></span></pre></body></html>