<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Ouroboros.Network.PeerSelection.Governor</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ouroboros-network-0.11.0.0: A networking layer for the Ouroboros blockchain protocol</span><ul class="links" id="page-menu"><li id="quick-jump-button"><a href="#">Quick Jump</a></li><li><a href="src/Ouroboros.Network.PeerSelection.Governor.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Ouroboros.Network.PeerSelection.Governor</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Design overview</a></li><li><a href="#g:2">Peer churn governor</a></li><li><a href="#g:3">Internals exported for testing</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This subsystem manages the discovery and selection of <em>upstream</em> peers.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:PeerSelectionPolicy">PeerSelectionPolicy</a> peeraddr m = <a href="#v:PeerSelectionPolicy">PeerSelectionPolicy</a> {<ul class="subs"><li><a href="#v:policyPickKnownPeersForPeerShare">policyPickKnownPeersForPeerShare</a> :: PickPolicy peeraddr (STM m)</li><li><a href="#v:policyPickColdPeersToPromote">policyPickColdPeersToPromote</a> :: PickPolicy peeraddr (STM m)</li><li><a href="#v:policyPickWarmPeersToPromote">policyPickWarmPeersToPromote</a> :: PickPolicy peeraddr (STM m)</li><li><a href="#v:policyPickHotPeersToDemote">policyPickHotPeersToDemote</a> :: PickPolicy peeraddr (STM m)</li><li><a href="#v:policyPickWarmPeersToDemote">policyPickWarmPeersToDemote</a> :: PickPolicy peeraddr (STM m)</li><li><a href="#v:policyPickColdPeersToForget">policyPickColdPeersToForget</a> :: PickPolicy peeraddr (STM m)</li><li><a href="#v:policyFindPublicRootTimeout">policyFindPublicRootTimeout</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></li><li><a href="#v:policyMaxInProgressPeerShareReqs">policyMaxInProgressPeerShareReqs</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:policyPeerShareRetryTime">policyPeerShareRetryTime</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></li><li><a href="#v:policyPeerShareBatchWaitTime">policyPeerShareBatchWaitTime</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></li><li><a href="#v:policyPeerShareOverallTimeout">policyPeerShareOverallTimeout</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></li><li><a href="#v:policyPeerShareActivationDelay">policyPeerShareActivationDelay</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></li><li><a href="#v:policyErrorDelay">policyErrorDelay</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:PeerSelectionTargets">PeerSelectionTargets</a> = <a href="#v:PeerSelectionTargets">PeerSelectionTargets</a> {<ul class="subs"><li><a href="#v:targetNumberOfRootPeers">targetNumberOfRootPeers</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:targetNumberOfKnownPeers">targetNumberOfKnownPeers</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:targetNumberOfEstablishedPeers">targetNumberOfEstablishedPeers</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:targetNumberOfActivePeers">targetNumberOfActivePeers</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:targetNumberOfKnownBigLedgerPeers">targetNumberOfKnownBigLedgerPeers</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:targetNumberOfEstablishedBigLedgerPeers">targetNumberOfEstablishedBigLedgerPeers</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:targetNumberOfActiveBigLedgerPeers">targetNumberOfActiveBigLedgerPeers</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:PeerSelectionActions">PeerSelectionActions</a> peeraddr peerconn m = <a href="#v:PeerSelectionActions">PeerSelectionActions</a> {<ul class="subs"><li><a href="#v:readPeerSelectionTargets">readPeerSelectionTargets</a> :: STM m <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionTargets</a></li><li><a href="#v:readLocalRootPeers">readLocalRootPeers</a> :: STM m [(<a href="Ouroboros-Network-PeerSelection-State-LocalRootPeers.html#t:HotValency" title="Ouroboros.Network.PeerSelection.State.LocalRootPeers">HotValency</a>, <a href="Ouroboros-Network-PeerSelection-State-LocalRootPeers.html#t:WarmValency" title="Ouroboros.Network.PeerSelection.State.LocalRootPeers">WarmValency</a>, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> peeraddr <a href="Ouroboros-Network-PeerSelection-PeerSelectionActions.html#t:PeerAdvertise" title="Ouroboros.Network.PeerSelection.PeerSelectionActions">PeerAdvertise</a>)]</li><li><a href="#v:readNewInboundConnection">readNewInboundConnection</a> :: STM m (peeraddr, PeerSharing)</li><li><a href="#v:peerSharing">peerSharing</a> :: PeerSharing</li><li><a href="#v:peerConnToPeerSharing">peerConnToPeerSharing</a> :: peerconn -&gt; PeerSharing</li><li><a href="#v:requestPublicRootPeers">requestPublicRootPeers</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> peeraddr (<a href="Ouroboros-Network-PeerSelection-PeerSelectionActions.html#t:PeerAdvertise" title="Ouroboros.Network.PeerSelection.PeerSelectionActions">PeerAdvertise</a>, <a href="Ouroboros-Network-PeerSelection-LedgerPeers.html#t:IsLedgerPeer" title="Ouroboros.Network.PeerSelection.LedgerPeers">IsLedgerPeer</a>), <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a>)</li><li><a href="#v:requestBigLedgerPeers">requestBigLedgerPeers</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a>)</li><li><a href="#v:requestPeerShare">requestPeerShare</a> :: PeerSharingAmount -&gt; peeraddr -&gt; m (PeerSharingResult peeraddr)</li><li><a href="#v:peerStateActions">peerStateActions</a> :: <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerStateActions" title="Ouroboros.Network.PeerSelection.Governor">PeerStateActions</a> peeraddr peerconn m</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:PeerStateActions">PeerStateActions</a> peeraddr peerconn m = <a href="#v:PeerStateActions">PeerStateActions</a> {<ul class="subs"><li><a href="#v:monitorPeerConnection">monitorPeerConnection</a> :: peerconn -&gt; STM m (<a href="Ouroboros-Network-PeerSelection-Types.html#t:PeerStatus" title="Ouroboros.Network.PeerSelection.Types">PeerStatus</a>, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Ouroboros-Network-ExitPolicy.html#t:RepromoteDelay" title="Ouroboros.Network.ExitPolicy">RepromoteDelay</a>)</li><li><a href="#v:establishPeerConnection">establishPeerConnection</a> :: <a href="Ouroboros-Network-NodeToNode.html#t:IsBigLedgerPeer" title="Ouroboros.Network.NodeToNode">IsBigLedgerPeer</a> -&gt; peeraddr -&gt; m peerconn</li><li><a href="#v:activatePeerConnection">activatePeerConnection</a> :: <a href="Ouroboros-Network-NodeToNode.html#t:IsBigLedgerPeer" title="Ouroboros.Network.NodeToNode">IsBigLedgerPeer</a> -&gt; peerconn -&gt; m ()</li><li><a href="#v:deactivatePeerConnection">deactivatePeerConnection</a> :: peerconn -&gt; m ()</li><li><a href="#v:closePeerConnection">closePeerConnection</a> :: peerconn -&gt; m ()</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:TracePeerSelection">TracePeerSelection</a> peeraddr<ul class="subs"><li>= <a href="#v:TraceLocalRootPeersChanged">TraceLocalRootPeersChanged</a> (<a href="Ouroboros-Network-PeerSelection-State-LocalRootPeers.html#t:LocalRootPeers" title="Ouroboros.Network.PeerSelection.State.LocalRootPeers">LocalRootPeers</a> peeraddr) (<a href="Ouroboros-Network-PeerSelection-State-LocalRootPeers.html#t:LocalRootPeers" title="Ouroboros.Network.PeerSelection.State.LocalRootPeers">LocalRootPeers</a> peeraddr)</li><li>| <a href="#v:TraceTargetsChanged">TraceTargetsChanged</a> <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionTargets</a> <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionTargets</a></li><li>| <a href="#v:TracePublicRootsRequest">TracePublicRootsRequest</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li>| <a href="#v:TracePublicRootsResults">TracePublicRootsResults</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> peeraddr <a href="Ouroboros-Network-PeerSelection-PeerSelectionActions.html#t:PeerAdvertise" title="Ouroboros.Network.PeerSelection.PeerSelectionActions">PeerAdvertise</a>) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></li><li>| <a href="#v:TracePublicRootsFailure">TracePublicRootsFailure</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></li><li>| <a href="#v:TraceForgetColdPeers">TraceForgetColdPeers</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</li><li>| <a href="#v:TraceBigLedgerPeersRequest">TraceBigLedgerPeersRequest</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li>| <a href="#v:TraceBigLedgerPeersResults">TraceBigLedgerPeersResults</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></li><li>| <a href="#v:TraceBigLedgerPeersFailure">TraceBigLedgerPeersFailure</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></li><li>| <a href="#v:TraceForgetBigLedgerPeers">TraceForgetBigLedgerPeers</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</li><li>| <a href="#v:TracePeerShareRequests">TracePeerShareRequests</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</li><li>| <a href="#v:TracePeerShareResults">TracePeerShareResults</a> [(peeraddr, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> (PeerSharingResult peeraddr))]</li><li>| <a href="#v:TracePeerShareResultsFiltered">TracePeerShareResultsFiltered</a> [peeraddr]</li><li>| <a href="#v:TraceKnownInboundConnection">TraceKnownInboundConnection</a> peeraddr PeerSharing</li><li>| <a href="#v:TracePromoteColdPeers">TracePromoteColdPeers</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</li><li>| <a href="#v:TracePromoteColdLocalPeers">TracePromoteColdLocalPeers</a> [(<a href="Ouroboros-Network-PeerSelection-State-LocalRootPeers.html#t:WarmValency" title="Ouroboros.Network.PeerSelection.State.LocalRootPeers">WarmValency</a>, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>)] (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</li><li>| <a href="#v:TracePromoteColdFailed">TracePromoteColdFailed</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a></li><li>| <a href="#v:TracePromoteColdDone">TracePromoteColdDone</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr</li><li>| <a href="#v:TracePromoteColdBigLedgerPeers">TracePromoteColdBigLedgerPeers</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</li><li>| <a href="#v:TracePromoteColdBigLedgerPeerFailed">TracePromoteColdBigLedgerPeerFailed</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a></li><li>| <a href="#v:TracePromoteColdBigLedgerPeerDone">TracePromoteColdBigLedgerPeerDone</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr</li><li>| <a href="#v:TracePromoteWarmPeers">TracePromoteWarmPeers</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</li><li>| <a href="#v:TracePromoteWarmLocalPeers">TracePromoteWarmLocalPeers</a> [(<a href="Ouroboros-Network-PeerSelection-State-LocalRootPeers.html#t:HotValency" title="Ouroboros.Network.PeerSelection.State.LocalRootPeers">HotValency</a>, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>)] (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</li><li>| <a href="#v:TracePromoteWarmFailed">TracePromoteWarmFailed</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a></li><li>| <a href="#v:TracePromoteWarmDone">TracePromoteWarmDone</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr</li><li>| <a href="#v:TracePromoteWarmAborted">TracePromoteWarmAborted</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr</li><li>| <a href="#v:TracePromoteWarmBigLedgerPeers">TracePromoteWarmBigLedgerPeers</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</li><li>| <a href="#v:TracePromoteWarmBigLedgerPeerFailed">TracePromoteWarmBigLedgerPeerFailed</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a></li><li>| <a href="#v:TracePromoteWarmBigLedgerPeerDone">TracePromoteWarmBigLedgerPeerDone</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr</li><li>| <a href="#v:TracePromoteWarmBigLedgerPeerAborted">TracePromoteWarmBigLedgerPeerAborted</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr</li><li>| <a href="#v:TraceDemoteWarmPeers">TraceDemoteWarmPeers</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</li><li>| <a href="#v:TraceDemoteWarmFailed">TraceDemoteWarmFailed</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a></li><li>| <a href="#v:TraceDemoteWarmDone">TraceDemoteWarmDone</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr</li><li>| <a href="#v:TraceDemoteWarmBigLedgerPeers">TraceDemoteWarmBigLedgerPeers</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</li><li>| <a href="#v:TraceDemoteWarmBigLedgerPeerFailed">TraceDemoteWarmBigLedgerPeerFailed</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a></li><li>| <a href="#v:TraceDemoteWarmBigLedgerPeerDone">TraceDemoteWarmBigLedgerPeerDone</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr</li><li>| <a href="#v:TraceDemoteHotPeers">TraceDemoteHotPeers</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</li><li>| <a href="#v:TraceDemoteLocalHotPeers">TraceDemoteLocalHotPeers</a> [(<a href="Ouroboros-Network-PeerSelection-State-LocalRootPeers.html#t:HotValency" title="Ouroboros.Network.PeerSelection.State.LocalRootPeers">HotValency</a>, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>)] (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</li><li>| <a href="#v:TraceDemoteHotFailed">TraceDemoteHotFailed</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a></li><li>| <a href="#v:TraceDemoteHotDone">TraceDemoteHotDone</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr</li><li>| <a href="#v:TraceDemoteHotBigLedgerPeers">TraceDemoteHotBigLedgerPeers</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</li><li>| <a href="#v:TraceDemoteHotBigLedgerPeerFailed">TraceDemoteHotBigLedgerPeerFailed</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a></li><li>| <a href="#v:TraceDemoteHotBigLedgerPeerDone">TraceDemoteHotBigLedgerPeerDone</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr</li><li>| <a href="#v:TraceDemoteAsynchronous">TraceDemoteAsynchronous</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> peeraddr (<a href="Ouroboros-Network-PeerSelection-Types.html#t:PeerStatus" title="Ouroboros.Network.PeerSelection.Types">PeerStatus</a>, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Ouroboros-Network-ExitPolicy.html#t:RepromoteDelay" title="Ouroboros.Network.ExitPolicy">RepromoteDelay</a>))</li><li>| <a href="#v:TraceDemoteLocalAsynchronous">TraceDemoteLocalAsynchronous</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> peeraddr (<a href="Ouroboros-Network-PeerSelection-Types.html#t:PeerStatus" title="Ouroboros.Network.PeerSelection.Types">PeerStatus</a>, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Ouroboros-Network-ExitPolicy.html#t:RepromoteDelay" title="Ouroboros.Network.ExitPolicy">RepromoteDelay</a>))</li><li>| <a href="#v:TraceDemoteBigLedgerPeersAsynchronous">TraceDemoteBigLedgerPeersAsynchronous</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> peeraddr (<a href="Ouroboros-Network-PeerSelection-Types.html#t:PeerStatus" title="Ouroboros.Network.PeerSelection.Types">PeerStatus</a>, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Ouroboros-Network-ExitPolicy.html#t:RepromoteDelay" title="Ouroboros.Network.ExitPolicy">RepromoteDelay</a>))</li><li>| <a href="#v:TraceGovernorWakeup">TraceGovernorWakeup</a></li><li>| <a href="#v:TraceChurnWait">TraceChurnWait</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></li><li>| <a href="#v:TraceChurnMode">TraceChurnMode</a> <a href="Ouroboros-Network-PeerSelection-Governor.html#t:ChurnMode" title="Ouroboros.Network.PeerSelection.Governor">ChurnMode</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:DebugPeerSelection">DebugPeerSelection</a> peeraddr <span class="keyword">where</span><ul class="subs"><li><a href="#v:TraceGovernorState">TraceGovernorState</a> :: <span class="keyword">forall</span> peeraddr peerconn. <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> peerconn =&gt; Time -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a> -&gt; <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionState" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionState</a> peeraddr peerconn -&gt; <a href="Ouroboros-Network-PeerSelection-Governor.html#t:DebugPeerSelection" title="Ouroboros.Network.PeerSelection.Governor">DebugPeerSelection</a> peeraddr</li></ul></li><li class="src short"><a href="#v:peerSelectionGovernor">peerSelectionGovernor</a> :: (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Applicative.html#t:Alternative" title="Control.Applicative">Alternative</a> (STM m), MonadAsync m, MonadDelay m, MonadLabelledSTM m, MonadMask m, MonadTimer m, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> peeraddr, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> peerconn) =&gt; Tracer m (<a href="Ouroboros-Network-PeerSelection-Governor.html#t:TracePeerSelection" title="Ouroboros.Network.PeerSelection.Governor">TracePeerSelection</a> peeraddr) -&gt; Tracer m (<a href="Ouroboros-Network-PeerSelection-Governor.html#t:DebugPeerSelection" title="Ouroboros.Network.PeerSelection.Governor">DebugPeerSelection</a> peeraddr) -&gt; Tracer m <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionCounters" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionCounters</a> -&gt; StdGen -&gt; StrictTVar m (<a href="Ouroboros-Network-PeerSelection-Governor.html#t:PublicPeerSelectionState" title="Ouroboros.Network.PeerSelection.Governor">PublicPeerSelectionState</a> peeraddr) -&gt; <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionActions" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionActions</a> peeraddr peerconn m -&gt; <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionPolicy" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionPolicy</a> peeraddr m -&gt; m <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Void.html#t:Void" title="Data.Void">Void</a></li><li class="src short"><a href="#v:peerChurnGovernor">peerChurnGovernor</a> :: <span class="keyword">forall</span> m peeraddr. (MonadSTM m, MonadDelay m) =&gt; Tracer m (<a href="Ouroboros-Network-PeerSelection-Governor.html#t:TracePeerSelection" title="Ouroboros.Network.PeerSelection.Governor">TracePeerSelection</a> peeraddr) -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a> -&gt; <a href="Ouroboros-Network-PeerSelection-PeerMetric.html#t:PeerMetrics" title="Ouroboros.Network.PeerSelection.PeerMetric">PeerMetrics</a> m peeraddr -&gt; StrictTVar m <a href="Ouroboros-Network-PeerSelection-Governor.html#t:ChurnMode" title="Ouroboros.Network.PeerSelection.Governor">ChurnMode</a> -&gt; StdGen -&gt; STM m <a href="Ouroboros-Network-BlockFetch-Decision.html#t:FetchMode" title="Ouroboros.Network.BlockFetch.Decision">FetchMode</a> -&gt; <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionTargets</a> -&gt; StrictTVar m <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionTargets</a> -&gt; m <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Void.html#t:Void" title="Data.Void">Void</a></li><li class="src short"><a href="#v:assertPeerSelectionState">assertPeerSelectionState</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> peeraddr =&gt; <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionState" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionState</a> peeraddr peerconn -&gt; a -&gt; a</li><li class="src short"><a href="#v:sanePeerSelectionTargets">sanePeerSelectionTargets</a> :: <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionTargets</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:establishedPeersStatus">establishedPeersStatus</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> peeraddr =&gt; <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionState" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionState</a> peeraddr peerconn -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> peeraddr <a href="Ouroboros-Network-PeerSelection-Types.html#t:PeerStatus" title="Ouroboros.Network.PeerSelection.Types">PeerStatus</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:PeerSelectionState">PeerSelectionState</a> peeraddr peerconn = <a href="#v:PeerSelectionState">PeerSelectionState</a> {<ul class="subs"><li><a href="#v:targets">targets</a> :: !<a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionTargets</a></li><li><a href="#v:localRootPeers">localRootPeers</a> :: !(<a href="Ouroboros-Network-PeerSelection-State-LocalRootPeers.html#t:LocalRootPeers" title="Ouroboros.Network.PeerSelection.State.LocalRootPeers">LocalRootPeers</a> peeraddr)</li><li><a href="#v:publicRootPeers">publicRootPeers</a> :: !(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</li><li><a href="#v:bigLedgerPeers">bigLedgerPeers</a> :: !(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</li><li><a href="#v:knownPeers">knownPeers</a> :: !(<a href="Ouroboros-Network-PeerSelection-State-KnownPeers.html#t:KnownPeers" title="Ouroboros.Network.PeerSelection.State.KnownPeers">KnownPeers</a> peeraddr)</li><li><a href="#v:establishedPeers">establishedPeers</a> :: !(<a href="Ouroboros-Network-PeerSelection-State-EstablishedPeers.html#t:EstablishedPeers" title="Ouroboros.Network.PeerSelection.State.EstablishedPeers">EstablishedPeers</a> peeraddr peerconn)</li><li><a href="#v:activePeers">activePeers</a> :: !(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</li><li><a href="#v:publicRootBackoffs">publicRootBackoffs</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:publicRootRetryTime">publicRootRetryTime</a> :: !Time</li><li><a href="#v:inProgressPublicRootsReq">inProgressPublicRootsReq</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li><a href="#v:bigLedgerPeerBackoffs">bigLedgerPeerBackoffs</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:bigLedgerPeerRetryTime">bigLedgerPeerRetryTime</a> :: !Time</li><li><a href="#v:inProgressBigLedgerPeersReq">inProgressBigLedgerPeersReq</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li><a href="#v:inProgressPeerShareReqs">inProgressPeerShareReqs</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:inProgressPromoteCold">inProgressPromoteCold</a> :: !(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</li><li><a href="#v:inProgressPromoteWarm">inProgressPromoteWarm</a> :: !(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</li><li><a href="#v:inProgressDemoteWarm">inProgressDemoteWarm</a> :: !(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</li><li><a href="#v:inProgressDemoteHot">inProgressDemoteHot</a> :: !(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</li><li><a href="#v:inProgressDemoteToCold">inProgressDemoteToCold</a> :: !(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</li><li><a href="#v:fuzzRng">fuzzRng</a> :: !StdGen</li><li><a href="#v:countersCache">countersCache</a> :: !(Cache <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionCounters" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionCounters</a>)</li></ul>}</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:PublicPeerSelectionState">PublicPeerSelectionState</a> peeraddr = <a href="#v:PublicPeerSelectionState">PublicPeerSelectionState</a> {<ul class="subs"><li><a href="#v:availableToShare">availableToShare</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:PeerSelectionCounters">PeerSelectionCounters</a> = <a href="#v:PeerSelectionCounters">PeerSelectionCounters</a> {<ul class="subs"><li><a href="#v:coldPeers">coldPeers</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:warmPeers">warmPeers</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:hotPeers">hotPeers</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:coldBigLedgerPeers">coldBigLedgerPeers</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:warmBigLedgerPeers">warmBigLedgerPeers</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:hotBigLedgerPeers">hotBigLedgerPeers</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:localRoots">localRoots</a> :: ![(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>)]</li></ul>}</li><li class="src short"><a href="#v:nullPeerSelectionTargets">nullPeerSelectionTargets</a> :: <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionTargets</a></li><li class="src short"><a href="#v:emptyPeerSelectionState">emptyPeerSelectionState</a> :: StdGen -&gt; [(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>)] -&gt; <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionState" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionState</a> peeraddr peerconn</li><li class="src short"><a href="#v:emptyPublicPeerSelectionState">emptyPublicPeerSelectionState</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> peeraddr =&gt; <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PublicPeerSelectionState" title="Ouroboros.Network.PeerSelection.Governor">PublicPeerSelectionState</a> peeraddr</li><li class="src short"><span class="keyword">data</span> <a href="#t:ChurnMode">ChurnMode</a><ul class="subs"><li>= <a href="#v:ChurnModeBulkSync">ChurnModeBulkSync</a></li><li>| <a href="#v:ChurnModeNormal">ChurnModeNormal</a></li></ul></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Design overview</h1></a><div class="doc"><p>We have a number of requirements for constructing our connectivity graphs:</p><ul><li>We must do it in a decentralised way, using only local information;</li><li>It should avoid and recover from accidental or deliberate partitions or
   eclipse attacks;</li><li>The graph should give us good performance for block diffusion. This means
   we need the combination of low hop counts, and minimising the hop lengths.
   We want one slot leader to be able to send to the next within the deadline
   in at least 95% of cases.</li></ul><p><a href="https://press.princeton.edu/books/paperback/9780691117041/small-worlds">&quot;Small world&quot; graph theory</a> tells us that we can use random graph construction to make graphs with a low
characteristic path length (i.e. hop count). We can build random graphs with
peer sharing techniques. This deals with our requirement for decentralisation
and our goal of low hop counts.</p><p>The remaining significant issues are:</p><ul><li>the goal of short hop lengths, and</li><li>avoiding and recovering from partitions and eclipse attacks.</li></ul><p>Our design is to augment random peer sharing with two <em>governors</em> (control loops) to
address these two issues. The design is relatively simple, and has the virtue
that the policy for the governors can be adjusted with relatively few
compatibility impacts. This should enable the policy to be optimised based on
real-world feedback, and feedback from simulations of scale or scenarios that
are hard (or undesirable) to test in a real deployment.</p><p>Each node maintains three sets of known peer nodes:</p><dl><dt>cold peers</dt><dd>are peers that are known of but where there is no established
               network connection;</dd><dt>warm peers</dt><dd>are peers where a bearer connection is established but it is used
               only for network measurements and is not used for any application
               level consensus protocols;</dd><dt>hot peers</dt><dd>are peers where the bearer connection is actively used for the
              application level consensus protocols.</dd></dl><p>Limited information is maintained for these peers, based on previous direct
interactions. For cold nodes this will often be absent as there may have been
no previous direct interactions. This information is comparable with
&quot;reputation&quot; in other systems, but it should be emphasised that it is purely
local and not shared with any other node. It is not shared because it is not
necessary and because establishing trust in such information is difficult and
would add additional complexity. The information about peers is kept
persistently across node restarts, but it is always safe to re-bootstrap &#8211; as
new nodes must do.</p><p>For an individual node to join the network, the bootstrapping phase starts by
contacting root nodes and requesting sets of other peers. Newly discovered
peers are added to the cold peer set. It proceeds iteratively by randomly
selecting other peers to contact to request more known peers. This peer sharing
process is controlled by a governor that has a target to find and maintain a
certain number of cold peers. Bootstrapping is not a special mode, rather it is
just a phase for the governor following starting with a cold peers set
consisting only of the root nodes. This peer sharing aspect is closely analogous
to the first stage of Kademlia, but with random selection rather than selection
directed towards finding peers in an artificial metric space.</p><p>The root nodes used in the bootstrapping phase are the stakepool relays
published in the blockchain as part of the stakepool registration process.
See the <a href="https://hydra.iohk.io/job/Cardano/cardano-ledger-specs/delegationDesignSpec/latest/download-by-type/doc-pdf/delegation_design_spec">Shelley delegation design specification, Sections 3.4.4 and 4.2</a>.
As with Bitcoin, a recent snapshot of this root set must be distributed with
the software.</p><p>The peer selection governor engages in the following activities:</p><ul><li>the random peer share used to discover more cold peers;</li><li>promotion of cold peers to be warm peers;</li><li>demotion of warm peers to cold peers;</li><li>promotion of warm peers to hot peers; and</li><li>demotion of hot peers to warm peers.</li></ul><p>The peer selection governor has these goals to establish and maintain:</p><ul><li>a target number of cold peers (e.g. 1000)</li><li>a target number of hot peers (e.g. order of 2&#8211;20)</li><li>a target number of warm peers (e.g. order of 10&#8211;50)</li><li>a set of warm peers that are sufficiently diverse in terms of hop distance</li><li>a target churn frequency for hot/warm changes</li><li>a target churn frequency for warm/cold changes</li><li>a target churn frequency for cold/unknown changes</li></ul><p>The target churn values are adjusted by the <em>peer churn governor</em>, which we
will discuss below.</p><p>Local static configuration can also be used to specify that certain known nodes
should be selected as hot or warm peers. This allows for fixed relationships
between nodes controlled by a single organisation, such as a stake pool with
several relays. It also enables private peering relationships between stake
pool operators and other likely deployment scenarios.</p><p>Using 5&#8211;20 hot peers is not as expensive as it might sound. Keep in mind that
only block headers are sent for each peer. The block body is typically only
requested once. It is also worth noting that the block body will tend to follow
the shortest paths through the connectivity graph formed by the hot peer links.
This is because nodes will typically request the block body from the first node
that sends the block header.</p><p>While the purpose of cold and hot peers is clear, the purpose of warm peers
requires further explanation. The primary purpose is to address the challenge
of avoiding too many long hops in the graph. The random peer share is oblivious to
hop distance. By actually connecting to a selection of peers and measuring the
round trip delays we can start to establish which peers are near or far. The
policy for selecting which warm peers to promote to hot peers will take into
account this network hop distance. The purpose of a degree of churn between
cold and warm peers is, in part, to discover the network distance for more
peers and enable further optimisation or adjust to changing conditions. The
purpose of a degree of churn between warm and hot peers is to allow potentially
better warm peers to take over from existing hot peers.</p><p>The purpose in maintaining a diversity in hop distances is to assist in
recovery from network events that may disrupt established short paths, such as
internet routing changes, partial loss of connectivity, or accidental formation
of cliques. For example, when a physical infrastructure failure causes the
short paths to a clique of nodes to be lost, if some or all of the nodes in
that clique maintain other longer distance warm links then they can quickly
promote them to hot links and recover. The time to promote from warm to hot
need be no more than one network round trip.</p><p>Overall, this approach follows a common pattern for probabilistic search or
optimisation that uses a balance of local optimisation with some elements of
higher order disruption to avoid becoming trapped in some poor local optimum.</p><p>The local peer reputation information is also updated when peer connections
fail. The implementation classifies the exceptions that cause connections to
fail into three classes:</p><ul><li>internal node exceptions e.g. local disk corruption;</li><li>network failures e.g. dropped TCP connections; and</li><li>adversarial behaviour, e.g. a protocol violation detected by the
   typed-protocols layer or by the consensus layer.</li></ul><p>In the case of adversarial behaviour the peer can be immediately demoted out of
the hot, warm and cold sets. We choose not to maintain negative peer
information for extended periods of time; to bound resources and due to the
simplicity of Sybil attacks.</p><p>The peer churn governor deals with the problem of partition and eclipse &#8211;
whether malicious or accidental. It adjusts the behaviour of the peer
selection governor over longer time scales. The outer peer churn governor's
actions are:</p><ul><li>to adjust the target churn frequencies of the peer selection governor for
   promotion/demotion between the cold/warm/hot states</li><li>partial or total re-bootstrapping under certain circumstances</li></ul><p>The peer churn governor monitors the chain growth quality, comparing it with
the stake distribution. The probability of being in a disconnected clique or
being eclipsed is calculated. As this rises the governor increases the target
frequencies for the churn between the hot, warm, cold, and unknown states. In
the worst case it can re-bootstrap the peer discovery entirely by resetting
the set of known peers.</p></div><div class="doc"><p><img src="https://upload.wikimedia.org/wikipedia/commons/c/c3/Centrifugal_governor_and_balanced_steam_valve_%28New_Catechism_of_the_Steam_Engine%2C_1904%29.jpg" title="A 19th century steam governor" /></p><p>The <code><a href="Ouroboros-Network-PeerSelection-Governor.html#v:peerSelectionGovernor" title="Ouroboros.Network.PeerSelection.Governor">peerSelectionGovernor</a></code> manages the discovery and selection of <em>upstream</em>
peers.</p><p>We classify (potential or actual) upstream peers in three nested categories:</p><pre>                                                      &#9650;
                                               forget &#9474;
  &#9487;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9535;&#9473;&#9535;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9491;
  &#9475;                                                     &#9474; discover   &#9475;
  &#9475;  Known peers: the set of all known peers.           &#9660;            &#9475;
  &#9475;  Consists of cold, warm and hot peers.                           &#9475;
  &#9475;  Expect ~1000                              demote &#9650;              &#9475;
  &#9475;                                            to cold&#9474;              &#9475;
  &#9475; &#9487;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9535;&#9473;&#9535;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9491; &#9475;
  &#9475; &#9475;                                                   &#9474; promote  &#9475; &#9475;
  &#9475; &#9475;  Established peers: with established bearer.      &#9660; to warm  &#9475; &#9475;
  &#9475; &#9475;  Consists of warm and hot peers.                             &#9475; &#9475;
  &#9475; &#9475;  Expect ~10-50                           demote &#9650;            &#9475; &#9475;
  &#9475; &#9475;                                          to warm&#9474;            &#9475; &#9475;
  &#9475; &#9475; &#9487;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9535;&#9473;&#9535;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9491; &#9475; &#9475;
  &#9475; &#9475; &#9475;                                                 &#9474; promote&#9475; &#9475; &#9475;
  &#9475; &#9475; &#9475;  Active peers: running consensus protocols.     &#9660; to hot &#9475; &#9475; &#9475;
  &#9475; &#9475; &#9475;  Consists of hot peers.                                  &#9475; &#9475; &#9475;
  &#9475; &#9475; &#9475;  Expect ~2-20                                            &#9475; &#9475; &#9475;
  &#9475; &#9475; &#9475;                                                          &#9475; &#9475; &#9475;
  &#9475; &#9475; &#9495;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9499; &#9475; &#9475;
  &#9475; &#9495;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9499; &#9475;
  &#9495;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9499;
</pre><p>We define the terms <em>known</em>, <em>established</em> and <em>active</em> to be nested sets.
We define the terms <em>cold</em>, <em>warm</em> and <em>hot</em> to be disjoint sets. Both
collections of terms are useful. For example there is information we wish to
track for all known peers, irrespective of whether they are cold, warm or hot.</p><p>So we have six transitions to consider:</p><ul><li>discover a cold peer</li><li>promote a cold peer to warm</li><li>promote a warm peer to hot</li><li>demote a hot peer to warm</li><li>demote a warm peer to cold</li><li>forget a cold peer</li></ul><p>(Excluding the transitions in which any peer determined to be adversarial is
forgotten.)</p><p>We want a design that separates the policy from the mechanism. We must
consider what kinds of policy we might like to express and make sure that
information that the policy needs can be made available.</p><p>We will consider each case.</p><h2>Discovering cold peers</h2><p>There are two main mechanisms by which we discover cold peers:</p><ul><li>Externally supplied peer root set</li><li>Peer Share</li></ul><h3>Externally supplied peer root set</h3><p>There are a few potential sources for root sets:</p><ul><li>Simulation environment</li><li>IP address lists from static or dynamic configuration</li><li>DNS names from static or dynamic configuration</li><li>IP addresses or DNS names for stake pools registered in the blockchain</li></ul><p>Note that none of these sources are fully static except for IP addresses from
static configuration. DNS name to IP address mappings are potentially dynamic.
DNS names can refer to both IPv4 and IPv6 addresses, and to pools of addresses.</p><p>In some cases we wish to advertise these root peers to others, and sometimes
we want to keep them private. In particular the deployment for stake pools may
involve keeping the stake pool node itself private, and only advertising
relays.</p><p>For an externally supplied peer root set, we divide the problem in two with an
interface where a root set provider is responsible for managing a time-varying
set of addresses, and the peer selection governor observes the time-varying
value. This allows multiple implementations of the root set provider, which
deal with the various sources.</p><h3>Peer Share</h3><p>We can ask peers to give us a sample of their set of known peers.</p><p>For cold peers we can establish a one-shot connection to ask. For warm peers
we can also ask. We should not ask from the same peer too often. Peers are
expected to return the same set of answers over quite long periods of time.
(This helps peers to distinguish abusive behaviour and reduce the speed with
which the whole network can be mapped.)</p><p>So factors we might wish to base our decision on:</p><ul><li>if we are below the target number of known peers</li><li>if there are any known peers we have not asked (or attempted to ask)</li><li>how long since we last asked (so we do not ask too frequently)</li><li>the known distance of the peer from the root set</li></ul><p>This last factor is interesting. Consider what happens if we do a bootstrap
from one root peer. We'll ask it for some more peers and it will give us a
selection. Suppose we pick one of these to get more peers from and it gives us
a similar number of replies. If we now pick the next one randomly from our
combined set we'll have a roughly 50:50 chance of picking from either set.
This approach could quickly lead us into a mostly-depth first exploration of
the graph. But we probably want a more balanced approach between breadth first
and depth first. The traditional ways to do a breadth first or depth first is
to keep a queue or a stack of nodes that have not yet been asked.</p><p>Here's another danger: suppose we ask several nodes in parallel but suppose
one gets back to us quicker than all the others. If we are too quick to choose
again then we are giving an advantage to fast peers, and adversaries could
dedicate resources to exploit this to their advantage to get nodes to pick up
more peers from the set supplied by the adversary.</p><p>So this suggests that we should not give undue advantage to peers that respond
very quickly, and we should go mostly breadth first, but with a degree of
randomisation.</p><h2>Promoting a cold peer to warm</h2><p>Promoting a cold peer to warm involves establishing a bearer connection. This
is initiated asynchronously and it is either successful or fails after a
timeout.</p><p>Once established, we track the connection for the established peer. The
established connection is used later to promote to hot, or to demote back to
cold. It is also used to be notified if the connection fails for any reason.</p><h2>Promoting a warm peer to hot</h2><p>Promoting a warm peer to hot involves sending messages on the established
bearer to switch mode from the network protocol used with warm peers, to the
full set of consensus protocols used for hot peers.</p><h2>Demoting a hot peer to warm</h2><p>If we have more hot peers than our target number (or target range) then we
want to pick one to demote. One policy is to pick randomly. It is likely to be
better to to pick the peer that is in some sense least useful.</p><p>One plausible measure of a peer being least useful is based on the following:
for blocks we adopt into our chain, look at which peer(s) received that header
first. A peer that is never first (or very rarely) is one that is likely to be
downstream from us and hence not useful as a choice of upstream peer. A peer
that is normally behind all others, but sometimes (even rarely) is first is
still useful, since it shows it's an upstream connection to some part of the
network where there are active block producers. Consider the case of a relay
in Europe with one connection to Australia: sometimes blocks will be produced
in Australia and so that connection may be first in those cases.</p><p>Tracking the necessary information for this policy would require a separate
component that observes the current chain and the peer candidate chains. Using
this information would need access to that shared state. So we should conclude
that the policy should not be pure as it may need access to such changing state.</p><h2>Demoting a warm peer to cold</h2><h2>Forgetting cold peers</h2><p>We will always forget known peers when the connection is terminated due to
detected adversarial behaviour. The remaining policy decision is which peers
to forget when we have more than our target number of known peers. We will
only select from the known peers that are cold. Warm or hot known peers have
to first be demoted to cold before we consider them to be forgotten.</p><p>We want to pick the least useful cold peers to forget. Factors we may wish to
base our decision on include:</p><ul><li>Number of unsuccessful connection attempts since last successful connection</li><li>Pseudo-random selection: some degree of randomness can help mitigate
   accidental systematic correlations or some degree of adversarial behaviour.</li></ul></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PeerSelectionPolicy" class="def">PeerSelectionPolicy</a> peeraddr m <a href="src/Ouroboros.Network.PeerSelection.Governor.Types.html#PeerSelectionPolicy" class="link">Source</a> <a href="#t:PeerSelectionPolicy" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PeerSelectionPolicy" class="def">PeerSelectionPolicy</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:policyPickKnownPeersForPeerShare" class="def">policyPickKnownPeersForPeerShare</a> :: PickPolicy peeraddr (STM m)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:policyPickColdPeersToPromote" class="def">policyPickColdPeersToPromote</a> :: PickPolicy peeraddr (STM m)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:policyPickWarmPeersToPromote" class="def">policyPickWarmPeersToPromote</a> :: PickPolicy peeraddr (STM m)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:policyPickHotPeersToDemote" class="def">policyPickHotPeersToDemote</a> :: PickPolicy peeraddr (STM m)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:policyPickWarmPeersToDemote" class="def">policyPickWarmPeersToDemote</a> :: PickPolicy peeraddr (STM m)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:policyPickColdPeersToForget" class="def">policyPickColdPeersToForget</a> :: PickPolicy peeraddr (STM m)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:policyFindPublicRootTimeout" class="def">policyFindPublicRootTimeout</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:policyMaxInProgressPeerShareReqs" class="def">policyMaxInProgressPeerShareReqs</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>Maximum number of peer sharing requests that can be in progress</p></div></li><li><dfn class="src"><a id="v:policyPeerShareRetryTime" class="def">policyPeerShareRetryTime</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></dfn><div class="doc"><p>Amount of time a node has to wait before issuing a new peer sharing
 request</p></div></li><li><dfn class="src"><a id="v:policyPeerShareBatchWaitTime" class="def">policyPeerShareBatchWaitTime</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></dfn><div class="doc"><p>Amount of time a batch of peer sharing requests is allowed to take</p></div></li><li><dfn class="src"><a id="v:policyPeerShareOverallTimeout" class="def">policyPeerShareOverallTimeout</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></dfn><div class="doc"><p>Amount of time the overall batches of peer sharing requests are
 allowed to take</p></div></li><li><dfn class="src"><a id="v:policyPeerShareActivationDelay" class="def">policyPeerShareActivationDelay</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></dfn><div class="doc"><p>Delay until we consider a peer suitable for peer sharing</p></div></li><li><dfn class="src"><a id="v:policyErrorDelay" class="def">policyErrorDelay</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></dfn><div class="doc"><p>Re-promote delay, passed from <code><a href="Ouroboros-Network-ExitPolicy.html#t:ExitPolicy" title="Ouroboros.Network.ExitPolicy">ExitPolicy</a></code>.</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PeerSelectionTargets" class="def">PeerSelectionTargets</a> <a href="src/Ouroboros.Network.PeerSelection.Governor.Types.html#PeerSelectionTargets" class="link">Source</a> <a href="#t:PeerSelectionTargets" class="selflink">#</a></p><div class="doc"><p>Adjustable targets for the peer selection mechanism.</p><p>These are used by the peer selection governor as targets. They are used by
 the peer churn governor loop as knobs to adjust, to influence the peer
 selection governor.</p><p>The <em>known</em>, <em>established</em> and <em>active</em> peer targets are targets both from
 below and from above: the governor will attempt to grow or shrink the sets
 to hit these targets.</p><p>Unlike the other targets, the <em>root</em> peer target is &quot;one sided&quot;, it is
 only a target from below. The governor does not try to shrink the root set
 to hit it, it simply stops looking for more.</p><p>There is also an implicit target that enough local root peers are selected
 as active. This comes from the configuration for local roots, and is not an
 independently adjustable target.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PeerSelectionTargets" class="def">PeerSelectionTargets</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:targetNumberOfRootPeers" class="def">targetNumberOfRootPeers</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:targetNumberOfKnownPeers" class="def">targetNumberOfKnownPeers</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>The target number of all known peers.  This includes ledger,
 big ledger peers.</p></div></li><li><dfn class="src"><a id="v:targetNumberOfEstablishedPeers" class="def">targetNumberOfEstablishedPeers</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>The target number of established peers (does not include big ledger
 peers).</p><p>The target includes root peers, local root peers, ledger peers and big
 ledger peers.</p></div></li><li><dfn class="src"><a id="v:targetNumberOfActivePeers" class="def">targetNumberOfActivePeers</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>The target number of active peers (does not include big ledger
 peers).</p><p>The</p></div></li><li><dfn class="src"><a id="v:targetNumberOfKnownBigLedgerPeers" class="def">targetNumberOfKnownBigLedgerPeers</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>Target number of known big ledger peers.</p><p>This target is independent of <code><a href="Ouroboros-Network-PeerSelection-Governor.html#v:targetNumberOfKnownPeers" title="Ouroboros.Network.PeerSelection.Governor">targetNumberOfKnownPeers</a></code>.  The total
 number of known peers will be sum of the two targets.</p></div></li><li><dfn class="src"><a id="v:targetNumberOfEstablishedBigLedgerPeers" class="def">targetNumberOfEstablishedBigLedgerPeers</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>Target number of established big ledger peers.</p><p>This target is independent of <code><a href="Ouroboros-Network-PeerSelection-Governor.html#v:targetNumberOfEstablishedPeers" title="Ouroboros.Network.PeerSelection.Governor">targetNumberOfEstablishedPeers</a></code>.  The
 total number of established peers will be sum of the two targets and
 local root peers.</p></div></li><li><dfn class="src"><a id="v:targetNumberOfActiveBigLedgerPeers" class="def">targetNumberOfActiveBigLedgerPeers</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>Target number of active big ledger peers.</p><p>This target is independent of <code><a href="Ouroboros-Network-PeerSelection-Governor.html#v:targetNumberOfActivePeers" title="Ouroboros.Network.PeerSelection.Governor">targetNumberOfActivePeers</a></code>.  The total
 number of active peers will be sum of the two targets and active local
 root peers.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PeerSelectionTargets">Instances</h4><details id="i:PeerSelectionTargets" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PeerSelectionTargets:Show:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionTargets</a></span> <a href="src/Ouroboros.Network.PeerSelection.Governor.Types.html#line-198" class="link">Source</a> <a href="#t:PeerSelectionTargets" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PeerSelectionTargets:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-PeerSelection-Governor-Types.html">Ouroboros.Network.PeerSelection.Governor.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionTargets</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionTargets</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionTargets</a>] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PeerSelectionTargets:Eq:2"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionTargets</a></span> <a href="src/Ouroboros.Network.PeerSelection.Governor.Types.html#line-198" class="link">Source</a> <a href="#t:PeerSelectionTargets" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PeerSelectionTargets:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-PeerSelection-Governor-Types.html">Ouroboros.Network.PeerSelection.Governor.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionTargets</a> -&gt; <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionTargets</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionTargets</a> -&gt; <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionTargets</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PeerSelectionActions" class="def">PeerSelectionActions</a> peeraddr peerconn m <a href="src/Ouroboros.Network.PeerSelection.Governor.Types.html#PeerSelectionActions" class="link">Source</a> <a href="#t:PeerSelectionActions" class="selflink">#</a></p><div class="doc"><p>Actions performed by the peer selection governor.</p><p>These being pluggable allows:</p><ul><li>choice of known peer root sets</li><li>running both in simulation and for real</li></ul></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PeerSelectionActions" class="def">PeerSelectionActions</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:readPeerSelectionTargets" class="def">readPeerSelectionTargets</a> :: STM m <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionTargets</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:readLocalRootPeers" class="def">readLocalRootPeers</a> :: STM m [(<a href="Ouroboros-Network-PeerSelection-State-LocalRootPeers.html#t:HotValency" title="Ouroboros.Network.PeerSelection.State.LocalRootPeers">HotValency</a>, <a href="Ouroboros-Network-PeerSelection-State-LocalRootPeers.html#t:WarmValency" title="Ouroboros.Network.PeerSelection.State.LocalRootPeers">WarmValency</a>, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> peeraddr <a href="Ouroboros-Network-PeerSelection-PeerSelectionActions.html#t:PeerAdvertise" title="Ouroboros.Network.PeerSelection.PeerSelectionActions">PeerAdvertise</a>)]</dfn><div class="doc"><p>Read the current set of locally or privately known root peers.</p><p>In general this is expected to be updated asynchronously by some
 other thread. It is intended to cover the use case of peers from
 local configuration. It could be dynamic due to DNS resolution, or
 due to dynamic configuration updates.</p><p>It is structured as a collection of (non-overlapping) groups of peers
 where we are supposed to select n from each group.</p></div></li><li><dfn class="src"><a id="v:readNewInboundConnection" class="def">readNewInboundConnection</a> :: STM m (peeraddr, PeerSharing)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:peerSharing" class="def">peerSharing</a> :: PeerSharing</dfn><div class="doc"><p>Read the current Peer Sharing willingness value</p><p>This value comes from the Node's configuration file.</p></div></li><li><dfn class="src"><a id="v:peerConnToPeerSharing" class="def">peerConnToPeerSharing</a> :: peerconn -&gt; PeerSharing</dfn><div class="doc"><p>Get the remote's side PeerSharing value from <code>peerconn</code></p><p><code>peerconn</code> ideally comes from a call to <code><a href="Ouroboros-Network-PeerSelection-Governor.html#v:establishPeerConnection" title="Ouroboros.Network.PeerSelection.Governor">establishPeerConnection</a></code>.
 This will establish a connection and perform handshake. The returned
 <code>peerconn</code> has all the versionData negotiated in the handshake,
 including the remote peer's <code>PeerSharing</code> willingness information.</p></div></li><li><dfn class="src"><a id="v:requestPublicRootPeers" class="def">requestPublicRootPeers</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> peeraddr (<a href="Ouroboros-Network-PeerSelection-PeerSelectionActions.html#t:PeerAdvertise" title="Ouroboros.Network.PeerSelection.PeerSelectionActions">PeerAdvertise</a>, <a href="Ouroboros-Network-PeerSelection-LedgerPeers.html#t:IsLedgerPeer" title="Ouroboros.Network.PeerSelection.LedgerPeers">IsLedgerPeer</a>), <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a>)</dfn><div class="doc"><p>Request a sample of public root peers.</p><p>It is intended to cover use cases including:</p><ul><li>federated relays from a DNS pool</li><li>stake pool relays published in the blockchain</li><li>a pre-distributed snapshot of stake pool relays from the blockchain</li></ul></div></li><li><dfn class="src"><a id="v:requestBigLedgerPeers" class="def">requestBigLedgerPeers</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a>)</dfn><div class="doc"><p>Request a sample of big ledger peers.</p></div></li><li><dfn class="src"><a id="v:requestPeerShare" class="def">requestPeerShare</a> :: PeerSharingAmount -&gt; peeraddr -&gt; m (PeerSharingResult peeraddr)</dfn><div class="doc"><p>The action to contact a known peer and request a sample of its
 known peers.</p></div></li><li><dfn class="src"><a id="v:peerStateActions" class="def">peerStateActions</a> :: <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerStateActions" title="Ouroboros.Network.PeerSelection.Governor">PeerStateActions</a> peeraddr peerconn m</dfn><div class="doc"><p>Core actions run by the governor to change <code><a href="Ouroboros-Network-PeerSelection-Types.html#t:PeerStatus" title="Ouroboros.Network.PeerSelection.Types">PeerStatus</a></code>.</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PeerStateActions" class="def">PeerStateActions</a> peeraddr peerconn m <a href="src/Ouroboros.Network.PeerSelection.Governor.Types.html#PeerStateActions" class="link">Source</a> <a href="#t:PeerStateActions" class="selflink">#</a></p><div class="doc"><p>Callbacks which are performed to change peer state.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PeerStateActions" class="def">PeerStateActions</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:monitorPeerConnection" class="def">monitorPeerConnection</a> :: peerconn -&gt; STM m (<a href="Ouroboros-Network-PeerSelection-Types.html#t:PeerStatus" title="Ouroboros.Network.PeerSelection.Types">PeerStatus</a>, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Ouroboros-Network-ExitPolicy.html#t:RepromoteDelay" title="Ouroboros.Network.ExitPolicy">RepromoteDelay</a>)</dfn><div class="doc"><p>Monitor peer state.  Must be non-blocking.</p></div></li><li><dfn class="src"><a id="v:establishPeerConnection" class="def">establishPeerConnection</a> :: <a href="Ouroboros-Network-NodeToNode.html#t:IsBigLedgerPeer" title="Ouroboros.Network.NodeToNode">IsBigLedgerPeer</a> -&gt; peeraddr -&gt; m peerconn</dfn><div class="doc"><p>Establish new connection: cold to warm.</p><p><code><a href="Ouroboros-Network-NodeToNode.html#t:IsBigLedgerPeer" title="Ouroboros.Network.NodeToNode">IsBigLedgerPeer</a></code> is passed from the outbound governor to the
 mini-protocol callbacks.</p></div></li><li><dfn class="src"><a id="v:activatePeerConnection" class="def">activatePeerConnection</a> :: <a href="Ouroboros-Network-NodeToNode.html#t:IsBigLedgerPeer" title="Ouroboros.Network.NodeToNode">IsBigLedgerPeer</a> -&gt; peerconn -&gt; m ()</dfn><div class="doc"><p>Activate a connection: warm to hot promotion.</p><p><code><a href="Ouroboros-Network-NodeToNode.html#t:IsBigLedgerPeer" title="Ouroboros.Network.NodeToNode">IsBigLedgerPeer</a></code> is passed from the outbound governor to the
 mini-protocol callbacks.</p></div></li><li><dfn class="src"><a id="v:deactivatePeerConnection" class="def">deactivatePeerConnection</a> :: peerconn -&gt; m ()</dfn><div class="doc"><p>Deactive a peer: hot to warm demotion.</p></div></li><li><dfn class="src"><a id="v:closePeerConnection" class="def">closePeerConnection</a> :: peerconn -&gt; m ()</dfn><div class="doc"><p>Close a connection: warm to cold transition.</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TracePeerSelection" class="def">TracePeerSelection</a> peeraddr <a href="src/Ouroboros.Network.PeerSelection.Governor.Types.html#TracePeerSelection" class="link">Source</a> <a href="#t:TracePeerSelection" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:TraceLocalRootPeersChanged" class="def">TraceLocalRootPeersChanged</a> (<a href="Ouroboros-Network-PeerSelection-State-LocalRootPeers.html#t:LocalRootPeers" title="Ouroboros.Network.PeerSelection.State.LocalRootPeers">LocalRootPeers</a> peeraddr) (<a href="Ouroboros-Network-PeerSelection-State-LocalRootPeers.html#t:LocalRootPeers" title="Ouroboros.Network.PeerSelection.State.LocalRootPeers">LocalRootPeers</a> peeraddr)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TraceTargetsChanged" class="def">TraceTargetsChanged</a> <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionTargets</a> <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionTargets</a></td><td class="doc"><p>Peer selection targets changed: old targets, new targets.</p></td></tr><tr><td class="src"><a id="v:TracePublicRootsRequest" class="def">TracePublicRootsRequest</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TracePublicRootsResults" class="def">TracePublicRootsResults</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> peeraddr <a href="Ouroboros-Network-PeerSelection-PeerSelectionActions.html#t:PeerAdvertise" title="Ouroboros.Network.PeerSelection.PeerSelectionActions">PeerAdvertise</a>) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TracePublicRootsFailure" class="def">TracePublicRootsFailure</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TraceForgetColdPeers" class="def">TraceForgetColdPeers</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</td><td class="doc"><p>target known peers, actual known peers, selected peers</p></td></tr><tr><td class="src"><a id="v:TraceBigLedgerPeersRequest" class="def">TraceBigLedgerPeersRequest</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TraceBigLedgerPeersResults" class="def">TraceBigLedgerPeersResults</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TraceBigLedgerPeersFailure" class="def">TraceBigLedgerPeersFailure</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TraceForgetBigLedgerPeers" class="def">TraceForgetBigLedgerPeers</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</td><td class="doc"><p>target known big ledger peers, actual known big ledger peers, selected
 peers</p></td></tr><tr><td class="src"><a id="v:TracePeerShareRequests" class="def">TracePeerShareRequests</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</td><td class="doc"><p>target known peers, actual known peers, peers available for
 peer sharing, peers selected for peer sharing</p></td></tr><tr><td class="src"><a id="v:TracePeerShareResults" class="def">TracePeerShareResults</a> [(peeraddr, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> (PeerSharingResult peeraddr))]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TracePeerShareResultsFiltered" class="def">TracePeerShareResultsFiltered</a> [peeraddr]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TraceKnownInboundConnection" class="def">TraceKnownInboundConnection</a> peeraddr PeerSharing</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TracePromoteColdPeers" class="def">TracePromoteColdPeers</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</td><td class="doc"><p>target established, actual established, selected peers</p></td></tr><tr><td class="src"><a id="v:TracePromoteColdLocalPeers" class="def">TracePromoteColdLocalPeers</a> [(<a href="Ouroboros-Network-PeerSelection-State-LocalRootPeers.html#t:WarmValency" title="Ouroboros.Network.PeerSelection.State.LocalRootPeers">WarmValency</a>, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>)] (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</td><td class="doc"><p>target local established, actual local established, selected peers</p></td></tr><tr><td class="src"><a id="v:TracePromoteColdFailed" class="def">TracePromoteColdFailed</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TracePromoteColdDone" class="def">TracePromoteColdDone</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr</td><td class="doc"><p>target established, actual established, peer</p></td></tr><tr><td class="src"><a id="v:TracePromoteColdBigLedgerPeers" class="def">TracePromoteColdBigLedgerPeers</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</td><td class="doc"><p>target established big ledger peers, actual established big ledger
 peers, selected peers</p></td></tr><tr><td class="src"><a id="v:TracePromoteColdBigLedgerPeerFailed" class="def">TracePromoteColdBigLedgerPeerFailed</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a></td><td class="doc"><p>target established big ledger peers, actual established big ledger
 peers, peer, delay until next promotion, reason</p></td></tr><tr><td class="src"><a id="v:TracePromoteColdBigLedgerPeerDone" class="def">TracePromoteColdBigLedgerPeerDone</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr</td><td class="doc"><p>target established big ledger peers, actual established big ledger
 peers, peer</p></td></tr><tr><td class="src"><a id="v:TracePromoteWarmPeers" class="def">TracePromoteWarmPeers</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</td><td class="doc"><p>target active, actual active, selected peers</p></td></tr><tr><td class="src"><a id="v:TracePromoteWarmLocalPeers" class="def">TracePromoteWarmLocalPeers</a></td><td class="doc"><p>Promote local peers to warm</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src">[(<a href="Ouroboros-Network-PeerSelection-State-LocalRootPeers.html#t:HotValency" title="Ouroboros.Network.PeerSelection.State.LocalRootPeers">HotValency</a>, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>)]</dfn><div class="doc"><p>local per-group `(target active, actual active)`,
 only limited to groups which are below their target.</p></div></li><li><dfn class="src">(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</dfn><div class="doc"><p>selected peers
 | target active, actual active, peer, reason</p></div></li></ul></div></td></tr><tr><td class="src"><a id="v:TracePromoteWarmFailed" class="def">TracePromoteWarmFailed</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TracePromoteWarmDone" class="def">TracePromoteWarmDone</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr</td><td class="doc"><p>target active, actual active, peer</p></td></tr><tr><td class="src"><a id="v:TracePromoteWarmAborted" class="def">TracePromoteWarmAborted</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr</td><td class="doc"><p>aborted promotion of a warm peer; likely it was asynchronously
 demoted in the meantime.</p><p>target active, actual active, peer</p></td></tr><tr><td class="src"><a id="v:TracePromoteWarmBigLedgerPeers" class="def">TracePromoteWarmBigLedgerPeers</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</td><td class="doc"><p>target active big ledger peers, actual active big ledger peers,
 selected peers</p></td></tr><tr><td class="src"><a id="v:TracePromoteWarmBigLedgerPeerFailed" class="def">TracePromoteWarmBigLedgerPeerFailed</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a></td><td class="doc"><p>target active big ledger peers, actual active big ledger peers, peer,
 reason</p></td></tr><tr><td class="src"><a id="v:TracePromoteWarmBigLedgerPeerDone" class="def">TracePromoteWarmBigLedgerPeerDone</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr</td><td class="doc"><p>target active big ledger peers, actual active big ledger peers, peer</p></td></tr><tr><td class="src"><a id="v:TracePromoteWarmBigLedgerPeerAborted" class="def">TracePromoteWarmBigLedgerPeerAborted</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr</td><td class="doc"><p>aborted promotion of a warm big ledger peer; likely it was
 asynchronously demoted in the meantime.</p><p>target active, actual active, peer</p></td></tr><tr><td class="src"><a id="v:TraceDemoteWarmPeers" class="def">TraceDemoteWarmPeers</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</td><td class="doc"><p>target established, actual established, selected peers</p></td></tr><tr><td class="src"><a id="v:TraceDemoteWarmFailed" class="def">TraceDemoteWarmFailed</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a></td><td class="doc"><p>target established, actual established, peer, reason</p></td></tr><tr><td class="src"><a id="v:TraceDemoteWarmDone" class="def">TraceDemoteWarmDone</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr</td><td class="doc"><p>target established, actual established, peer</p></td></tr><tr><td class="src"><a id="v:TraceDemoteWarmBigLedgerPeers" class="def">TraceDemoteWarmBigLedgerPeers</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</td><td class="doc"><p>target established big ledger peers, actual established big ledger
 peers, selected peers</p></td></tr><tr><td class="src"><a id="v:TraceDemoteWarmBigLedgerPeerFailed" class="def">TraceDemoteWarmBigLedgerPeerFailed</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a></td><td class="doc"><p>target established big ledger peers, actual established big ledger
 peers, peer, reason</p></td></tr><tr><td class="src"><a id="v:TraceDemoteWarmBigLedgerPeerDone" class="def">TraceDemoteWarmBigLedgerPeerDone</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr</td><td class="doc"><p>target established big ledger peers, actual established big ledger
 peers, peer</p></td></tr><tr><td class="src"><a id="v:TraceDemoteHotPeers" class="def">TraceDemoteHotPeers</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</td><td class="doc"><p>target active, actual active, selected peers</p></td></tr><tr><td class="src"><a id="v:TraceDemoteLocalHotPeers" class="def">TraceDemoteLocalHotPeers</a> [(<a href="Ouroboros-Network-PeerSelection-State-LocalRootPeers.html#t:HotValency" title="Ouroboros.Network.PeerSelection.State.LocalRootPeers">HotValency</a>, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>)] (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</td><td class="doc"><p>local per-group (target active, actual active), selected peers</p></td></tr><tr><td class="src"><a id="v:TraceDemoteHotFailed" class="def">TraceDemoteHotFailed</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a></td><td class="doc"><p>target active, actual active, peer, reason</p></td></tr><tr><td class="src"><a id="v:TraceDemoteHotDone" class="def">TraceDemoteHotDone</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr</td><td class="doc"><p>target active, actual active, peer</p></td></tr><tr><td class="src"><a id="v:TraceDemoteHotBigLedgerPeers" class="def">TraceDemoteHotBigLedgerPeers</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</td><td class="doc"><p>target active big ledger peers, actual active big ledger peers,
 selected peers</p></td></tr><tr><td class="src"><a id="v:TraceDemoteHotBigLedgerPeerFailed" class="def">TraceDemoteHotBigLedgerPeerFailed</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a></td><td class="doc"><p>target active big ledger peers, actual active big ledger peers, peer,
 reason</p></td></tr><tr><td class="src"><a id="v:TraceDemoteHotBigLedgerPeerDone" class="def">TraceDemoteHotBigLedgerPeerDone</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> peeraddr</td><td class="doc"><p>target active big ledger peers, actual active big ledger peers, peer</p></td></tr><tr><td class="src"><a id="v:TraceDemoteAsynchronous" class="def">TraceDemoteAsynchronous</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> peeraddr (<a href="Ouroboros-Network-PeerSelection-Types.html#t:PeerStatus" title="Ouroboros.Network.PeerSelection.Types">PeerStatus</a>, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Ouroboros-Network-ExitPolicy.html#t:RepromoteDelay" title="Ouroboros.Network.ExitPolicy">RepromoteDelay</a>))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TraceDemoteLocalAsynchronous" class="def">TraceDemoteLocalAsynchronous</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> peeraddr (<a href="Ouroboros-Network-PeerSelection-Types.html#t:PeerStatus" title="Ouroboros.Network.PeerSelection.Types">PeerStatus</a>, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Ouroboros-Network-ExitPolicy.html#t:RepromoteDelay" title="Ouroboros.Network.ExitPolicy">RepromoteDelay</a>))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TraceDemoteBigLedgerPeersAsynchronous" class="def">TraceDemoteBigLedgerPeersAsynchronous</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> peeraddr (<a href="Ouroboros-Network-PeerSelection-Types.html#t:PeerStatus" title="Ouroboros.Network.PeerSelection.Types">PeerStatus</a>, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Ouroboros-Network-ExitPolicy.html#t:RepromoteDelay" title="Ouroboros.Network.ExitPolicy">RepromoteDelay</a>))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TraceGovernorWakeup" class="def">TraceGovernorWakeup</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TraceChurnWait" class="def">TraceChurnWait</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TraceChurnMode" class="def">TraceChurnMode</a> <a href="Ouroboros-Network-PeerSelection-Governor.html#t:ChurnMode" title="Ouroboros.Network.PeerSelection.Governor">ChurnMode</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:TracePeerSelection">Instances</h4><details id="i:TracePeerSelection" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TracePeerSelection:Show:1"></span> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> peeraddr, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> peeraddr) =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Network-PeerSelection-Governor.html#t:TracePeerSelection" title="Ouroboros.Network.PeerSelection.Governor">TracePeerSelection</a> peeraddr)</span> <a href="src/Ouroboros.Network.PeerSelection.Governor.Types.html#line-958" class="link">Source</a> <a href="#t:TracePeerSelection" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TracePeerSelection:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-PeerSelection-Governor-Types.html">Ouroboros.Network.PeerSelection.Governor.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Network-PeerSelection-Governor.html#t:TracePeerSelection" title="Ouroboros.Network.PeerSelection.Governor">TracePeerSelection</a> peeraddr -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Network-PeerSelection-Governor.html#t:TracePeerSelection" title="Ouroboros.Network.PeerSelection.Governor">TracePeerSelection</a> peeraddr -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Network-PeerSelection-Governor.html#t:TracePeerSelection" title="Ouroboros.Network.PeerSelection.Governor">TracePeerSelection</a> peeraddr] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:DebugPeerSelection" class="def">DebugPeerSelection</a> peeraddr <span class="keyword">where</span> <a href="src/Ouroboros.Network.PeerSelection.Governor.Types.html#DebugPeerSelection" class="link">Source</a> <a href="#t:DebugPeerSelection" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:TraceGovernorState" class="def">TraceGovernorState</a> :: <span class="keyword">forall</span> peeraddr peerconn. <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> peerconn =&gt; Time -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a> -&gt; <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionState" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionState</a> peeraddr peerconn -&gt; <a href="Ouroboros-Network-PeerSelection-Governor.html#t:DebugPeerSelection" title="Ouroboros.Network.PeerSelection.Governor">DebugPeerSelection</a> peeraddr</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:DebugPeerSelection">Instances</h4><details id="i:DebugPeerSelection" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DebugPeerSelection:Show:1"></span> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> peeraddr, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> peeraddr) =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Network-PeerSelection-Governor.html#t:DebugPeerSelection" title="Ouroboros.Network.PeerSelection.Governor">DebugPeerSelection</a> peeraddr)</span> <a href="src/Ouroboros.Network.PeerSelection.Governor.Types.html#line-968" class="link">Source</a> <a href="#t:DebugPeerSelection" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DebugPeerSelection:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-PeerSelection-Governor-Types.html">Ouroboros.Network.PeerSelection.Governor.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Network-PeerSelection-Governor.html#t:DebugPeerSelection" title="Ouroboros.Network.PeerSelection.Governor">DebugPeerSelection</a> peeraddr -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Network-PeerSelection-Governor.html#t:DebugPeerSelection" title="Ouroboros.Network.PeerSelection.Governor">DebugPeerSelection</a> peeraddr -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Network-PeerSelection-Governor.html#t:DebugPeerSelection" title="Ouroboros.Network.PeerSelection.Governor">DebugPeerSelection</a> peeraddr] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:peerSelectionGovernor" class="def">peerSelectionGovernor</a> :: (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Applicative.html#t:Alternative" title="Control.Applicative">Alternative</a> (STM m), MonadAsync m, MonadDelay m, MonadLabelledSTM m, MonadMask m, MonadTimer m, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> peeraddr, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> peerconn) =&gt; Tracer m (<a href="Ouroboros-Network-PeerSelection-Governor.html#t:TracePeerSelection" title="Ouroboros.Network.PeerSelection.Governor">TracePeerSelection</a> peeraddr) -&gt; Tracer m (<a href="Ouroboros-Network-PeerSelection-Governor.html#t:DebugPeerSelection" title="Ouroboros.Network.PeerSelection.Governor">DebugPeerSelection</a> peeraddr) -&gt; Tracer m <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionCounters" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionCounters</a> -&gt; StdGen -&gt; StrictTVar m (<a href="Ouroboros-Network-PeerSelection-Governor.html#t:PublicPeerSelectionState" title="Ouroboros.Network.PeerSelection.Governor">PublicPeerSelectionState</a> peeraddr) -&gt; <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionActions" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionActions</a> peeraddr peerconn m -&gt; <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionPolicy" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionPolicy</a> peeraddr m -&gt; m <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Void.html#t:Void" title="Data.Void">Void</a> <a href="src/Ouroboros.Network.PeerSelection.Governor.html#peerSelectionGovernor" class="link">Source</a> <a href="#v:peerSelectionGovernor" class="selflink">#</a></p><div class="doc empty">&nbsp;</div></div><a href="#g:2" id="g:2"><h1>Peer churn governor</h1></a><div class="top"><p class="src"><a id="v:peerChurnGovernor" class="def">peerChurnGovernor</a> <a href="src/Ouroboros.Network.PeerSelection.Churn.html#peerChurnGovernor" class="link">Source</a> <a href="#v:peerChurnGovernor" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> m peeraddr. (MonadSTM m, MonadDelay m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; Tracer m (<a href="Ouroboros-Network-PeerSelection-Governor.html#t:TracePeerSelection" title="Ouroboros.Network.PeerSelection.Governor">TracePeerSelection</a> peeraddr)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></td><td class="doc"><p>the base for churn interval in the deadline mode.</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></td><td class="doc"><p>the base for churn interval in the bulk sync mode.</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></td><td class="doc"><p>the max peersharing timeout</p></td></tr><tr><td class="src">-&gt; <a href="Ouroboros-Network-PeerSelection-PeerMetric.html#t:PeerMetrics" title="Ouroboros.Network.PeerSelection.PeerMetric">PeerMetrics</a> m peeraddr</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; StrictTVar m <a href="Ouroboros-Network-PeerSelection-Governor.html#t:ChurnMode" title="Ouroboros.Network.PeerSelection.Governor">ChurnMode</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; StdGen</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; STM m <a href="Ouroboros-Network-BlockFetch-Decision.html#t:FetchMode" title="Ouroboros.Network.BlockFetch.Decision">FetchMode</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionTargets</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; StrictTVar m <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionTargets</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; m <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Void.html#t:Void" title="Data.Void">Void</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Churn governor.</p><p>At every churn interval decrease active peers for a short while (1s), so that
 we can pick new ones. Then we churn non-active peers.</p><p>On startup the churn governor gives a head start to local root peers over
 root peers.</p></div></div><a href="#g:3" id="g:3"><h1>Internals exported for testing</h1></a><div class="top"><p class="src"><a id="v:assertPeerSelectionState" class="def">assertPeerSelectionState</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> peeraddr =&gt; <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionState" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionState</a> peeraddr peerconn -&gt; a -&gt; a <a href="src/Ouroboros.Network.PeerSelection.Governor.Types.html#assertPeerSelectionState" class="link">Source</a> <a href="#v:assertPeerSelectionState" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:sanePeerSelectionTargets" class="def">sanePeerSelectionTargets</a> :: <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionTargets</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Ouroboros.Network.PeerSelection.Governor.Types.html#sanePeerSelectionTargets" class="link">Source</a> <a href="#v:sanePeerSelectionTargets" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:establishedPeersStatus" class="def">establishedPeersStatus</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> peeraddr =&gt; <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionState" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionState</a> peeraddr peerconn -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> peeraddr <a href="Ouroboros-Network-PeerSelection-Types.html#t:PeerStatus" title="Ouroboros.Network.PeerSelection.Types">PeerStatus</a> <a href="src/Ouroboros.Network.PeerSelection.Governor.Types.html#establishedPeersStatus" class="link">Source</a> <a href="#v:establishedPeersStatus" class="selflink">#</a></p><div class="doc"><p>A view of the status of each established peer, for testing and debugging.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PeerSelectionState" class="def">PeerSelectionState</a> peeraddr peerconn <a href="src/Ouroboros.Network.PeerSelection.Governor.Types.html#PeerSelectionState" class="link">Source</a> <a href="#t:PeerSelectionState" class="selflink">#</a></p><div class="doc"><p>The internal state used by the <code>peerSelectionGovernor</code>.</p><p>The local and public root sets are disjoint, and their union is the
 overall root set.</p><p>Documentation of individual fields describes some of the invariants these
 structures should maintain. For the entire picture, see
 <code><a href="Ouroboros-Network-PeerSelection-Governor.html#v:assertPeerSelectionState" title="Ouroboros.Network.PeerSelection.Governor">assertPeerSelectionState</a></code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PeerSelectionState" class="def">PeerSelectionState</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:targets" class="def">targets</a> :: !<a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionTargets</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:localRootPeers" class="def">localRootPeers</a> :: !(<a href="Ouroboros-Network-PeerSelection-State-LocalRootPeers.html#t:LocalRootPeers" title="Ouroboros.Network.PeerSelection.State.LocalRootPeers">LocalRootPeers</a> peeraddr)</dfn><div class="doc"><p>The current set of local root peers. This is structured as a
 bunch of groups, with a target for each group. This gives us a set of
 n-of-m choices, e.g. &quot;pick 2 from this group and 1 from this group&quot;.</p><p>The targets must of course be achievable, and to keep things simple,
 the groups must be disjoint.</p></div></li><li><dfn class="src"><a id="v:publicRootPeers" class="def">publicRootPeers</a> :: !(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:bigLedgerPeers" class="def">bigLedgerPeers</a> :: !(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</dfn><div class="doc"><p>Set of big ledger peers.</p></div></li><li><dfn class="src"><a id="v:knownPeers" class="def">knownPeers</a> :: !(<a href="Ouroboros-Network-PeerSelection-State-KnownPeers.html#t:KnownPeers" title="Ouroboros.Network.PeerSelection.State.KnownPeers">KnownPeers</a> peeraddr)</dfn><div class="doc"><p>Known peers.</p></div></li><li><dfn class="src"><a id="v:establishedPeers" class="def">establishedPeers</a> :: !(<a href="Ouroboros-Network-PeerSelection-State-EstablishedPeers.html#t:EstablishedPeers" title="Ouroboros.Network.PeerSelection.State.EstablishedPeers">EstablishedPeers</a> peeraddr peerconn)</dfn><div class="doc"><p>Established peers.</p></div></li><li><dfn class="src"><a id="v:activePeers" class="def">activePeers</a> :: !(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</dfn><div class="doc"><p>Active peers.</p></div></li><li><dfn class="src"><a id="v:publicRootBackoffs" class="def">publicRootBackoffs</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>A counter to manage the exponential backoff strategy for when to
 retry querying for more public root peers. It is negative for retry
 counts after failure, and positive for retry counts that are
 successful but make no progress.</p></div></li><li><dfn class="src"><a id="v:publicRootRetryTime" class="def">publicRootRetryTime</a> :: !Time</dfn><div class="doc"><p>The earliest time we would be prepared to request more public root
 peers. This is used with the <code><a href="Ouroboros-Network-PeerSelection-Governor.html#v:publicRootBackoffs" title="Ouroboros.Network.PeerSelection.Governor">publicRootBackoffs</a></code> to manage the
 exponential backoff.</p></div></li><li><dfn class="src"><a id="v:inProgressPublicRootsReq" class="def">inProgressPublicRootsReq</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc"><p>Whether a request for more public root peers is in progress.</p></div></li><li><dfn class="src"><a id="v:bigLedgerPeerBackoffs" class="def">bigLedgerPeerBackoffs</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>A counter to manage the exponential backoff strategy for when to
 retry querying for more public root peers. It is negative for retry
 counts after failure, and positive for retry counts that are
 successful but make no progress.</p></div></li><li><dfn class="src"><a id="v:bigLedgerPeerRetryTime" class="def">bigLedgerPeerRetryTime</a> :: !Time</dfn><div class="doc"><p>The earliest time we would be prepared to request more big ledger
 peers. This is used with the <code><a href="Ouroboros-Network-PeerSelection-Governor.html#v:bigLedgerPeerBackoffs" title="Ouroboros.Network.PeerSelection.Governor">bigLedgerPeerBackoffs</a></code> to manage the
 exponential backoff.</p></div></li><li><dfn class="src"><a id="v:inProgressBigLedgerPeersReq" class="def">inProgressBigLedgerPeersReq</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc"><p>Whether a request for more big ledger peers is in progress.</p></div></li><li><dfn class="src"><a id="v:inProgressPeerShareReqs" class="def">inProgressPeerShareReqs</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:inProgressPromoteCold" class="def">inProgressPromoteCold</a> :: !(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:inProgressPromoteWarm" class="def">inProgressPromoteWarm</a> :: !(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:inProgressDemoteWarm" class="def">inProgressDemoteWarm</a> :: !(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:inProgressDemoteHot" class="def">inProgressDemoteHot</a> :: !(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:inProgressDemoteToCold" class="def">inProgressDemoteToCold</a> :: !(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr)</dfn><div class="doc"><p>Peers that had an async demotion and their connections are still
 being closed</p></div></li><li><dfn class="src"><a id="v:fuzzRng" class="def">fuzzRng</a> :: !StdGen</dfn><div class="doc"><p>Rng for fuzzy delay</p></div></li><li><dfn class="src"><a id="v:countersCache" class="def">countersCache</a> :: !(Cache <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionCounters" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionCounters</a>)</dfn><div class="doc"><p><code><a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionCounters" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionCounters</a></code> counters cache. Allows to only trace
 values when necessary.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PeerSelectionState">Instances</h4><details id="i:PeerSelectionState" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PeerSelectionState:Show:1"></span> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> peeraddr, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> peeraddr, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> peerconn) =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionState" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionState</a> peeraddr peerconn)</span> <a href="src/Ouroboros.Network.PeerSelection.Governor.Types.html#line-438" class="link">Source</a> <a href="#t:PeerSelectionState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PeerSelectionState:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-PeerSelection-Governor-Types.html">Ouroboros.Network.PeerSelection.Governor.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionState" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionState</a> peeraddr peerconn -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionState" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionState</a> peeraddr peerconn -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionState" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionState</a> peeraddr peerconn] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:PublicPeerSelectionState" class="def">PublicPeerSelectionState</a> peeraddr <a href="src/Ouroboros.Network.PeerSelection.Governor.Types.html#PublicPeerSelectionState" class="link">Source</a> <a href="#t:PublicPeerSelectionState" class="selflink">#</a></p><div class="doc"><p>Public <code><a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionState" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionState</a></code> that can be accessed by Peer Sharing
 mechanisms without any problem.</p><p>This data type should not expose too much information and keep only
 essential data needed for computing the peer sharing request result</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PublicPeerSelectionState" class="def">PublicPeerSelectionState</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:availableToShare" class="def">availableToShare</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> peeraddr</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PeerSelectionCounters" class="def">PeerSelectionCounters</a> <a href="src/Ouroboros.Network.PeerSelection.Governor.Types.html#PeerSelectionCounters" class="link">Source</a> <a href="#t:PeerSelectionCounters" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PeerSelectionCounters" class="def">PeerSelectionCounters</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:coldPeers" class="def">coldPeers</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>All cold peers including ledger peers, root peers, big ledger peers
 and peers discovered through peer sharing.</p></div></li><li><dfn class="src"><a id="v:warmPeers" class="def">warmPeers</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>All warm peers including ledger peers, root peers, big ledger peers,
 local root peers and peers discovered through peer sharing.</p></div></li><li><dfn class="src"><a id="v:hotPeers" class="def">hotPeers</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>All hot peers including ledger peers, root peers, big ledger peers,
 local root peers and peers discovered through peer sharing.</p></div></li><li><dfn class="src"><a id="v:coldBigLedgerPeers" class="def">coldBigLedgerPeers</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>Cold big ledger peers.</p></div></li><li><dfn class="src"><a id="v:warmBigLedgerPeers" class="def">warmBigLedgerPeers</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>Warm big ledger peers.</p></div></li><li><dfn class="src"><a id="v:hotBigLedgerPeers" class="def">hotBigLedgerPeers</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>Hot big ledger peers.</p></div></li><li><dfn class="src"><a id="v:localRoots" class="def">localRoots</a> :: ![(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>)]</dfn><div class="doc"><p>Local root peers with one entry per group. First entry is the number
 of warm peers in that group the second is the number of hot peers in
 that group.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PeerSelectionCounters">Instances</h4><details id="i:PeerSelectionCounters" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PeerSelectionCounters:Show:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionCounters" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionCounters</a></span> <a href="src/Ouroboros.Network.PeerSelection.Governor.Types.html#line-493" class="link">Source</a> <a href="#t:PeerSelectionCounters" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PeerSelectionCounters:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-PeerSelection-Governor-Types.html">Ouroboros.Network.PeerSelection.Governor.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionCounters" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionCounters</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionCounters" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionCounters</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionCounters" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionCounters</a>] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PeerSelectionCounters:Eq:2"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionCounters" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionCounters</a></span> <a href="src/Ouroboros.Network.PeerSelection.Governor.Types.html#line-493" class="link">Source</a> <a href="#t:PeerSelectionCounters" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PeerSelectionCounters:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-PeerSelection-Governor-Types.html">Ouroboros.Network.PeerSelection.Governor.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionCounters" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionCounters</a> -&gt; <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionCounters" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionCounters</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionCounters" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionCounters</a> -&gt; <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionCounters" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionCounters</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:nullPeerSelectionTargets" class="def">nullPeerSelectionTargets</a> :: <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionTargets</a> <a href="src/Ouroboros.Network.PeerSelection.Governor.Types.html#nullPeerSelectionTargets" class="link">Source</a> <a href="#v:nullPeerSelectionTargets" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:emptyPeerSelectionState" class="def">emptyPeerSelectionState</a> :: StdGen -&gt; [(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>)] -&gt; <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionState" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionState</a> peeraddr peerconn <a href="src/Ouroboros.Network.PeerSelection.Governor.Types.html#emptyPeerSelectionState" class="link">Source</a> <a href="#v:emptyPeerSelectionState" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:emptyPublicPeerSelectionState" class="def">emptyPublicPeerSelectionState</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> peeraddr =&gt; <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PublicPeerSelectionState" title="Ouroboros.Network.PeerSelection.Governor">PublicPeerSelectionState</a> peeraddr <a href="src/Ouroboros.Network.PeerSelection.Governor.Types.html#emptyPublicPeerSelectionState" class="link">Source</a> <a href="#v:emptyPublicPeerSelectionState" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ChurnMode" class="def">ChurnMode</a> <a href="src/Ouroboros.Network.PeerSelection.Governor.Types.html#ChurnMode" class="link">Source</a> <a href="#t:ChurnMode" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ChurnModeBulkSync" class="def">ChurnModeBulkSync</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ChurnModeNormal" class="def">ChurnModeNormal</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ChurnMode">Instances</h4><details id="i:ChurnMode" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ChurnMode:Show:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ouroboros-Network-PeerSelection-Governor.html#t:ChurnMode" title="Ouroboros.Network.PeerSelection.Governor">ChurnMode</a></span> <a href="src/Ouroboros.Network.PeerSelection.Governor.Types.html#line-972" class="link">Source</a> <a href="#t:ChurnMode" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ChurnMode:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-PeerSelection-Governor-Types.html">Ouroboros.Network.PeerSelection.Governor.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Network-PeerSelection-Governor.html#t:ChurnMode" title="Ouroboros.Network.PeerSelection.Governor">ChurnMode</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Network-PeerSelection-Governor.html#t:ChurnMode" title="Ouroboros.Network.PeerSelection.Governor">ChurnMode</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Network-PeerSelection-Governor.html#t:ChurnMode" title="Ouroboros.Network.PeerSelection.Governor">ChurnMode</a>] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.1</p></div></body></html>