<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Ouroboros.Network.BlockFetch.State</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ouroboros-network-0.11.0.0: A networking layer for the Ouroboros blockchain protocol</span><ul class="links" id="page-menu"><li id="quick-jump-button"><a href="#">Quick Jump</a></li><li><a href="src/Ouroboros.Network.BlockFetch.State.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Ouroboros.Network.BlockFetch.State</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:fetchLogicIterations">fetchLogicIterations</a> :: (HasHeader header, HasHeader block, HeaderHash header <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Type-Equality.html#t:-126-" title="Data.Type.Equality">~</a> HeaderHash block, MonadDelay m, MonadSTM m, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> peer, Hashable peer) =&gt; Tracer m [<a href="Ouroboros-Network-BlockFetch-State.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.State">TraceLabelPeer</a> peer (<a href="Ouroboros-Network-BlockFetch-State.html#t:FetchDecision" title="Ouroboros.Network.BlockFetch.State">FetchDecision</a> [Point header])] -&gt; Tracer m (<a href="Ouroboros-Network-BlockFetch-State.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.State">TraceLabelPeer</a> peer (<a href="Ouroboros-Network-BlockFetch-State.html#t:TraceFetchClientState" title="Ouroboros.Network.BlockFetch.State">TraceFetchClientState</a> header)) -&gt; <a href="Ouroboros-Network-BlockFetch-State.html#t:FetchDecisionPolicy" title="Ouroboros.Network.BlockFetch.State">FetchDecisionPolicy</a> header -&gt; <a href="Ouroboros-Network-BlockFetch-State.html#t:FetchTriggerVariables" title="Ouroboros.Network.BlockFetch.State">FetchTriggerVariables</a> peer header m -&gt; <a href="Ouroboros-Network-BlockFetch-State.html#t:FetchNonTriggerVariables" title="Ouroboros.Network.BlockFetch.State">FetchNonTriggerVariables</a> peer header block m -&gt; m <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Void.html#t:Void" title="Data.Void">Void</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:FetchDecisionPolicy">FetchDecisionPolicy</a> header = <a href="#v:FetchDecisionPolicy">FetchDecisionPolicy</a> {<ul class="subs"><li><a href="#v:maxInFlightReqsPerPeer">maxInFlightReqsPerPeer</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word" title="Data.Word">Word</a></li><li><a href="#v:maxConcurrencyBulkSync">maxConcurrencyBulkSync</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word" title="Data.Word">Word</a></li><li><a href="#v:maxConcurrencyDeadline">maxConcurrencyDeadline</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word" title="Data.Word">Word</a></li><li><a href="#v:decisionLoopInterval">decisionLoopInterval</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></li><li><a href="#v:peerSalt">peerSalt</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:plausibleCandidateChain">plausibleCandidateChain</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; AnchoredFragment header -&gt; AnchoredFragment header -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li><a href="#v:compareCandidateChains">compareCandidateChains</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; AnchoredFragment header -&gt; AnchoredFragment header -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a></li><li><a href="#v:blockFetchSize">blockFetchSize</a> :: header -&gt; <a href="Ouroboros-Network-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.DeltaQ">SizeInBytes</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:FetchTriggerVariables">FetchTriggerVariables</a> peer header m = <a href="#v:FetchTriggerVariables">FetchTriggerVariables</a> {<ul class="subs"><li><a href="#v:readStateCurrentChain">readStateCurrentChain</a> :: STM m (AnchoredFragment header)</li><li><a href="#v:readStateCandidateChains">readStateCandidateChains</a> :: STM m (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> peer (AnchoredFragment header))</li><li><a href="#v:readStatePeerStatus">readStatePeerStatus</a> :: STM m (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> peer (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header))</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:FetchNonTriggerVariables">FetchNonTriggerVariables</a> peer header block m = <a href="#v:FetchNonTriggerVariables">FetchNonTriggerVariables</a> {<ul class="subs"><li><a href="#v:readStateFetchedBlocks">readStateFetchedBlocks</a> :: STM m (Point block -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>)</li><li><a href="#v:readStatePeerStateVars">readStatePeerStateVars</a> :: STM m (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> peer (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchClientStateVars" title="Ouroboros.Network.BlockFetch.ClientState">FetchClientStateVars</a> m header))</li><li><a href="#v:readStatePeerGSVs">readStatePeerGSVs</a> :: STM m (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> peer <a href="Ouroboros-Network-DeltaQ.html#t:PeerGSV" title="Ouroboros.Network.DeltaQ">PeerGSV</a>)</li><li><a href="#v:readStateFetchMode">readStateFetchMode</a> :: STM m <a href="Ouroboros-Network-BlockFetch-State.html#t:FetchMode" title="Ouroboros.Network.BlockFetch.State">FetchMode</a></li><li><a href="#v:readStateFetchedMaxSlotNo">readStateFetchedMaxSlotNo</a> :: STM m MaxSlotNo</li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:FetchDecision">FetchDecision</a> result = <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Ouroboros-Network-BlockFetch-State.html#t:FetchDecline" title="Ouroboros.Network.BlockFetch.State">FetchDecline</a> result</li><li class="src short"><span class="keyword">data</span> <a href="#t:FetchDecline">FetchDecline</a><ul class="subs"><li>= <a href="#v:FetchDeclineChainNotPlausible">FetchDeclineChainNotPlausible</a></li><li>| <a href="#v:FetchDeclineChainIntersectionTooDeep">FetchDeclineChainIntersectionTooDeep</a></li><li>| <a href="#v:FetchDeclineAlreadyFetched">FetchDeclineAlreadyFetched</a></li><li>| <a href="#v:FetchDeclineInFlightThisPeer">FetchDeclineInFlightThisPeer</a></li><li>| <a href="#v:FetchDeclineInFlightOtherPeer">FetchDeclineInFlightOtherPeer</a></li><li>| <a href="#v:FetchDeclinePeerShutdown">FetchDeclinePeerShutdown</a></li><li>| <a href="#v:FetchDeclinePeerStarting">FetchDeclinePeerStarting</a></li><li>| <a href="#v:FetchDeclinePeerSlow">FetchDeclinePeerSlow</a></li><li>| <a href="#v:FetchDeclineReqsInFlightLimit">FetchDeclineReqsInFlightLimit</a> !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word" title="Data.Word">Word</a></li><li>| <a href="#v:FetchDeclineBytesInFlightLimit">FetchDeclineBytesInFlightLimit</a> !<a href="Ouroboros-Network-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.DeltaQ">SizeInBytes</a> !<a href="Ouroboros-Network-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.DeltaQ">SizeInBytes</a> !<a href="Ouroboros-Network-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.DeltaQ">SizeInBytes</a></li><li>| <a href="#v:FetchDeclinePeerBusy">FetchDeclinePeerBusy</a> !<a href="Ouroboros-Network-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.DeltaQ">SizeInBytes</a> !<a href="Ouroboros-Network-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.DeltaQ">SizeInBytes</a> !<a href="Ouroboros-Network-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.DeltaQ">SizeInBytes</a></li><li>| <a href="#v:FetchDeclineConcurrencyLimit">FetchDeclineConcurrencyLimit</a> !<a href="Ouroboros-Network-BlockFetch-State.html#t:FetchMode" title="Ouroboros.Network.BlockFetch.State">FetchMode</a> !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word" title="Data.Word">Word</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:FetchMode">FetchMode</a><ul class="subs"><li>= <a href="#v:FetchModeBulkSync">FetchModeBulkSync</a></li><li>| <a href="#v:FetchModeDeadline">FetchModeDeadline</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:TraceLabelPeer">TraceLabelPeer</a> peerid a = <a href="#v:TraceLabelPeer">TraceLabelPeer</a> peerid a</li><li class="src short"><span class="keyword">data</span> <a href="#t:TraceFetchClientState">TraceFetchClientState</a> header<ul class="subs"><li>= <a href="#v:AddedFetchRequest">AddedFetchRequest</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchRequest" title="Ouroboros.Network.BlockFetch.ClientState">FetchRequest</a> header) (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header) <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header)</li><li>| <a href="#v:AcknowledgedFetchRequest">AcknowledgedFetchRequest</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchRequest" title="Ouroboros.Network.BlockFetch.ClientState">FetchRequest</a> header)</li><li>| <a href="#v:SendFetchRequest">SendFetchRequest</a> (AnchoredFragment header) <a href="Ouroboros-Network-DeltaQ.html#t:PeerGSV" title="Ouroboros.Network.DeltaQ">PeerGSV</a></li><li>| <a href="#v:StartedFetchBatch">StartedFetchBatch</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> (Point header)) (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header) <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header)</li><li>| <a href="#v:CompletedBlockFetch">CompletedBlockFetch</a> (Point header) (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header) <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a> <a href="Ouroboros-Network-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.DeltaQ">SizeInBytes</a></li><li>| <a href="#v:CompletedFetchBatch">CompletedFetchBatch</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> (Point header)) (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header) <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header)</li><li>| <a href="#v:RejectedFetchBatch">RejectedFetchBatch</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> (Point header)) (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header) <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header)</li><li>| <a href="#v:ClientTerminating">ClientTerminating</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li></ul></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:fetchLogicIterations" class="def">fetchLogicIterations</a> :: (HasHeader header, HasHeader block, HeaderHash header <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Type-Equality.html#t:-126-" title="Data.Type.Equality">~</a> HeaderHash block, MonadDelay m, MonadSTM m, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> peer, Hashable peer) =&gt; Tracer m [<a href="Ouroboros-Network-BlockFetch-State.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.State">TraceLabelPeer</a> peer (<a href="Ouroboros-Network-BlockFetch-State.html#t:FetchDecision" title="Ouroboros.Network.BlockFetch.State">FetchDecision</a> [Point header])] -&gt; Tracer m (<a href="Ouroboros-Network-BlockFetch-State.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.State">TraceLabelPeer</a> peer (<a href="Ouroboros-Network-BlockFetch-State.html#t:TraceFetchClientState" title="Ouroboros.Network.BlockFetch.State">TraceFetchClientState</a> header)) -&gt; <a href="Ouroboros-Network-BlockFetch-State.html#t:FetchDecisionPolicy" title="Ouroboros.Network.BlockFetch.State">FetchDecisionPolicy</a> header -&gt; <a href="Ouroboros-Network-BlockFetch-State.html#t:FetchTriggerVariables" title="Ouroboros.Network.BlockFetch.State">FetchTriggerVariables</a> peer header m -&gt; <a href="Ouroboros-Network-BlockFetch-State.html#t:FetchNonTriggerVariables" title="Ouroboros.Network.BlockFetch.State">FetchNonTriggerVariables</a> peer header block m -&gt; m <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Void.html#t:Void" title="Data.Void">Void</a> <a href="src/Ouroboros.Network.BlockFetch.State.html#fetchLogicIterations" class="link">Source</a> <a href="#v:fetchLogicIterations" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:FetchDecisionPolicy" class="def">FetchDecisionPolicy</a> header <a href="src/Ouroboros.Network.BlockFetch.Decision.html#FetchDecisionPolicy" class="link">Source</a> <a href="#t:FetchDecisionPolicy" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:FetchDecisionPolicy" class="def">FetchDecisionPolicy</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:maxInFlightReqsPerPeer" class="def">maxInFlightReqsPerPeer</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word" title="Data.Word">Word</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:maxConcurrencyBulkSync" class="def">maxConcurrencyBulkSync</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word" title="Data.Word">Word</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:maxConcurrencyDeadline" class="def">maxConcurrencyDeadline</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word" title="Data.Word">Word</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:decisionLoopInterval" class="def">decisionLoopInterval</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:peerSalt" class="def">peerSalt</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:plausibleCandidateChain" class="def">plausibleCandidateChain</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; AnchoredFragment header -&gt; AnchoredFragment header -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:compareCandidateChains" class="def">compareCandidateChains</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; AnchoredFragment header -&gt; AnchoredFragment header -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:blockFetchSize" class="def">blockFetchSize</a> :: header -&gt; <a href="Ouroboros-Network-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.DeltaQ">SizeInBytes</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:FetchTriggerVariables" class="def">FetchTriggerVariables</a> peer header m <a href="src/Ouroboros.Network.BlockFetch.State.html#FetchTriggerVariables" class="link">Source</a> <a href="#t:FetchTriggerVariables" class="selflink">#</a></p><div class="doc"><p>STM actions to read various state variables that the fetch logic depends
 upon. Any change in these variables is a trigger to re-evaluate the decision
 on what blocks to fetch.</p><p>Note that this is a &quot;level trigger&quot; not an &quot;edge trigger&quot;: we do not
 have to re-evaluate on every change, it is sufficient to re-evaluate at some
 stage after one or more changes. This means it is ok to get somewhat behind,
 and it is not necessary to determine exactly what changed, just that there
 was some change.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:FetchTriggerVariables" class="def">FetchTriggerVariables</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:readStateCurrentChain" class="def">readStateCurrentChain</a> :: STM m (AnchoredFragment header)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:readStateCandidateChains" class="def">readStateCandidateChains</a> :: STM m (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> peer (AnchoredFragment header))</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:readStatePeerStatus" class="def">readStatePeerStatus</a> :: STM m (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> peer (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header))</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:FetchNonTriggerVariables" class="def">FetchNonTriggerVariables</a> peer header block m <a href="src/Ouroboros.Network.BlockFetch.State.html#FetchNonTriggerVariables" class="link">Source</a> <a href="#t:FetchNonTriggerVariables" class="selflink">#</a></p><div class="doc"><p>STM actions to read various state variables that the fetch logic uses.
 While the decisions do make use of the values of these variables, it is not
 necessary to re-evaluate when these variables change.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:FetchNonTriggerVariables" class="def">FetchNonTriggerVariables</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:readStateFetchedBlocks" class="def">readStateFetchedBlocks</a> :: STM m (Point block -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:readStatePeerStateVars" class="def">readStatePeerStateVars</a> :: STM m (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> peer (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchClientStateVars" title="Ouroboros.Network.BlockFetch.ClientState">FetchClientStateVars</a> m header))</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:readStatePeerGSVs" class="def">readStatePeerGSVs</a> :: STM m (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> peer <a href="Ouroboros-Network-DeltaQ.html#t:PeerGSV" title="Ouroboros.Network.DeltaQ">PeerGSV</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:readStateFetchMode" class="def">readStateFetchMode</a> :: STM m <a href="Ouroboros-Network-BlockFetch-State.html#t:FetchMode" title="Ouroboros.Network.BlockFetch.State">FetchMode</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:readStateFetchedMaxSlotNo" class="def">readStateFetchedMaxSlotNo</a> :: STM m MaxSlotNo</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:FetchDecision" class="def">FetchDecision</a> result = <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Ouroboros-Network-BlockFetch-State.html#t:FetchDecline" title="Ouroboros.Network.BlockFetch.State">FetchDecline</a> result <a href="src/Ouroboros.Network.BlockFetch.Decision.html#FetchDecision" class="link">Source</a> <a href="#t:FetchDecision" class="selflink">#</a></p><div class="doc"><p>Throughout the decision making process we accumulate reasons to decline
 to fetch any blocks. This type is used to wrap intermediate and final
 results.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:FetchDecline" class="def">FetchDecline</a> <a href="src/Ouroboros.Network.BlockFetch.Decision.html#FetchDecline" class="link">Source</a> <a href="#t:FetchDecline" class="selflink">#</a></p><div class="doc"><p>All the various reasons we can decide not to fetch blocks from a peer.</p><p>It is worth highlighting which of these reasons result from competition
 among upstream peers.</p><ul><li><code><a href="Ouroboros-Network-BlockFetch-State.html#v:FetchDeclineInFlightOtherPeer" title="Ouroboros.Network.BlockFetch.State">FetchDeclineInFlightOtherPeer</a></code>: decline this peer because all the
   unfetched blocks of its candidate chain have already been requested from
   other peers. This reason reflects the least-consequential competition
   among peers: the competition that determines merely which upstream peer to
   burden with the request (eg the one with the best
   <code><a href="Ouroboros-Network-BlockFetch-DeltaQ.html#v:DeltaQ" title="Ouroboros.Network.BlockFetch.DeltaQ">DeltaQ</a></code> metrics). The consequences
   are relatively minor because the unfetched blocks on this peer's candidate
   chain will be requested regardless; it's merely a question of &quot;From who?&quot;.
   (One exception: if an adversarial peer wins this competition such that the
   blocks are only requested from them, then it may be possible that this
   decision determines whether the blocks are ever <em>received</em>. But that
   depends on details of timeouts, a longer competing chain being soon
   received within those timeouts, and so on.)</li><li><code><a href="Ouroboros-Network-BlockFetch-State.html#v:FetchDeclineChainNotPlausible" title="Ouroboros.Network.BlockFetch.State">FetchDeclineChainNotPlausible</a></code>: decline this peer because the node has
   already fetched, validated, and selected a chain better than its candidate
   chain from other peers (or from the node's own block forge). Because the
   node's current selection is influenced by what blocks other peers have
   recently served (or it recently minted), this reason reflects that peers
   <em>indirectly</em> compete by serving as long of a chain as possible and as
   promptly as possible. When the tips of the peers' selections are all
   within their respective forecast horizons (see
   <code><a href="Ouroboros-Consensus-Ledger-SupportsProtocol.html#v:ledgerViewForecastAt" title="Ouroboros.Consensus.Ledger.SupportsProtocol">ledgerViewForecastAt</a></code>), then
   the length of their candidate chains will typically be the length of their
   selections, since the ChainSync is free to race ahead (in contrast, the
   BlockFetch pipeline depth is bounded such that it will, for a syncing
   node, not be able to request all blocks between the selection and the end
   of the forecast window). But if one or more of their tips is beyond the
   horizon, then the relative length of the candidate chains is more
   complicated, influenced by both the relative density of the chains'
   suffixes and the relative age of the chains' intersection with the node's
   selection (since each peer's forecast horizon is a fixed number of slots
   after the candidate's successor of that intersection).</li><li><code><a href="Ouroboros-Network-BlockFetch-State.html#v:FetchDeclineConcurrencyLimit" title="Ouroboros.Network.BlockFetch.State">FetchDeclineConcurrencyLimit</a></code>: decline this peer while the node has
   already fully allocated the artificially scarce <code>maxConcurrentFetchPeers</code>
   resource amongst its other peers. This reason reflects the
   least-fundamental competition: it's the only way a node would decline a
   candidate chain C that it would immediately switch to if C had somehow
   already been fetched (and any better current candidates hadn't). It is
   possible that this peer's candidate fragment is better than the candidate
   fragments of other peers, but that should only happen ephemerally (eg for
   a brief while immediately after first connecting to this peer).</li><li><code><a href="Ouroboros-Network-BlockFetch-State.html#v:FetchDeclineChainIntersectionTooDeep" title="Ouroboros.Network.BlockFetch.State">FetchDeclineChainIntersectionTooDeep</a></code>: decline this peer because the node's
   selection has more than <code>K</code> blocks that are not on this peer's candidate
   chain. Typically, this reason occurs after the node has been declined---ie
   lost the above competitions---for a long enough duration. This decision
   only arises if the BlockFetch decision logic wins a harmless race against
   the ChainSync client once the node's selection gets longer, since
   <code><a href="Ouroboros-Consensus-MiniProtocol-ChainSync-Client.html#v:ForkTooDeep" title="Ouroboros.Consensus.MiniProtocol.ChainSync.Client">ForkTooDeep</a></code>
   disconnects from such a peer.</li></ul></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:FetchDeclineChainNotPlausible" class="def">FetchDeclineChainNotPlausible</a></td><td class="doc"><p>This peer's candidate chain is not longer than our chain. For more
 details see
 <code><a href="Ouroboros-Consensus-MiniProtocol-BlockFetch-ClientInterface.html#v:mkBlockFetchConsensusInterface" title="Ouroboros.Consensus.MiniProtocol.BlockFetch.ClientInterface">mkBlockFetchConsensusInterface</a></code>
 which implements <code><a href="Ouroboros-Network-BlockFetch-State.html#v:plausibleCandidateChain" title="Ouroboros.Network.BlockFetch.State">plausibleCandidateChain</a></code>.</p></td></tr><tr><td class="src"><a id="v:FetchDeclineChainIntersectionTooDeep" class="def">FetchDeclineChainIntersectionTooDeep</a></td><td class="doc"><p>Switching to this peer's candidate chain would require rolling back
 more than <code>K</code> blocks.</p></td></tr><tr><td class="src"><a id="v:FetchDeclineAlreadyFetched" class="def">FetchDeclineAlreadyFetched</a></td><td class="doc"><p>Every block on this peer's candidate chain has already been fetched.</p></td></tr><tr><td class="src"><a id="v:FetchDeclineInFlightThisPeer" class="def">FetchDeclineInFlightThisPeer</a></td><td class="doc"><p>This peer's candidate chain has already been requested from this
 peer.</p></td></tr><tr><td class="src"><a id="v:FetchDeclineInFlightOtherPeer" class="def">FetchDeclineInFlightOtherPeer</a></td><td class="doc"><p>Some blocks on this peer's candidate chain have not yet been fetched,
 but all of those have already been requested from other peers.</p></td></tr><tr><td class="src"><a id="v:FetchDeclinePeerShutdown" class="def">FetchDeclinePeerShutdown</a></td><td class="doc"><p>This peer's BlockFetch client is shutting down, see
 <code><a href="Ouroboros-Network-BlockFetch-ClientState.html#v:PeerFetchStatusShutdown" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatusShutdown</a></code>.</p></td></tr><tr><td class="src"><a id="v:FetchDeclinePeerStarting" class="def">FetchDeclinePeerStarting</a></td><td class="doc"><p>Blockfetch is starting up and waiting on corresponding Chainsync.</p></td></tr><tr><td class="src"><a id="v:FetchDeclinePeerSlow" class="def">FetchDeclinePeerSlow</a></td><td class="doc"><p>This peer is in a potentially-temporary state in which it has not
 responded to us within a certain expected time limit, see
 <code><a href="Ouroboros-Network-BlockFetch-ClientState.html#v:PeerFetchStatusAberrant" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatusAberrant</a></code>.</p></td></tr><tr><td class="src"><a id="v:FetchDeclineReqsInFlightLimit" class="def">FetchDeclineReqsInFlightLimit</a> !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word" title="Data.Word">Word</a></td><td class="doc"><p>This peer is not under the <code><a href="Ouroboros-Network-BlockFetch-State.html#v:maxInFlightReqsPerPeer" title="Ouroboros.Network.BlockFetch.State">maxInFlightReqsPerPeer</a></code> limit.</p><p>The argument is the <code><a href="Ouroboros-Network-BlockFetch-State.html#v:maxInFlightReqsPerPeer" title="Ouroboros.Network.BlockFetch.State">maxInFlightReqsPerPeer</a></code> constant.</p></td></tr><tr><td class="src"><a id="v:FetchDeclineBytesInFlightLimit" class="def">FetchDeclineBytesInFlightLimit</a> !<a href="Ouroboros-Network-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.DeltaQ">SizeInBytes</a> !<a href="Ouroboros-Network-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.DeltaQ">SizeInBytes</a> !<a href="Ouroboros-Network-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.DeltaQ">SizeInBytes</a></td><td class="doc"><p>This peer is not under the <code><a href="Ouroboros-Network-BlockFetch-DeltaQ.html#v:inFlightBytesHighWatermark" title="Ouroboros.Network.BlockFetch.DeltaQ">inFlightBytesHighWatermark</a></code> bytes limit.</p><p>The arguments are:</p><ul><li>number of bytes currently in flight for that peer</li><li>the configured <code><a href="Ouroboros-Network-BlockFetch-DeltaQ.html#v:inFlightBytesLowWatermark" title="Ouroboros.Network.BlockFetch.DeltaQ">inFlightBytesLowWatermark</a></code> constant</li><li>the configured <code><a href="Ouroboros-Network-BlockFetch-DeltaQ.html#v:inFlightBytesHighWatermark" title="Ouroboros.Network.BlockFetch.DeltaQ">inFlightBytesHighWatermark</a></code> constant</li></ul></td></tr><tr><td class="src"><a id="v:FetchDeclinePeerBusy" class="def">FetchDeclinePeerBusy</a> !<a href="Ouroboros-Network-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.DeltaQ">SizeInBytes</a> !<a href="Ouroboros-Network-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.DeltaQ">SizeInBytes</a> !<a href="Ouroboros-Network-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.DeltaQ">SizeInBytes</a></td><td class="doc"><p>This peer is not under the <code><a href="Ouroboros-Network-BlockFetch-DeltaQ.html#v:inFlightBytesLowWatermark" title="Ouroboros.Network.BlockFetch.DeltaQ">inFlightBytesLowWatermark</a></code>.</p><p>The arguments are:</p><ul><li>number of bytes currently in flight for that peer</li><li>the configured <code><a href="Ouroboros-Network-BlockFetch-DeltaQ.html#v:inFlightBytesLowWatermark" title="Ouroboros.Network.BlockFetch.DeltaQ">inFlightBytesLowWatermark</a></code> constant</li><li>the configured <code><a href="Ouroboros-Network-BlockFetch-DeltaQ.html#v:inFlightBytesHighWatermark" title="Ouroboros.Network.BlockFetch.DeltaQ">inFlightBytesHighWatermark</a></code> constant</li></ul></td></tr><tr><td class="src"><a id="v:FetchDeclineConcurrencyLimit" class="def">FetchDeclineConcurrencyLimit</a> !<a href="Ouroboros-Network-BlockFetch-State.html#t:FetchMode" title="Ouroboros.Network.BlockFetch.State">FetchMode</a> !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word" title="Data.Word">Word</a></td><td class="doc"><p>The node is not under the <code>maxConcurrentFetchPeers</code> limit.</p><p>The arguments are:</p><ul><li>the current <code><a href="Ouroboros-Network-BlockFetch-State.html#t:FetchMode" title="Ouroboros.Network.BlockFetch.State">FetchMode</a></code></li><li>the corresponding configured limit constant, either
   <code><a href="Ouroboros-Network-BlockFetch-State.html#v:maxConcurrencyBulkSync" title="Ouroboros.Network.BlockFetch.State">maxConcurrencyBulkSync</a></code> or <code><a href="Ouroboros-Network-BlockFetch-State.html#v:maxConcurrencyDeadline" title="Ouroboros.Network.BlockFetch.State">maxConcurrencyDeadline</a></code></li></ul></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:FetchDecline">Instances</h4><details id="i:FetchDecline" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FetchDecline:Show:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ouroboros-Network-BlockFetch-State.html#t:FetchDecline" title="Ouroboros.Network.BlockFetch.State">FetchDecline</a></span> <a href="src/Ouroboros.Network.BlockFetch.Decision.html#line-230" class="link">Source</a> <a href="#t:FetchDecline" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FetchDecline:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-BlockFetch-Decision.html">Ouroboros.Network.BlockFetch.Decision</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Network-BlockFetch-State.html#t:FetchDecline" title="Ouroboros.Network.BlockFetch.State">FetchDecline</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Network-BlockFetch-State.html#t:FetchDecline" title="Ouroboros.Network.BlockFetch.State">FetchDecline</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Network-BlockFetch-State.html#t:FetchDecline" title="Ouroboros.Network.BlockFetch.State">FetchDecline</a>] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FetchDecline:Eq:2"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Ouroboros-Network-BlockFetch-State.html#t:FetchDecline" title="Ouroboros.Network.BlockFetch.State">FetchDecline</a></span> <a href="src/Ouroboros.Network.BlockFetch.Decision.html#line-230" class="link">Source</a> <a href="#t:FetchDecline" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FetchDecline:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-BlockFetch-Decision.html">Ouroboros.Network.BlockFetch.Decision</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ouroboros-Network-BlockFetch-State.html#t:FetchDecline" title="Ouroboros.Network.BlockFetch.State">FetchDecline</a> -&gt; <a href="Ouroboros-Network-BlockFetch-State.html#t:FetchDecline" title="Ouroboros.Network.BlockFetch.State">FetchDecline</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ouroboros-Network-BlockFetch-State.html#t:FetchDecline" title="Ouroboros.Network.BlockFetch.State">FetchDecline</a> -&gt; <a href="Ouroboros-Network-BlockFetch-State.html#t:FetchDecline" title="Ouroboros.Network.BlockFetch.State">FetchDecline</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:FetchMode" class="def">FetchMode</a> <a href="#t:FetchMode" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:FetchModeBulkSync" class="def">FetchModeBulkSync</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:FetchModeDeadline" class="def">FetchModeDeadline</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:FetchMode">Instances</h4><details id="i:FetchMode" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FetchMode:Show:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ouroboros-Network-BlockFetch-State.html#t:FetchMode" title="Ouroboros.Network.BlockFetch.State">FetchMode</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FetchMode:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-BlockFetch-ConsensusInterface.html">Ouroboros.Network.BlockFetch.ConsensusInterface</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Network-BlockFetch-State.html#t:FetchMode" title="Ouroboros.Network.BlockFetch.State">FetchMode</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Network-BlockFetch-State.html#t:FetchMode" title="Ouroboros.Network.BlockFetch.State">FetchMode</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Network-BlockFetch-State.html#t:FetchMode" title="Ouroboros.Network.BlockFetch.State">FetchMode</a>] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FetchMode:Eq:2"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Ouroboros-Network-BlockFetch-State.html#t:FetchMode" title="Ouroboros.Network.BlockFetch.State">FetchMode</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FetchMode:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-BlockFetch-ConsensusInterface.html">Ouroboros.Network.BlockFetch.ConsensusInterface</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ouroboros-Network-BlockFetch-State.html#t:FetchMode" title="Ouroboros.Network.BlockFetch.State">FetchMode</a> -&gt; <a href="Ouroboros-Network-BlockFetch-State.html#t:FetchMode" title="Ouroboros.Network.BlockFetch.State">FetchMode</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ouroboros-Network-BlockFetch-State.html#t:FetchMode" title="Ouroboros.Network.BlockFetch.State">FetchMode</a> -&gt; <a href="Ouroboros-Network-BlockFetch-State.html#t:FetchMode" title="Ouroboros.Network.BlockFetch.State">FetchMode</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TraceLabelPeer" class="def">TraceLabelPeer</a> peerid a <a href="#t:TraceLabelPeer" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:TraceLabelPeer" class="def">TraceLabelPeer</a> peerid a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:TraceLabelPeer">Instances</h4><details id="i:TraceLabelPeer" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TraceLabelPeer:Bifunctor:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bifunctor.html#t:Bifunctor" title="Data.Bifunctor">Bifunctor</a> <a href="Ouroboros-Network-BlockFetch-State.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.State">TraceLabelPeer</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TraceLabelPeer:Bifunctor:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Network-Mux-Trace.html">Network.Mux.Trace</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:bimap">bimap</a> :: (a -&gt; b) -&gt; (c -&gt; d) -&gt; <a href="Ouroboros-Network-BlockFetch-State.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.State">TraceLabelPeer</a> a c -&gt; <a href="Ouroboros-Network-BlockFetch-State.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.State">TraceLabelPeer</a> b d <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:bimap" class="selflink">#</a></p><p class="src"><a href="#v:first">first</a> :: (a -&gt; b) -&gt; <a href="Ouroboros-Network-BlockFetch-State.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.State">TraceLabelPeer</a> a c -&gt; <a href="Ouroboros-Network-BlockFetch-State.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.State">TraceLabelPeer</a> b c <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:first" class="selflink">#</a></p><p class="src"><a href="#v:second">second</a> :: (b -&gt; c) -&gt; <a href="Ouroboros-Network-BlockFetch-State.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.State">TraceLabelPeer</a> a b -&gt; <a href="Ouroboros-Network-BlockFetch-State.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.State">TraceLabelPeer</a> a c <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:second" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TraceLabelPeer:Functor:2"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> (<a href="Ouroboros-Network-BlockFetch-State.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.State">TraceLabelPeer</a> peerid)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TraceLabelPeer:Functor:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Network-Mux-Trace.html">Network.Mux.Trace</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Ouroboros-Network-BlockFetch-State.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.State">TraceLabelPeer</a> peerid a -&gt; <a href="Ouroboros-Network-BlockFetch-State.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.State">TraceLabelPeer</a> peerid b <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Ouroboros-Network-BlockFetch-State.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.State">TraceLabelPeer</a> peerid b -&gt; <a href="Ouroboros-Network-BlockFetch-State.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.State">TraceLabelPeer</a> peerid a <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TraceLabelPeer:Show:3"></span> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> peerid, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> a) =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Network-BlockFetch-State.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.State">TraceLabelPeer</a> peerid a)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TraceLabelPeer:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Network-Mux-Trace.html">Network.Mux.Trace</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Network-BlockFetch-State.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.State">TraceLabelPeer</a> peerid a -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Network-BlockFetch-State.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.State">TraceLabelPeer</a> peerid a -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Network-BlockFetch-State.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.State">TraceLabelPeer</a> peerid a] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TraceLabelPeer:Eq:4"></span> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> peerid, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a) =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Ouroboros-Network-BlockFetch-State.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.State">TraceLabelPeer</a> peerid a)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TraceLabelPeer:Eq:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Network-Mux-Trace.html">Network.Mux.Trace</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ouroboros-Network-BlockFetch-State.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.State">TraceLabelPeer</a> peerid a -&gt; <a href="Ouroboros-Network-BlockFetch-State.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.State">TraceLabelPeer</a> peerid a -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ouroboros-Network-BlockFetch-State.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.State">TraceLabelPeer</a> peerid a -&gt; <a href="Ouroboros-Network-BlockFetch-State.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.State">TraceLabelPeer</a> peerid a -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TraceFetchClientState" class="def">TraceFetchClientState</a> header <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#TraceFetchClientState" class="link">Source</a> <a href="#t:TraceFetchClientState" class="selflink">#</a></p><div class="doc"><p>Tracing types for the various events that change the state
 (i.e. <code><a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchClientStateVars" title="Ouroboros.Network.BlockFetch.ClientState">FetchClientStateVars</a></code>) for a block fetch client.</p><p>Note that while these are all state changes, the <code><a href="Ouroboros-Network-BlockFetch-State.html#v:AddedFetchRequest" title="Ouroboros.Network.BlockFetch.State">AddedFetchRequest</a></code> occurs
 in the decision thread while the other state changes occur in the block
 fetch client threads.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:AddedFetchRequest" class="def">AddedFetchRequest</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchRequest" title="Ouroboros.Network.BlockFetch.ClientState">FetchRequest</a> header) (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header) <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header)</td><td class="doc"><p>The block fetch decision thread has added a new fetch instruction
 consisting of one or more individual request ranges.</p></td></tr><tr><td class="src"><a id="v:AcknowledgedFetchRequest" class="def">AcknowledgedFetchRequest</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchRequest" title="Ouroboros.Network.BlockFetch.ClientState">FetchRequest</a> header)</td><td class="doc"><p>Mark the point when the fetch client picks up the request added
 by the block fetch decision thread. Note that this event can happen
 fewer times than the <code><a href="Ouroboros-Network-BlockFetch-State.html#v:AddedFetchRequest" title="Ouroboros.Network.BlockFetch.State">AddedFetchRequest</a></code> due to fetch request merging.</p></td></tr><tr><td class="src"><a id="v:SendFetchRequest" class="def">SendFetchRequest</a> (AnchoredFragment header) <a href="Ouroboros-Network-DeltaQ.html#t:PeerGSV" title="Ouroboros.Network.DeltaQ">PeerGSV</a></td><td class="doc"><p>Mark the point when fetch request for a fragment is actually sent
 over the wire.</p></td></tr><tr><td class="src"><a id="v:StartedFetchBatch" class="def">StartedFetchBatch</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> (Point header)) (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header) <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header)</td><td class="doc"><p>Mark the start of receiving a streaming batch of blocks. This will
 be followed by one or more <code><a href="Ouroboros-Network-BlockFetch-State.html#v:CompletedBlockFetch" title="Ouroboros.Network.BlockFetch.State">CompletedBlockFetch</a></code> and a final
 <code><a href="Ouroboros-Network-BlockFetch-State.html#v:CompletedFetchBatch" title="Ouroboros.Network.BlockFetch.State">CompletedFetchBatch</a></code>.</p></td></tr><tr><td class="src"><a id="v:CompletedBlockFetch" class="def">CompletedBlockFetch</a> (Point header) (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header) <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a> <a href="Ouroboros-Network-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.DeltaQ">SizeInBytes</a></td><td class="doc"><p>Mark the completion of of receiving a single block within a
 streaming batch of blocks.</p></td></tr><tr><td class="src"><a id="v:CompletedFetchBatch" class="def">CompletedFetchBatch</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> (Point header)) (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header) <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header)</td><td class="doc"><p>Mark the successful end of receiving a streaming batch of blocks</p></td></tr><tr><td class="src"><a id="v:RejectedFetchBatch" class="def">RejectedFetchBatch</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> (Point header)) (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header) <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header)</td><td class="doc"><p>If the other peer rejects our request then we have this event
 instead of <code><a href="Ouroboros-Network-BlockFetch-State.html#v:StartedFetchBatch" title="Ouroboros.Network.BlockFetch.State">StartedFetchBatch</a></code> and <code><a href="Ouroboros-Network-BlockFetch-State.html#v:CompletedFetchBatch" title="Ouroboros.Network.BlockFetch.State">CompletedFetchBatch</a></code>.</p></td></tr><tr><td class="src"><a id="v:ClientTerminating" class="def">ClientTerminating</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>The client is terminating.  Log the number of outstanding
 requests.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:TraceFetchClientState">Instances</h4><details id="i:TraceFetchClientState" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TraceFetchClientState:Show:1"></span> (StandardHash header, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> header) =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Network-BlockFetch-State.html#t:TraceFetchClientState" title="Ouroboros.Network.BlockFetch.State">TraceFetchClientState</a> header)</span> <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#line-434" class="link">Source</a> <a href="#t:TraceFetchClientState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TraceFetchClientState:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-BlockFetch-ClientState.html">Ouroboros.Network.BlockFetch.ClientState</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Network-BlockFetch-State.html#t:TraceFetchClientState" title="Ouroboros.Network.BlockFetch.State">TraceFetchClientState</a> header -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Network-BlockFetch-State.html#t:TraceFetchClientState" title="Ouroboros.Network.BlockFetch.State">TraceFetchClientState</a> header -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Network-BlockFetch-State.html#t:TraceFetchClientState" title="Ouroboros.Network.BlockFetch.State">TraceFetchClientState</a> header] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.1</p></div></body></html>