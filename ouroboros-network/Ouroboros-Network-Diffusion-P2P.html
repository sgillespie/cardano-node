<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Ouroboros.Network.Diffusion.P2P</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ouroboros-network-0.11.0.0: A networking layer for the Ouroboros blockchain protocol</span><ul class="links" id="page-menu"><li id="quick-jump-button"><a href="#">Quick Jump</a></li><li><a href="src/Ouroboros.Network.Diffusion.P2P.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Ouroboros.Network.Diffusion.P2P</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module is expected to be imported qualified (it will clash
 with the <a href="Ouroboros-Network-Diffusion-NonP2P.html">Ouroboros.Network.Diffusion.NonP2P</a>).</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:TracersExtra">TracersExtra</a> ntnAddr ntnVersion ntnVersionData ntcAddr ntcVersion ntcVersionData resolverError m = <a href="#v:TracersExtra">TracersExtra</a> {<ul class="subs"><li><a href="#v:dtTraceLocalRootPeersTracer">dtTraceLocalRootPeersTracer</a> :: Tracer m (<a href="Ouroboros-Network-PeerSelection-RootPeersDNS-LocalRootPeers.html#t:TraceLocalRootPeers" title="Ouroboros.Network.PeerSelection.RootPeersDNS.LocalRootPeers">TraceLocalRootPeers</a> ntnAddr resolverError)</li><li><a href="#v:dtTracePublicRootPeersTracer">dtTracePublicRootPeersTracer</a> :: Tracer m <a href="Ouroboros-Network-PeerSelection-RootPeersDNS-PublicRootPeers.html#t:TracePublicRootPeers" title="Ouroboros.Network.PeerSelection.RootPeersDNS.PublicRootPeers">TracePublicRootPeers</a></li><li><a href="#v:dtTraceLedgerPeersTracer">dtTraceLedgerPeersTracer</a> :: Tracer m <a href="Ouroboros-Network-PeerSelection-LedgerPeers.html#t:TraceLedgerPeers" title="Ouroboros.Network.PeerSelection.LedgerPeers">TraceLedgerPeers</a></li><li><a href="#v:dtTracePeerSelectionTracer">dtTracePeerSelectionTracer</a> :: Tracer m (<a href="Ouroboros-Network-PeerSelection-Governor.html#t:TracePeerSelection" title="Ouroboros.Network.PeerSelection.Governor">TracePeerSelection</a> ntnAddr)</li><li><a href="#v:dtDebugPeerSelectionInitiatorTracer">dtDebugPeerSelectionInitiatorTracer</a> :: Tracer m (<a href="Ouroboros-Network-PeerSelection-Governor.html#t:DebugPeerSelection" title="Ouroboros.Network.PeerSelection.Governor">DebugPeerSelection</a> ntnAddr)</li><li><a href="#v:dtDebugPeerSelectionInitiatorResponderTracer">dtDebugPeerSelectionInitiatorResponderTracer</a> :: Tracer m (<a href="Ouroboros-Network-PeerSelection-Governor.html#t:DebugPeerSelection" title="Ouroboros.Network.PeerSelection.Governor">DebugPeerSelection</a> ntnAddr)</li><li><a href="#v:dtTracePeerSelectionCounters">dtTracePeerSelectionCounters</a> :: Tracer m <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionCounters" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionCounters</a></li><li><a href="#v:dtPeerSelectionActionsTracer">dtPeerSelectionActionsTracer</a> :: Tracer m (<a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerSelectionActionsTrace" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerSelectionActionsTrace</a> ntnAddr ntnVersion)</li><li><a href="#v:dtConnectionManagerTracer">dtConnectionManagerTracer</a> :: Tracer m (ConnectionManagerTrace ntnAddr (ConnectionHandlerTrace ntnVersion ntnVersionData))</li><li><a href="#v:dtConnectionManagerTransitionTracer">dtConnectionManagerTransitionTracer</a> :: Tracer m (<a href="Ouroboros-Network-Diffusion-P2P.html#t:AbstractTransitionTrace" title="Ouroboros.Network.Diffusion.P2P">AbstractTransitionTrace</a> ntnAddr)</li><li><a href="#v:dtServerTracer">dtServerTracer</a> :: Tracer m (ServerTrace ntnAddr)</li><li><a href="#v:dtInboundGovernorTracer">dtInboundGovernorTracer</a> :: Tracer m (InboundGovernorTrace ntnAddr)</li><li><a href="#v:dtInboundGovernorTransitionTracer">dtInboundGovernorTransitionTracer</a> :: Tracer m (<a href="Ouroboros-Network-Diffusion-P2P.html#t:RemoteTransitionTrace" title="Ouroboros.Network.Diffusion.P2P">RemoteTransitionTrace</a> ntnAddr)</li><li><a href="#v:dtLocalConnectionManagerTracer">dtLocalConnectionManagerTracer</a> :: Tracer m (ConnectionManagerTrace ntcAddr (ConnectionHandlerTrace ntcVersion ntcVersionData))</li><li><a href="#v:dtLocalServerTracer">dtLocalServerTracer</a> :: Tracer m (ServerTrace ntcAddr)</li><li><a href="#v:dtLocalInboundGovernorTracer">dtLocalInboundGovernorTracer</a> :: Tracer m (InboundGovernorTrace ntcAddr)</li></ul>}</li><li class="src short"><a href="#v:nullTracers">nullTracers</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:TracersExtra" title="Ouroboros.Network.Diffusion.P2P">TracersExtra</a> ntnAddr ntnVersion ntnVersionData ntcAddr ntcVersion ntcVersionData resolverError m</li><li class="src short"><span class="keyword">data</span> <a href="#t:ArgumentsExtra">ArgumentsExtra</a> m = <a href="#v:ArgumentsExtra">ArgumentsExtra</a> {<ul class="subs"><li><a href="#v:daPeerSelectionTargets">daPeerSelectionTargets</a> :: <a href="Ouroboros-Network-PeerSelection-PeerSelectionActions.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.PeerSelectionActions">PeerSelectionTargets</a></li><li><a href="#v:daReadLocalRootPeers">daReadLocalRootPeers</a> :: STM m [(<a href="Ouroboros-Network-PeerSelection-State-LocalRootPeers.html#t:HotValency" title="Ouroboros.Network.PeerSelection.State.LocalRootPeers">HotValency</a>, <a href="Ouroboros-Network-PeerSelection-State-LocalRootPeers.html#t:WarmValency" title="Ouroboros.Network.PeerSelection.State.LocalRootPeers">WarmValency</a>, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> RelayAccessPoint <a href="Ouroboros-Network-PeerSelection-PeerSelectionActions.html#t:PeerAdvertise" title="Ouroboros.Network.PeerSelection.PeerSelectionActions">PeerAdvertise</a>)]</li><li><a href="#v:daReadPublicRootPeers">daReadPublicRootPeers</a> :: STM m (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> RelayAccessPoint <a href="Ouroboros-Network-PeerSelection-PeerSelectionActions.html#t:PeerAdvertise" title="Ouroboros.Network.PeerSelection.PeerSelectionActions">PeerAdvertise</a>)</li><li><a href="#v:daOwnPeerSharing">daOwnPeerSharing</a> :: PeerSharing</li><li><a href="#v:daReadUseLedgerAfter">daReadUseLedgerAfter</a> :: STM m <a href="Ouroboros-Network-PeerSelection-LedgerPeers.html#t:UseLedgerAfter" title="Ouroboros.Network.PeerSelection.LedgerPeers">UseLedgerAfter</a></li><li><a href="#v:daProtocolIdleTimeout">daProtocolIdleTimeout</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></li><li><a href="#v:daTimeWaitTimeout">daTimeWaitTimeout</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></li><li><a href="#v:daDeadlineChurnInterval">daDeadlineChurnInterval</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></li><li><a href="#v:daBulkChurnInterval">daBulkChurnInterval</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:AcceptedConnectionsLimit">AcceptedConnectionsLimit</a> = <a href="#v:AcceptedConnectionsLimit">AcceptedConnectionsLimit</a> {<ul class="subs"><li><a href="#v:acceptedConnectionsHardLimit">acceptedConnectionsHardLimit</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word32" title="Data.Word">Word32</a></li><li><a href="#v:acceptedConnectionsSoftLimit">acceptedConnectionsSoftLimit</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word32" title="Data.Word">Word32</a></li><li><a href="#v:acceptedConnectionsDelay">acceptedConnectionsDelay</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:ApplicationsExtra">ApplicationsExtra</a> ntnAddr m a = <a href="#v:ApplicationsExtra">ApplicationsExtra</a> {<ul class="subs"><li><a href="#v:daRethrowPolicy">daRethrowPolicy</a> :: RethrowPolicy</li><li><a href="#v:daReturnPolicy">daReturnPolicy</a> :: <a href="Ouroboros-Network-ExitPolicy.html#t:ReturnPolicy" title="Ouroboros.Network.ExitPolicy">ReturnPolicy</a> a</li><li><a href="#v:daLocalRethrowPolicy">daLocalRethrowPolicy</a> :: RethrowPolicy</li><li><a href="#v:daPeerMetrics">daPeerMetrics</a> :: <a href="Ouroboros-Network-PeerSelection-PeerMetric.html#t:PeerMetrics" title="Ouroboros.Network.PeerSelection.PeerMetric">PeerMetrics</a> m ntnAddr</li><li><a href="#v:daBlockFetchMode">daBlockFetchMode</a> :: STM m <a href="Ouroboros-Network-BlockFetch-Decision.html#t:FetchMode" title="Ouroboros.Network.BlockFetch.Decision">FetchMode</a></li><li><a href="#v:daPeerSharingRegistry">daPeerSharingRegistry</a> :: <a href="Ouroboros-Network-PeerSharing.html#t:PeerSharingRegistry" title="Ouroboros.Network.PeerSharing">PeerSharingRegistry</a> ntnAddr m</li></ul>}</li><li class="src short"><a href="#v:run">run</a> :: <a href="Ouroboros-Network-Diffusion.html#t:Tracers" title="Ouroboros.Network.Diffusion">Tracers</a> <a href="Ouroboros-Network-NodeToNode.html#t:RemoteAddress" title="Ouroboros.Network.NodeToNode">RemoteAddress</a> <a href="Ouroboros-Network-NodeToNode.html#t:NodeToNodeVersion" title="Ouroboros.Network.NodeToNode">NodeToNodeVersion</a> <a href="Ouroboros-Network-NodeToClient.html#t:LocalAddress" title="Ouroboros.Network.NodeToClient">LocalAddress</a> <a href="Ouroboros-Network-NodeToClient.html#t:NodeToClientVersion" title="Ouroboros.Network.NodeToClient">NodeToClientVersion</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:TracersExtra" title="Ouroboros.Network.Diffusion.P2P">TracersExtra</a> <a href="Ouroboros-Network-NodeToNode.html#t:RemoteAddress" title="Ouroboros.Network.NodeToNode">RemoteAddress</a> <a href="Ouroboros-Network-NodeToNode.html#t:NodeToNodeVersion" title="Ouroboros.Network.NodeToNode">NodeToNodeVersion</a> <a href="Ouroboros-Network-NodeToNode.html#t:NodeToNodeVersionData" title="Ouroboros.Network.NodeToNode">NodeToNodeVersionData</a> <a href="Ouroboros-Network-NodeToClient.html#t:LocalAddress" title="Ouroboros.Network.NodeToClient">LocalAddress</a> <a href="Ouroboros-Network-NodeToClient.html#t:NodeToClientVersion" title="Ouroboros.Network.NodeToClient">NodeToClientVersion</a> <a href="Ouroboros-Network-NodeToClient.html#t:NodeToClientVersionData" title="Ouroboros.Network.NodeToClient">NodeToClientVersionData</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:IOException" title="Control.Exception.Base">IOException</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> -&gt; <a href="Ouroboros-Network-Diffusion.html#t:Arguments" title="Ouroboros.Network.Diffusion">Arguments</a> <a href="Ouroboros-Network-NodeToNode.html#t:Socket" title="Ouroboros.Network.NodeToNode">Socket</a> <a href="Ouroboros-Network-NodeToNode.html#t:RemoteAddress" title="Ouroboros.Network.NodeToNode">RemoteAddress</a> <a href="Ouroboros-Network-NodeToClient.html#t:LocalSocket" title="Ouroboros.Network.NodeToClient">LocalSocket</a> <a href="Ouroboros-Network-NodeToClient.html#t:LocalAddress" title="Ouroboros.Network.NodeToClient">LocalAddress</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:ArgumentsExtra" title="Ouroboros.Network.Diffusion.P2P">ArgumentsExtra</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> -&gt; <a href="Ouroboros-Network-Diffusion.html#t:Applications" title="Ouroboros.Network.Diffusion">Applications</a> <a href="Ouroboros-Network-NodeToNode.html#t:RemoteAddress" title="Ouroboros.Network.NodeToNode">RemoteAddress</a> <a href="Ouroboros-Network-NodeToNode.html#t:NodeToNodeVersion" title="Ouroboros.Network.NodeToNode">NodeToNodeVersion</a> <a href="Ouroboros-Network-NodeToNode.html#t:NodeToNodeVersionData" title="Ouroboros.Network.NodeToNode">NodeToNodeVersionData</a> <a href="Ouroboros-Network-NodeToClient.html#t:LocalAddress" title="Ouroboros.Network.NodeToClient">LocalAddress</a> <a href="Ouroboros-Network-NodeToClient.html#t:NodeToClientVersion" title="Ouroboros.Network.NodeToClient">NodeToClientVersion</a> <a href="Ouroboros-Network-NodeToClient.html#t:NodeToClientVersionData" title="Ouroboros.Network.NodeToClient">NodeToClientVersionData</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:ApplicationsExtra" title="Ouroboros.Network.Diffusion.P2P">ApplicationsExtra</a> <a href="Ouroboros-Network-NodeToNode.html#t:RemoteAddress" title="Ouroboros.Network.NodeToNode">RemoteAddress</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Void.html#t:Void" title="Data.Void">Void</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Interfaces">Interfaces</a> ntnFd ntnAddr ntnVersion ntnVersionData ntcFd ntcAddr ntcVersion ntcVersionData resolver resolverError m = <a href="#v:Interfaces">Interfaces</a> {<ul class="subs"><li><a href="#v:diNtnSnocket">diNtnSnocket</a> :: Snocket m ntnFd ntnAddr</li><li><a href="#v:diNtnBearer">diNtnBearer</a> :: MakeBearer m ntnFd</li><li><a href="#v:diNtnConfigureSocket">diNtnConfigureSocket</a> :: ntnFd -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> ntnAddr -&gt; m ()</li><li><a href="#v:diNtnConfigureSystemdSocket">diNtnConfigureSystemdSocket</a> :: ntnFd -&gt; ntnAddr -&gt; m ()</li><li><a href="#v:diNtnHandshakeArguments">diNtnHandshakeArguments</a> :: HandshakeArguments (<a href="Ouroboros-Network-NodeToClient.html#t:ConnectionId" title="Ouroboros.Network.NodeToClient">ConnectionId</a> ntnAddr) ntnVersion ntnVersionData m</li><li><a href="#v:diNtnAddressType">diNtnAddressType</a> :: ntnAddr -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> AddressType</li><li><a href="#v:diNtnDataFlow">diNtnDataFlow</a> :: ntnVersion -&gt; ntnVersionData -&gt; DataFlow</li><li><a href="#v:diNtnPeerSharing">diNtnPeerSharing</a> :: ntnVersionData -&gt; PeerSharing</li><li><a href="#v:diNtnToPeerAddr">diNtnToPeerAddr</a> :: IP -&gt; PortNumber -&gt; ntnAddr</li><li><a href="#v:diNtcSnocket">diNtcSnocket</a> :: Snocket m ntcFd ntcAddr</li><li><a href="#v:diNtcBearer">diNtcBearer</a> :: MakeBearer m ntcFd</li><li><a href="#v:diNtcHandshakeArguments">diNtcHandshakeArguments</a> :: HandshakeArguments (<a href="Ouroboros-Network-NodeToClient.html#t:ConnectionId" title="Ouroboros.Network.NodeToClient">ConnectionId</a> ntcAddr) ntcVersion ntcVersionData m</li><li><a href="#v:diNtcGetFileDescriptor">diNtcGetFileDescriptor</a> :: ntcFd -&gt; m FileDescriptor</li><li><a href="#v:diRng">diRng</a> :: StdGen</li><li><a href="#v:diInstallSigUSR1Handler">diInstallSigUSR1Handler</a> :: <span class="keyword">forall</span> mode x y. NodeToNodeConnectionManager mode ntnFd ntnAddr ntnVersionData ntnVersion m x y -&gt; m ()</li><li><a href="#v:diDnsActions">diDnsActions</a> :: <a href="Ouroboros-Network-PeerSelection-RootPeersDNS-DNSActions.html#t:DNSLookupType" title="Ouroboros.Network.PeerSelection.RootPeersDNS.DNSActions">DNSLookupType</a> -&gt; <a href="Ouroboros-Network-PeerSelection-RootPeersDNS-DNSActions.html#t:DNSActions" title="Ouroboros.Network.PeerSelection.RootPeersDNS.DNSActions">DNSActions</a> resolver resolverError m</li></ul>}</li><li class="src short"><a href="#v:runM">runM</a> :: <span class="keyword">forall</span> m ntnFd ntnAddr ntnVersion ntnVersionData ntcFd ntcAddr ntcVersion ntcVersionData resolver resolverError a. (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Applicative.html#t:Alternative" title="Control.Applicative">Alternative</a> (STM m), MonadAsync m, MonadDelay m, MonadEvaluate m, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad-Fix.html#t:MonadFix" title="Control.Monad.Fix">MonadFix</a> m, MonadFork m, MonadLabelledSTM m, MonadTraceSTM m, MonadMask m, MonadThrow (STM m), MonadTime m, MonadTimer m, MonadMVar m, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> ntnAddr, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> ntnAddr, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> ntnAddr, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> ntnVersion, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> ntnVersion, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> ntnVersion, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> ntnVersionData, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> ntcAddr, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> ntcAddr, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> ntcAddr, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> ntcVersion, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> resolverError) =&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:Interfaces" title="Ouroboros.Network.Diffusion.P2P">Interfaces</a> ntnFd ntnAddr ntnVersion ntnVersionData ntcFd ntcAddr ntcVersion ntcVersionData resolver resolverError m -&gt; <a href="Ouroboros-Network-Diffusion.html#t:Tracers" title="Ouroboros.Network.Diffusion">Tracers</a> ntnAddr ntnVersion ntcAddr ntcVersion m -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:TracersExtra" title="Ouroboros.Network.Diffusion.P2P">TracersExtra</a> ntnAddr ntnVersion ntnVersionData ntcAddr ntcVersion ntcVersionData resolverError m -&gt; <a href="Ouroboros-Network-Diffusion.html#t:Arguments" title="Ouroboros.Network.Diffusion">Arguments</a> ntnFd ntnAddr ntcFd ntcAddr -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:ArgumentsExtra" title="Ouroboros.Network.Diffusion.P2P">ArgumentsExtra</a> m -&gt; <a href="Ouroboros-Network-Diffusion.html#t:Applications" title="Ouroboros.Network.Diffusion">Applications</a> ntnAddr ntnVersion ntnVersionData ntcAddr ntcVersion ntcVersionData m a -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:ApplicationsExtra" title="Ouroboros.Network.Diffusion.P2P">ApplicationsExtra</a> ntnAddr m a -&gt; m <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Void.html#t:Void" title="Data.Void">Void</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:NodeToNodePeerConnectionHandle">NodeToNodePeerConnectionHandle</a> (mode :: MuxMode) ntnAddr ntnVersionData m a b = <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerConnectionHandle" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerConnectionHandle</a> mode (<a href="Ouroboros-Network-NodeToClient.html#t:ResponderContext" title="Ouroboros.Network.NodeToClient">ResponderContext</a> ntnAddr) ntnAddr ntnVersionData <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> m a b</li><li class="src short"><span class="keyword">type</span> <a href="#t:AbstractTransitionTrace">AbstractTransitionTrace</a> peerAddr = TransitionTrace' peerAddr AbstractState</li><li class="src short"><span class="keyword">type</span> <a href="#t:RemoteTransitionTrace">RemoteTransitionTrace</a> peerAddr = TransitionTrace' peerAddr (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> RemoteSt)</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TracersExtra" class="def">TracersExtra</a> ntnAddr ntnVersion ntnVersionData ntcAddr ntcVersion ntcVersionData resolverError m <a href="src/Ouroboros.Network.Diffusion.P2P.html#TracersExtra" class="link">Source</a> <a href="#t:TracersExtra" class="selflink">#</a></p><div class="doc"><p>P2P DiffusionTracers Extras</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:TracersExtra" class="def">TracersExtra</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:dtTraceLocalRootPeersTracer" class="def">dtTraceLocalRootPeersTracer</a> :: Tracer m (<a href="Ouroboros-Network-PeerSelection-RootPeersDNS-LocalRootPeers.html#t:TraceLocalRootPeers" title="Ouroboros.Network.PeerSelection.RootPeersDNS.LocalRootPeers">TraceLocalRootPeers</a> ntnAddr resolverError)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:dtTracePublicRootPeersTracer" class="def">dtTracePublicRootPeersTracer</a> :: Tracer m <a href="Ouroboros-Network-PeerSelection-RootPeersDNS-PublicRootPeers.html#t:TracePublicRootPeers" title="Ouroboros.Network.PeerSelection.RootPeersDNS.PublicRootPeers">TracePublicRootPeers</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:dtTraceLedgerPeersTracer" class="def">dtTraceLedgerPeersTracer</a> :: Tracer m <a href="Ouroboros-Network-PeerSelection-LedgerPeers.html#t:TraceLedgerPeers" title="Ouroboros.Network.PeerSelection.LedgerPeers">TraceLedgerPeers</a></dfn><div class="doc"><p>Ledger Peers tracer</p></div></li><li><dfn class="src"><a id="v:dtTracePeerSelectionTracer" class="def">dtTracePeerSelectionTracer</a> :: Tracer m (<a href="Ouroboros-Network-PeerSelection-Governor.html#t:TracePeerSelection" title="Ouroboros.Network.PeerSelection.Governor">TracePeerSelection</a> ntnAddr)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:dtDebugPeerSelectionInitiatorTracer" class="def">dtDebugPeerSelectionInitiatorTracer</a> :: Tracer m (<a href="Ouroboros-Network-PeerSelection-Governor.html#t:DebugPeerSelection" title="Ouroboros.Network.PeerSelection.Governor">DebugPeerSelection</a> ntnAddr)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:dtDebugPeerSelectionInitiatorResponderTracer" class="def">dtDebugPeerSelectionInitiatorResponderTracer</a> :: Tracer m (<a href="Ouroboros-Network-PeerSelection-Governor.html#t:DebugPeerSelection" title="Ouroboros.Network.PeerSelection.Governor">DebugPeerSelection</a> ntnAddr)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:dtTracePeerSelectionCounters" class="def">dtTracePeerSelectionCounters</a> :: Tracer m <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionCounters" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionCounters</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:dtPeerSelectionActionsTracer" class="def">dtPeerSelectionActionsTracer</a> :: Tracer m (<a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerSelectionActionsTrace" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerSelectionActionsTrace</a> ntnAddr ntnVersion)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:dtConnectionManagerTracer" class="def">dtConnectionManagerTracer</a> :: Tracer m (ConnectionManagerTrace ntnAddr (ConnectionHandlerTrace ntnVersion ntnVersionData))</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:dtConnectionManagerTransitionTracer" class="def">dtConnectionManagerTransitionTracer</a> :: Tracer m (<a href="Ouroboros-Network-Diffusion-P2P.html#t:AbstractTransitionTrace" title="Ouroboros.Network.Diffusion.P2P">AbstractTransitionTrace</a> ntnAddr)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:dtServerTracer" class="def">dtServerTracer</a> :: Tracer m (ServerTrace ntnAddr)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:dtInboundGovernorTracer" class="def">dtInboundGovernorTracer</a> :: Tracer m (InboundGovernorTrace ntnAddr)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:dtInboundGovernorTransitionTracer" class="def">dtInboundGovernorTransitionTracer</a> :: Tracer m (<a href="Ouroboros-Network-Diffusion-P2P.html#t:RemoteTransitionTrace" title="Ouroboros.Network.Diffusion.P2P">RemoteTransitionTrace</a> ntnAddr)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:dtLocalConnectionManagerTracer" class="def">dtLocalConnectionManagerTracer</a> :: Tracer m (ConnectionManagerTrace ntcAddr (ConnectionHandlerTrace ntcVersion ntcVersionData))</dfn><div class="doc"><p>Connection manager tracer for local clients</p></div></li><li><dfn class="src"><a id="v:dtLocalServerTracer" class="def">dtLocalServerTracer</a> :: Tracer m (ServerTrace ntcAddr)</dfn><div class="doc"><p>Server tracer for local clients</p></div></li><li><dfn class="src"><a id="v:dtLocalInboundGovernorTracer" class="def">dtLocalInboundGovernorTracer</a> :: Tracer m (InboundGovernorTrace ntcAddr)</dfn><div class="doc"><p>Inbound protocol governor tracer for local clients</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:nullTracers" class="def">nullTracers</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:TracersExtra" title="Ouroboros.Network.Diffusion.P2P">TracersExtra</a> ntnAddr ntnVersion ntnVersionData ntcAddr ntcVersion ntcVersionData resolverError m <a href="src/Ouroboros.Network.Diffusion.P2P.html#nullTracers" class="link">Source</a> <a href="#v:nullTracers" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ArgumentsExtra" class="def">ArgumentsExtra</a> m <a href="src/Ouroboros.Network.Diffusion.P2P.html#ArgumentsExtra" class="link">Source</a> <a href="#t:ArgumentsExtra" class="selflink">#</a></p><div class="doc"><p>P2P Arguments Extras</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ArgumentsExtra" class="def">ArgumentsExtra</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:daPeerSelectionTargets" class="def">daPeerSelectionTargets</a> :: <a href="Ouroboros-Network-PeerSelection-PeerSelectionActions.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.PeerSelectionActions">PeerSelectionTargets</a></dfn><div class="doc"><p>selection targets for the peer governor</p></div></li><li><dfn class="src"><a id="v:daReadLocalRootPeers" class="def">daReadLocalRootPeers</a> :: STM m [(<a href="Ouroboros-Network-PeerSelection-State-LocalRootPeers.html#t:HotValency" title="Ouroboros.Network.PeerSelection.State.LocalRootPeers">HotValency</a>, <a href="Ouroboros-Network-PeerSelection-State-LocalRootPeers.html#t:WarmValency" title="Ouroboros.Network.PeerSelection.State.LocalRootPeers">WarmValency</a>, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> RelayAccessPoint <a href="Ouroboros-Network-PeerSelection-PeerSelectionActions.html#t:PeerAdvertise" title="Ouroboros.Network.PeerSelection.PeerSelectionActions">PeerAdvertise</a>)]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:daReadPublicRootPeers" class="def">daReadPublicRootPeers</a> :: STM m (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> RelayAccessPoint <a href="Ouroboros-Network-PeerSelection-PeerSelectionActions.html#t:PeerAdvertise" title="Ouroboros.Network.PeerSelection.PeerSelectionActions">PeerAdvertise</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:daOwnPeerSharing" class="def">daOwnPeerSharing</a> :: PeerSharing</dfn><div class="doc"><p>Peer's own PeerSharing value.</p><p>This value comes from the node's configuration file and is static.</p></div></li><li><dfn class="src"><a id="v:daReadUseLedgerAfter" class="def">daReadUseLedgerAfter</a> :: STM m <a href="Ouroboros-Network-PeerSelection-LedgerPeers.html#t:UseLedgerAfter" title="Ouroboros.Network.PeerSelection.LedgerPeers">UseLedgerAfter</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:daProtocolIdleTimeout" class="def">daProtocolIdleTimeout</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></dfn><div class="doc"><p>Timeout which starts once all responder protocols are idle. If the
 responders stay idle for duration of the timeout, the connection will
 be demoted, if it wasn't used by the p2p-governor it will be closed.</p><p>Applies to <code>Unidirectional</code> as well as <code>Duplex</code> <em>node-to-node</em>
 connections.</p><p>See <code>serverProtocolIdleTimeout</code>.</p></div></li><li><dfn class="src"><a id="v:daTimeWaitTimeout" class="def">daTimeWaitTimeout</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></dfn><div class="doc"><p>Time for which <em>node-to-node</em> connections are kept in
 <code>TerminatingState</code>, it should correspond to the OS configured <code>TCP</code>
 <code>TIME_WAIT</code> timeout.</p><p>This timeout will apply to after a connection has been closed, its
 purpose is to be resilient for delayed packets in the same way <code>TCP</code>
 is using <code>TIME_WAIT</code>.</p></div></li><li><dfn class="src"><a id="v:daDeadlineChurnInterval" class="def">daDeadlineChurnInterval</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></dfn><div class="doc"><p>Churn interval between churn events in deadline mode.  A small fuzz
 is added (max 10 minutes) so that not all nodes churn at the same time.</p><p>By default it is set to 3300 seconds.</p></div></li><li><dfn class="src"><a id="v:daBulkChurnInterval" class="def">daBulkChurnInterval</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></dfn><div class="doc"><p>Churn interval between churn events in bulk sync mode.  A small fuzz
 is added (max 1 minute) so that not all nodes churn at the same time.</p><p>By default it is set to 300 seconds.</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:AcceptedConnectionsLimit" class="def">AcceptedConnectionsLimit</a> <a href="#t:AcceptedConnectionsLimit" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:AcceptedConnectionsLimit" class="def">AcceptedConnectionsLimit</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:acceptedConnectionsHardLimit" class="def">acceptedConnectionsHardLimit</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word32" title="Data.Word">Word32</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:acceptedConnectionsSoftLimit" class="def">acceptedConnectionsSoftLimit</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word32" title="Data.Word">Word32</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:acceptedConnectionsDelay" class="def">acceptedConnectionsDelay</a> :: !<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/time-1.12.2/Data-Time-Clock.html#t:DiffTime" title="Data.Time.Clock">DiffTime</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:AcceptedConnectionsLimit">Instances</h4><details id="i:AcceptedConnectionsLimit" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AcceptedConnectionsLimit:Show:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AcceptedConnectionsLimit:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Server-RateLimiting.html">Ouroboros.Network.Server.RateLimiting</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a>] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AcceptedConnectionsLimit:Eq:2"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AcceptedConnectionsLimit:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Server-RateLimiting.html">Ouroboros.Network.Server.RateLimiting</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AcceptedConnectionsLimit:Ord:3"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AcceptedConnectionsLimit:Ord:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Server-RateLimiting.html">Ouroboros.Network.Server.RateLimiting</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ApplicationsExtra" class="def">ApplicationsExtra</a> ntnAddr m a <a href="src/Ouroboros.Network.Diffusion.P2P.html#ApplicationsExtra" class="link">Source</a> <a href="#t:ApplicationsExtra" class="selflink">#</a></p><div class="doc"><p>P2P Applications Extras</p><p>TODO: we need initiator only mode for Daedalus, there's no reason why it
 should run a node-to-node server side.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ApplicationsExtra" class="def">ApplicationsExtra</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:daRethrowPolicy" class="def">daRethrowPolicy</a> :: RethrowPolicy</dfn><div class="doc"><p><em>node-to-node</em> rethrow policy</p></div></li><li><dfn class="src"><a id="v:daReturnPolicy" class="def">daReturnPolicy</a> :: <a href="Ouroboros-Network-ExitPolicy.html#t:ReturnPolicy" title="Ouroboros.Network.ExitPolicy">ReturnPolicy</a> a</dfn><div class="doc"><p><em>node-to-node</em> return policy</p></div></li><li><dfn class="src"><a id="v:daLocalRethrowPolicy" class="def">daLocalRethrowPolicy</a> :: RethrowPolicy</dfn><div class="doc"><p><em>node-to-client</em> rethrow policy</p></div></li><li><dfn class="src"><a id="v:daPeerMetrics" class="def">daPeerMetrics</a> :: <a href="Ouroboros-Network-PeerSelection-PeerMetric.html#t:PeerMetrics" title="Ouroboros.Network.PeerSelection.PeerMetric">PeerMetrics</a> m ntnAddr</dfn><div class="doc"><p><code><a href="Ouroboros-Network-PeerSelection-PeerMetric.html#t:PeerMetrics" title="Ouroboros.Network.PeerSelection.PeerMetric">PeerMetrics</a></code> used by peer selection policy (see
 <code>simplePeerSelectionPolicy</code>)</p></div></li><li><dfn class="src"><a id="v:daBlockFetchMode" class="def">daBlockFetchMode</a> :: STM m <a href="Ouroboros-Network-BlockFetch-Decision.html#t:FetchMode" title="Ouroboros.Network.BlockFetch.Decision">FetchMode</a></dfn><div class="doc"><p>Used by churn-governor</p></div></li><li><dfn class="src"><a id="v:daPeerSharingRegistry" class="def">daPeerSharingRegistry</a> :: <a href="Ouroboros-Network-PeerSharing.html#t:PeerSharingRegistry" title="Ouroboros.Network.PeerSharing">PeerSharingRegistry</a> ntnAddr m</dfn><div class="doc"><p>Used for peer sharing protocol</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:run" class="def">run</a> :: <a href="Ouroboros-Network-Diffusion.html#t:Tracers" title="Ouroboros.Network.Diffusion">Tracers</a> <a href="Ouroboros-Network-NodeToNode.html#t:RemoteAddress" title="Ouroboros.Network.NodeToNode">RemoteAddress</a> <a href="Ouroboros-Network-NodeToNode.html#t:NodeToNodeVersion" title="Ouroboros.Network.NodeToNode">NodeToNodeVersion</a> <a href="Ouroboros-Network-NodeToClient.html#t:LocalAddress" title="Ouroboros.Network.NodeToClient">LocalAddress</a> <a href="Ouroboros-Network-NodeToClient.html#t:NodeToClientVersion" title="Ouroboros.Network.NodeToClient">NodeToClientVersion</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:TracersExtra" title="Ouroboros.Network.Diffusion.P2P">TracersExtra</a> <a href="Ouroboros-Network-NodeToNode.html#t:RemoteAddress" title="Ouroboros.Network.NodeToNode">RemoteAddress</a> <a href="Ouroboros-Network-NodeToNode.html#t:NodeToNodeVersion" title="Ouroboros.Network.NodeToNode">NodeToNodeVersion</a> <a href="Ouroboros-Network-NodeToNode.html#t:NodeToNodeVersionData" title="Ouroboros.Network.NodeToNode">NodeToNodeVersionData</a> <a href="Ouroboros-Network-NodeToClient.html#t:LocalAddress" title="Ouroboros.Network.NodeToClient">LocalAddress</a> <a href="Ouroboros-Network-NodeToClient.html#t:NodeToClientVersion" title="Ouroboros.Network.NodeToClient">NodeToClientVersion</a> <a href="Ouroboros-Network-NodeToClient.html#t:NodeToClientVersionData" title="Ouroboros.Network.NodeToClient">NodeToClientVersionData</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:IOException" title="Control.Exception.Base">IOException</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> -&gt; <a href="Ouroboros-Network-Diffusion.html#t:Arguments" title="Ouroboros.Network.Diffusion">Arguments</a> <a href="Ouroboros-Network-NodeToNode.html#t:Socket" title="Ouroboros.Network.NodeToNode">Socket</a> <a href="Ouroboros-Network-NodeToNode.html#t:RemoteAddress" title="Ouroboros.Network.NodeToNode">RemoteAddress</a> <a href="Ouroboros-Network-NodeToClient.html#t:LocalSocket" title="Ouroboros.Network.NodeToClient">LocalSocket</a> <a href="Ouroboros-Network-NodeToClient.html#t:LocalAddress" title="Ouroboros.Network.NodeToClient">LocalAddress</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:ArgumentsExtra" title="Ouroboros.Network.Diffusion.P2P">ArgumentsExtra</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> -&gt; <a href="Ouroboros-Network-Diffusion.html#t:Applications" title="Ouroboros.Network.Diffusion">Applications</a> <a href="Ouroboros-Network-NodeToNode.html#t:RemoteAddress" title="Ouroboros.Network.NodeToNode">RemoteAddress</a> <a href="Ouroboros-Network-NodeToNode.html#t:NodeToNodeVersion" title="Ouroboros.Network.NodeToNode">NodeToNodeVersion</a> <a href="Ouroboros-Network-NodeToNode.html#t:NodeToNodeVersionData" title="Ouroboros.Network.NodeToNode">NodeToNodeVersionData</a> <a href="Ouroboros-Network-NodeToClient.html#t:LocalAddress" title="Ouroboros.Network.NodeToClient">LocalAddress</a> <a href="Ouroboros-Network-NodeToClient.html#t:NodeToClientVersion" title="Ouroboros.Network.NodeToClient">NodeToClientVersion</a> <a href="Ouroboros-Network-NodeToClient.html#t:NodeToClientVersionData" title="Ouroboros.Network.NodeToClient">NodeToClientVersionData</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:ApplicationsExtra" title="Ouroboros.Network.Diffusion.P2P">ApplicationsExtra</a> <a href="Ouroboros-Network-NodeToNode.html#t:RemoteAddress" title="Ouroboros.Network.NodeToNode">RemoteAddress</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Void.html#t:Void" title="Data.Void">Void</a> <a href="src/Ouroboros.Network.Diffusion.P2P.html#run" class="link">Source</a> <a href="#v:run" class="selflink">#</a></p><div class="doc"><p>Main entry point for data diffusion service.  It allows to:</p><ul><li>connect to upstream peers;</li><li>accept connection from downstream peers, if run in
  <code><a href="Ouroboros-Network-NodeToNode.html#v:InitiatorAndResponderDiffusionMode" title="Ouroboros.Network.NodeToNode">InitiatorAndResponderDiffusionMode</a></code>.</li><li>runs a local service which allows to use node-to-client protocol to obtain
   information from the running system.  This is used by 'cardano-cli' or
   a wallet and a like local services.</li></ul></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Interfaces" class="def">Interfaces</a> ntnFd ntnAddr ntnVersion ntnVersionData ntcFd ntcAddr ntcVersion ntcVersionData resolver resolverError m <a href="src/Ouroboros.Network.Diffusion.P2P.html#Interfaces" class="link">Source</a> <a href="#t:Interfaces" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Interfaces" class="def">Interfaces</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:diNtnSnocket" class="def">diNtnSnocket</a> :: Snocket m ntnFd ntnAddr</dfn><div class="doc"><p>node-to-node snocket</p></div></li><li><dfn class="src"><a id="v:diNtnBearer" class="def">diNtnBearer</a> :: MakeBearer m ntnFd</dfn><div class="doc"><p>node-to-node <code>MakeBearer</code> callback</p></div></li><li><dfn class="src"><a id="v:diNtnConfigureSocket" class="def">diNtnConfigureSocket</a> :: ntnFd -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> ntnAddr -&gt; m ()</dfn><div class="doc"><p>node-to-node socket configuration</p></div></li><li><dfn class="src"><a id="v:diNtnConfigureSystemdSocket" class="def">diNtnConfigureSystemdSocket</a> :: ntnFd -&gt; ntnAddr -&gt; m ()</dfn><div class="doc"><p>node-to-node systemd socket configuration</p></div></li><li><dfn class="src"><a id="v:diNtnHandshakeArguments" class="def">diNtnHandshakeArguments</a> :: HandshakeArguments (<a href="Ouroboros-Network-NodeToClient.html#t:ConnectionId" title="Ouroboros.Network.NodeToClient">ConnectionId</a> ntnAddr) ntnVersion ntnVersionData m</dfn><div class="doc"><p>node-to-node handshake configuration</p></div></li><li><dfn class="src"><a id="v:diNtnAddressType" class="def">diNtnAddressType</a> :: ntnAddr -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> AddressType</dfn><div class="doc"><p>node-to-node address type</p></div></li><li><dfn class="src"><a id="v:diNtnDataFlow" class="def">diNtnDataFlow</a> :: ntnVersion -&gt; ntnVersionData -&gt; DataFlow</dfn><div class="doc"><p>node-to-node data flow used by connection manager to classify
 negotiated connections</p></div></li><li><dfn class="src"><a id="v:diNtnPeerSharing" class="def">diNtnPeerSharing</a> :: ntnVersionData -&gt; PeerSharing</dfn><div class="doc"><p>remote side peer sharing information used by peer selection governor
 to decide which peers are available for performing peer sharing</p></div></li><li><dfn class="src"><a id="v:diNtnToPeerAddr" class="def">diNtnToPeerAddr</a> :: IP -&gt; PortNumber -&gt; ntnAddr</dfn><div class="doc"><p>node-to-node peer address</p></div></li><li><dfn class="src"><a id="v:diNtcSnocket" class="def">diNtcSnocket</a> :: Snocket m ntcFd ntcAddr</dfn><div class="doc"><p>node-to-client snocket</p></div></li><li><dfn class="src"><a id="v:diNtcBearer" class="def">diNtcBearer</a> :: MakeBearer m ntcFd</dfn><div class="doc"><p>node-to-client <code>MakeBearer</code> callback</p></div></li><li><dfn class="src"><a id="v:diNtcHandshakeArguments" class="def">diNtcHandshakeArguments</a> :: HandshakeArguments (<a href="Ouroboros-Network-NodeToClient.html#t:ConnectionId" title="Ouroboros.Network.NodeToClient">ConnectionId</a> ntcAddr) ntcVersion ntcVersionData m</dfn><div class="doc"><p>node-to-client handshake configuration</p></div></li><li><dfn class="src"><a id="v:diNtcGetFileDescriptor" class="def">diNtcGetFileDescriptor</a> :: ntcFd -&gt; m FileDescriptor</dfn><div class="doc"><p>node-to-client file descriptor</p></div></li><li><dfn class="src"><a id="v:diRng" class="def">diRng</a> :: StdGen</dfn><div class="doc"><p>diffusion pseudo random generator. It is split between various
 components that need randomness, e.g. inbound governor, peer
 selection, policies, etc.</p></div></li><li><dfn class="src"><a id="v:diInstallSigUSR1Handler" class="def">diInstallSigUSR1Handler</a> :: <span class="keyword">forall</span> mode x y. NodeToNodeConnectionManager mode ntnFd ntnAddr ntnVersionData ntnVersion m x y -&gt; m ()</dfn><div class="doc"><p>callback which is used to register <code>SIGUSR1</code> signal handler.</p></div></li><li><dfn class="src"><a id="v:diDnsActions" class="def">diDnsActions</a> :: <a href="Ouroboros-Network-PeerSelection-RootPeersDNS-DNSActions.html#t:DNSLookupType" title="Ouroboros.Network.PeerSelection.RootPeersDNS.DNSActions">DNSLookupType</a> -&gt; <a href="Ouroboros-Network-PeerSelection-RootPeersDNS-DNSActions.html#t:DNSActions" title="Ouroboros.Network.PeerSelection.RootPeersDNS.DNSActions">DNSActions</a> resolver resolverError m</dfn><div class="doc"><p>diffusion dns actions</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:runM" class="def">runM</a> <a href="src/Ouroboros.Network.Diffusion.P2P.html#runM" class="link">Source</a> <a href="#v:runM" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> m ntnFd ntnAddr ntnVersion ntnVersionData ntcFd ntcAddr ntcVersion ntcVersionData resolver resolverError a. (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Applicative.html#t:Alternative" title="Control.Applicative">Alternative</a> (STM m), MonadAsync m, MonadDelay m, MonadEvaluate m, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad-Fix.html#t:MonadFix" title="Control.Monad.Fix">MonadFix</a> m, MonadFork m, MonadLabelledSTM m, MonadTraceSTM m, MonadMask m, MonadThrow (STM m), MonadTime m, MonadTimer m, MonadMVar m, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> ntnAddr, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> ntnAddr, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> ntnAddr, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> ntnVersion, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> ntnVersion, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> ntnVersion, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> ntnVersionData, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> ntcAddr, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> ntcAddr, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> ntcAddr, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> ntcVersion, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> resolverError)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:Interfaces" title="Ouroboros.Network.Diffusion.P2P">Interfaces</a> ntnFd ntnAddr ntnVersion ntnVersionData ntcFd ntcAddr ntcVersion ntcVersionData resolver resolverError m</td><td class="doc"><p>interfaces</p></td></tr><tr><td class="src">-&gt; <a href="Ouroboros-Network-Diffusion.html#t:Tracers" title="Ouroboros.Network.Diffusion">Tracers</a> ntnAddr ntnVersion ntcAddr ntcVersion m</td><td class="doc"><p>tracers</p></td></tr><tr><td class="src">-&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:TracersExtra" title="Ouroboros.Network.Diffusion.P2P">TracersExtra</a> ntnAddr ntnVersion ntnVersionData ntcAddr ntcVersion ntcVersionData resolverError m</td><td class="doc"><p>p2p tracers</p></td></tr><tr><td class="src">-&gt; <a href="Ouroboros-Network-Diffusion.html#t:Arguments" title="Ouroboros.Network.Diffusion">Arguments</a> ntnFd ntnAddr ntcFd ntcAddr</td><td class="doc"><p>configuration</p></td></tr><tr><td class="src">-&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:ArgumentsExtra" title="Ouroboros.Network.Diffusion.P2P">ArgumentsExtra</a> m</td><td class="doc"><p>p2p configuration</p></td></tr><tr><td class="src">-&gt; <a href="Ouroboros-Network-Diffusion.html#t:Applications" title="Ouroboros.Network.Diffusion">Applications</a> ntnAddr ntnVersion ntnVersionData ntcAddr ntcVersion ntcVersionData m a</td><td class="doc"><p>protocol handlers</p></td></tr><tr><td class="src">-&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:ApplicationsExtra" title="Ouroboros.Network.Diffusion.P2P">ApplicationsExtra</a> ntnAddr m a</td><td class="doc"><p>p2p protocol handlers</p></td></tr><tr><td class="src">-&gt; m <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Void.html#t:Void" title="Data.Void">Void</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:NodeToNodePeerConnectionHandle" class="def">NodeToNodePeerConnectionHandle</a> (mode :: MuxMode) ntnAddr ntnVersionData m a b = <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerConnectionHandle" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerConnectionHandle</a> mode (<a href="Ouroboros-Network-NodeToClient.html#t:ResponderContext" title="Ouroboros.Network.NodeToClient">ResponderContext</a> ntnAddr) ntnAddr ntnVersionData <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/bytestring-0.11.5.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> m a b <a href="src/Ouroboros.Network.Diffusion.P2P.html#NodeToNodePeerConnectionHandle" class="link">Source</a> <a href="#t:NodeToNodePeerConnectionHandle" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:AbstractTransitionTrace" class="def">AbstractTransitionTrace</a> peerAddr = TransitionTrace' peerAddr AbstractState <a href="#t:AbstractTransitionTrace" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:RemoteTransitionTrace" class="def">RemoteTransitionTrace</a> peerAddr = TransitionTrace' peerAddr (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> RemoteSt) <a href="#t:RemoteTransitionTrace" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.1</p></div></body></html>