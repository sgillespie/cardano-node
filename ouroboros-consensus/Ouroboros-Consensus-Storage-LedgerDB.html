<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Ouroboros.Consensus.Storage.LedgerDB</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ouroboros-consensus-0.15.0.0: Consensus layer for the Ouroboros blockchain protocol</span><ul class="links" id="page-menu"><li id="quick-jump-button"><a href="#">Quick Jump</a></li><li><a href="src/Ouroboros.Consensus.Storage.LedgerDB.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Ouroboros.Consensus.Storage.LedgerDB</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">LedgerDB</a></li><li><a href="#g:2">Initialization</a></li><li><a href="#g:3">Trace</a></li><li><a href="#g:4">Querying</a></li><li><a href="#g:5">Updates</a><ul><li><a href="#g:6">Construct</a></li><li><a href="#g:7">Applying blocks</a></li><li><a href="#g:8">Block resolution</a></li><li><a href="#g:9">Operations</a></li><li><a href="#g:10">Pure API</a></li><li><a href="#g:11">Trace</a></li></ul></li><li><a href="#g:12">Streaming</a></li><li><a href="#g:13">Snapshots</a><ul><li><a href="#g:14">Read from disk</a></li><li><a href="#g:15">Write to disk</a></li><li><a href="#g:16">Low-level API (primarily exposed for testing)</a></li><li><a href="#g:17">Trace</a></li></ul></li><li><a href="#g:18">Disk policy</a></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">newtype</span> <a href="#t:Checkpoint">Checkpoint</a> l = <a href="#v:Checkpoint">Checkpoint</a> {<ul class="subs"><li><a href="#v:unCheckpoint">unCheckpoint</a> :: l</li></ul>}</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:LedgerDB">LedgerDB</a> l = <a href="#v:LedgerDB">LedgerDB</a> {<ul class="subs"><li><a href="#v:ledgerDbCheckpoints">ledgerDbCheckpoints</a> :: AnchoredSeq (<a href="Ouroboros-Consensus-Block-Abstract.html#t:WithOrigin" title="Ouroboros.Consensus.Block.Abstract">WithOrigin</a> <a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a>) (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l) (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l)</li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:LedgerDB-39-">LedgerDB'</a> blk = <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> (<a href="Ouroboros-Consensus-Ledger-Extended.html#t:ExtLedgerState" title="Ouroboros.Consensus.Ledger.Extended">ExtLedgerState</a> blk)</li><li class="src short"><span class="keyword">data</span> <a href="#t:LedgerDbCfg">LedgerDbCfg</a> l = <a href="#v:LedgerDbCfg">LedgerDbCfg</a> {<ul class="subs"><li><a href="#v:ledgerDbCfgSecParam">ledgerDbCfgSecParam</a> :: !<a href="Ouroboros-Consensus-Config-SecurityParam.html#t:SecurityParam" title="Ouroboros.Consensus.Config.SecurityParam">SecurityParam</a></li><li><a href="#v:ledgerDbCfg">ledgerDbCfg</a> :: !(<a href="Ouroboros-Consensus-Ledger-Basics.html#t:LedgerCfg" title="Ouroboros.Consensus.Ledger.Basics">LedgerCfg</a> l)</li></ul>}</li><li class="src short"><a href="#v:configLedgerDb">configLedgerDb</a> :: <a href="Ouroboros-Consensus-Protocol-Abstract.html#t:ConsensusProtocol" title="Ouroboros.Consensus.Protocol.Abstract">ConsensusProtocol</a> (<a href="Ouroboros-Consensus-Block-Abstract.html#t:BlockProtocol" title="Ouroboros.Consensus.Block.Abstract">BlockProtocol</a> blk) =&gt; <a href="Ouroboros-Consensus-Config.html#t:TopLevelConfig" title="Ouroboros.Consensus.Config">TopLevelConfig</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDbCfg" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDbCfg</a> (<a href="Ouroboros-Consensus-Ledger-Extended.html#t:ExtLedgerState" title="Ouroboros.Consensus.Ledger.Extended">ExtLedgerState</a> blk)</li><li class="src short"><span class="keyword">data</span> <a href="#t:InitLog">InitLog</a> blk<ul class="subs"><li>= <a href="#v:InitFromGenesis">InitFromGenesis</a></li><li>| <a href="#v:InitFromSnapshot">InitFromSnapshot</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> (<a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk)</li><li>| <a href="#v:InitFailure">InitFailure</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotFailure" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotFailure</a> blk) (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:InitLog" title="Ouroboros.Consensus.Storage.LedgerDB">InitLog</a> blk)</li></ul></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:ReplayStart">ReplayStart</a> blk = <a href="#v:ReplayStart">ReplayStart</a> (<a href="Ouroboros-Consensus-Block-Abstract.html#t:Point" title="Ouroboros.Consensus.Block.Abstract">Point</a> blk)</li><li class="src short"><a href="#v:initLedgerDB">initLedgerDB</a> :: <span class="keyword">forall</span> m blk. (<a href="Ouroboros-Consensus-Util-IOLike.html#t:IOLike" title="Ouroboros.Consensus.Util.IOLike">IOLike</a> m, <a href="Ouroboros-Consensus-Ledger-SupportsProtocol.html#t:LedgerSupportsProtocol" title="Ouroboros.Consensus.Ledger.SupportsProtocol">LedgerSupportsProtocol</a> blk, <a href="Ouroboros-Consensus-Ledger-Inspect.html#t:InspectLedger" title="Ouroboros.Consensus.Ledger.Inspect">InspectLedger</a> blk, <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a>) =&gt; Tracer m (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayGoal" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayGoal</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceReplayEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceReplayEvent</a> blk) -&gt; Tracer m (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceSnapshotEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceSnapshotEvent</a> blk) -&gt; SomeHasFS m -&gt; (<span class="keyword">forall</span> s. Decoder s (<a href="Ouroboros-Consensus-Ledger-Extended.html#t:ExtLedgerState" title="Ouroboros.Consensus.Ledger.Extended">ExtLedgerState</a> blk)) -&gt; (<span class="keyword">forall</span> s. Decoder s (<a href="Ouroboros-Consensus-Block-Abstract.html#t:HeaderHash" title="Ouroboros.Consensus.Block.Abstract">HeaderHash</a> blk)) -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDbCfg" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDbCfg</a> (<a href="Ouroboros-Consensus-Ledger-Extended.html#t:ExtLedgerState" title="Ouroboros.Consensus.Ledger.Extended">ExtLedgerState</a> blk) -&gt; m (<a href="Ouroboros-Consensus-Ledger-Extended.html#t:ExtLedgerState" title="Ouroboros.Consensus.Ledger.Extended">ExtLedgerState</a> blk) -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:StreamAPI" title="Ouroboros.Consensus.Storage.LedgerDB">StreamAPI</a> m blk -&gt; m (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:InitLog" title="Ouroboros.Consensus.Storage.LedgerDB">InitLog</a> blk, <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB-39-" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB'</a> blk, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a>)</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:ReplayGoal">ReplayGoal</a> blk = <a href="#v:ReplayGoal">ReplayGoal</a> (<a href="Ouroboros-Consensus-Block-Abstract.html#t:Point" title="Ouroboros.Consensus.Block.Abstract">Point</a> blk)</li><li class="src short"><span class="keyword">data</span> <a href="#t:TraceReplayEvent">TraceReplayEvent</a> blk<ul class="subs"><li>= <a href="#v:ReplayFromGenesis">ReplayFromGenesis</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayGoal" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayGoal</a> blk)</li><li>| <a href="#v:ReplayFromSnapshot">ReplayFromSnapshot</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> (<a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk) (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayStart" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayStart</a> blk) (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayGoal" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayGoal</a> blk)</li><li>| <a href="#v:ReplayedBlock">ReplayedBlock</a> (<a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk) [<a href="Ouroboros-Consensus-Ledger-Inspect.html#t:LedgerEvent" title="Ouroboros.Consensus.Ledger.Inspect">LedgerEvent</a> blk] (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayStart" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayStart</a> blk) (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayGoal" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayGoal</a> blk)</li></ul></li><li class="src short"><a href="#v:decorateReplayTracerWithGoal">decorateReplayTracerWithGoal</a> :: <a href="Ouroboros-Consensus-Block-Abstract.html#t:Point" title="Ouroboros.Consensus.Block.Abstract">Point</a> blk -&gt; Tracer m (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceReplayEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceReplayEvent</a> blk) -&gt; Tracer m (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayGoal" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayGoal</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceReplayEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceReplayEvent</a> blk)</li><li class="src short"><a href="#v:decorateReplayTracerWithStart">decorateReplayTracerWithStart</a> :: <a href="Ouroboros-Consensus-Block-Abstract.html#t:Point" title="Ouroboros.Consensus.Block.Abstract">Point</a> blk -&gt; Tracer m (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayGoal" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayGoal</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceReplayEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceReplayEvent</a> blk) -&gt; Tracer m (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayStart" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayStart</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayGoal" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayGoal</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceReplayEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceReplayEvent</a> blk)</li><li class="src short"><a href="#v:ledgerDbAnchor">ledgerDbAnchor</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; l</li><li class="src short"><a href="#v:ledgerDbCurrent">ledgerDbCurrent</a> :: <a href="Ouroboros-Consensus-Ledger-Basics.html#t:GetTip" title="Ouroboros.Consensus.Ledger.Basics">GetTip</a> l =&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; l</li><li class="src short"><a href="#v:ledgerDbIsSaturated">ledgerDbIsSaturated</a> :: <a href="Ouroboros-Consensus-Ledger-Basics.html#t:GetTip" title="Ouroboros.Consensus.Ledger.Basics">GetTip</a> l =&gt; <a href="Ouroboros-Consensus-Config-SecurityParam.html#t:SecurityParam" title="Ouroboros.Consensus.Config.SecurityParam">SecurityParam</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:ledgerDbMaxRollback">ledgerDbMaxRollback</a> :: <a href="Ouroboros-Consensus-Ledger-Basics.html#t:GetTip" title="Ouroboros.Consensus.Ledger.Basics">GetTip</a> l =&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></li><li class="src short"><a href="#v:ledgerDbPast">ledgerDbPast</a> :: (<a href="Ouroboros-Consensus-Block-Abstract.html#t:HasHeader" title="Ouroboros.Consensus.Block.Abstract">HasHeader</a> blk, <a href="Ouroboros-Consensus-Ledger-Basics.html#t:IsLedger" title="Ouroboros.Consensus.Ledger.Basics">IsLedger</a> l, <a href="Ouroboros-Consensus-Block-Abstract.html#t:HeaderHash" title="Ouroboros.Consensus.Block.Abstract">HeaderHash</a> l <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Type-Equality.html#t:-126-" title="Data.Type.Equality">~</a> <a href="Ouroboros-Consensus-Block-Abstract.html#t:HeaderHash" title="Ouroboros.Consensus.Block.Abstract">HeaderHash</a> blk) =&gt; <a href="Ouroboros-Consensus-Block-Abstract.html#t:Point" title="Ouroboros.Consensus.Block.Abstract">Point</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> l</li><li class="src short"><a href="#v:ledgerDbSnapshots">ledgerDbSnapshots</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; [(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a>, l)]</li><li class="src short"><a href="#v:ledgerDbTip">ledgerDbTip</a> :: <a href="Ouroboros-Consensus-Ledger-Basics.html#t:GetTip" title="Ouroboros.Consensus.Ledger.Basics">GetTip</a> l =&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="Ouroboros-Consensus-Block-Abstract.html#t:Point" title="Ouroboros.Consensus.Block.Abstract">Point</a> l</li><li class="src short"><a href="#v:ledgerDbWithAnchor">ledgerDbWithAnchor</a> :: <a href="Ouroboros-Consensus-Ledger-Basics.html#t:GetTip" title="Ouroboros.Consensus.Ledger.Basics">GetTip</a> l =&gt; l -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l</li><li class="src short"><span class="keyword">data</span> <a href="#t:AnnLedgerError">AnnLedgerError</a> l blk = <a href="#v:AnnLedgerError">AnnLedgerError</a> {<ul class="subs"><li><a href="#v:annLedgerState">annLedgerState</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l</li><li><a href="#v:annLedgerErrRef">annLedgerErrRef</a> :: <a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk</li><li><a href="#v:annLedgerErr">annLedgerErr</a> :: <a href="Ouroboros-Consensus-Ledger-Basics.html#t:LedgerErr" title="Ouroboros.Consensus.Ledger.Basics">LedgerErr</a> l</li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:AnnLedgerError-39-">AnnLedgerError'</a> blk = <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:AnnLedgerError" title="Ouroboros.Consensus.Storage.LedgerDB">AnnLedgerError</a> (<a href="Ouroboros-Consensus-Ledger-Extended.html#t:ExtLedgerState" title="Ouroboros.Consensus.Ledger.Extended">ExtLedgerState</a> blk) blk</li><li class="src short"><span class="keyword">data</span> <a href="#t:Ap">Ap</a> m l blk c <span class="keyword">where</span><ul class="subs"><li><a href="#v:ReapplyVal">ReapplyVal</a> :: blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Ap" title="Ouroboros.Consensus.Storage.LedgerDB">Ap</a> m l blk ()</li><li><a href="#v:ApplyVal">ApplyVal</a> :: blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Ap" title="Ouroboros.Consensus.Storage.LedgerDB">Ap</a> m l blk (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ThrowsLedgerError" title="Ouroboros.Consensus.Storage.LedgerDB">ThrowsLedgerError</a> m l blk)</li><li><a href="#v:ReapplyRef">ReapplyRef</a> :: <a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Ap" title="Ouroboros.Consensus.Storage.LedgerDB">Ap</a> m l blk (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ResolvesBlocks" title="Ouroboros.Consensus.Storage.LedgerDB">ResolvesBlocks</a> m blk)</li><li><a href="#v:ApplyRef">ApplyRef</a> :: <a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Ap" title="Ouroboros.Consensus.Storage.LedgerDB">Ap</a> m l blk (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ResolvesBlocks" title="Ouroboros.Consensus.Storage.LedgerDB">ResolvesBlocks</a> m blk, <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ThrowsLedgerError" title="Ouroboros.Consensus.Storage.LedgerDB">ThrowsLedgerError</a> m l blk)</li><li><a href="#v:Weaken">Weaken</a> :: (c' =&gt; c) =&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Ap" title="Ouroboros.Consensus.Storage.LedgerDB">Ap</a> m l blk c -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Ap" title="Ouroboros.Consensus.Storage.LedgerDB">Ap</a> m l blk c'</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:ExceededRollback">ExceededRollback</a> = <a href="#v:ExceededRollback">ExceededRollback</a> {<ul class="subs"><li><a href="#v:rollbackMaximum">rollbackMaximum</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></li><li><a href="#v:rollbackRequested">rollbackRequested</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></li></ul>}</li><li class="src short"><span class="keyword">class</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="#t:ThrowsLedgerError">ThrowsLedgerError</a> m l blk <span class="keyword">where</span><ul class="subs"><li><a href="#v:throwLedgerError">throwLedgerError</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk -&gt; <a href="Ouroboros-Consensus-Ledger-Basics.html#t:LedgerErr" title="Ouroboros.Consensus.Ledger.Basics">LedgerErr</a> l -&gt; m a</li></ul></li><li class="src short"><a href="#v:defaultThrowLedgerErrors">defaultThrowLedgerErrors</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:AnnLedgerError" title="Ouroboros.Consensus.Storage.LedgerDB">AnnLedgerError</a> l blk) m a -&gt; m (<a href="Ouroboros-Consensus-HardFork-Combinator-Degenerate.html#t:Either" title="Ouroboros.Consensus.HardFork.Combinator.Degenerate">Either</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:AnnLedgerError" title="Ouroboros.Consensus.Storage.LedgerDB">AnnLedgerError</a> l blk) a)</li><li class="src short"><span class="keyword">type</span> <a href="#t:ResolveBlock">ResolveBlock</a> m blk = <a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk -&gt; m blk</li><li class="src short"><span class="keyword">class</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="#t:ResolvesBlocks">ResolvesBlocks</a> m blk | m -&gt; blk <span class="keyword">where</span><ul class="subs"><li><a href="#v:doResolveBlock">doResolveBlock</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ResolveBlock" title="Ouroboros.Consensus.Storage.LedgerDB">ResolveBlock</a> m blk</li></ul></li><li class="src short"><a href="#v:defaultResolveBlocks">defaultResolveBlocks</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ResolveBlock" title="Ouroboros.Consensus.Storage.LedgerDB">ResolveBlock</a> m blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ResolveBlock" title="Ouroboros.Consensus.Storage.LedgerDB">ResolveBlock</a> m blk) m a -&gt; m a</li><li class="src short"><a href="#v:defaultResolveWithErrors">defaultResolveWithErrors</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ResolveBlock" title="Ouroboros.Consensus.Storage.LedgerDB">ResolveBlock</a> m blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:AnnLedgerError" title="Ouroboros.Consensus.Storage.LedgerDB">AnnLedgerError</a> l blk) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ResolveBlock" title="Ouroboros.Consensus.Storage.LedgerDB">ResolveBlock</a> m blk) m) a -&gt; m (<a href="Ouroboros-Consensus-HardFork-Combinator-Degenerate.html#t:Either" title="Ouroboros.Consensus.HardFork.Combinator.Degenerate">Either</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:AnnLedgerError" title="Ouroboros.Consensus.Storage.LedgerDB">AnnLedgerError</a> l blk) a)</li><li class="src short"><a href="#v:ledgerDbBimap">ledgerDbBimap</a> :: Anchorable (<a href="Ouroboros-Consensus-Block-Abstract.html#t:WithOrigin" title="Ouroboros.Consensus.Block.Abstract">WithOrigin</a> <a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a>) a b =&gt; (l -&gt; a) -&gt; (l -&gt; b) -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; AnchoredSeq (<a href="Ouroboros-Consensus-Block-Abstract.html#t:WithOrigin" title="Ouroboros.Consensus.Block.Abstract">WithOrigin</a> <a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a>) a b</li><li class="src short"><a href="#v:ledgerDbPrune">ledgerDbPrune</a> :: <a href="Ouroboros-Consensus-Ledger-Basics.html#t:GetTip" title="Ouroboros.Consensus.Ledger.Basics">GetTip</a> l =&gt; <a href="Ouroboros-Consensus-Config-SecurityParam.html#t:SecurityParam" title="Ouroboros.Consensus.Config.SecurityParam">SecurityParam</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l</li><li class="src short"><a href="#v:ledgerDbPush">ledgerDbPush</a> :: <span class="keyword">forall</span> m c l blk. (<a href="Ouroboros-Consensus-Ledger-Abstract.html#t:ApplyBlock" title="Ouroboros.Consensus.Ledger.Abstract">ApplyBlock</a> l blk, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, c) =&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDbCfg" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDbCfg</a> l -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Ap" title="Ouroboros.Consensus.Storage.LedgerDB">Ap</a> m l blk c -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; m (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l)</li><li class="src short"><a href="#v:ledgerDbSwitch">ledgerDbSwitch</a> :: (<a href="Ouroboros-Consensus-Ledger-Abstract.html#t:ApplyBlock" title="Ouroboros.Consensus.Ledger.Abstract">ApplyBlock</a> l blk, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, c) =&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDbCfg" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDbCfg</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:UpdateLedgerDbTraceEvent" title="Ouroboros.Consensus.Storage.LedgerDB">UpdateLedgerDbTraceEvent</a> blk -&gt; m ()) -&gt; [<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Ap" title="Ouroboros.Consensus.Storage.LedgerDB">Ap</a> m l blk c] -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; m (<a href="Ouroboros-Consensus-HardFork-Combinator-Degenerate.html#t:Either" title="Ouroboros.Consensus.HardFork.Combinator.Degenerate">Either</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ExceededRollback" title="Ouroboros.Consensus.Storage.LedgerDB">ExceededRollback</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l))</li><li class="src short"><a href="#v:ledgerDbPush-39-">ledgerDbPush'</a> :: <a href="Ouroboros-Consensus-Ledger-Abstract.html#t:ApplyBlock" title="Ouroboros.Consensus.Ledger.Abstract">ApplyBlock</a> l blk =&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDbCfg" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDbCfg</a> l -&gt; blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l</li><li class="src short"><a href="#v:ledgerDbPushMany-39-">ledgerDbPushMany'</a> :: <a href="Ouroboros-Consensus-Ledger-Abstract.html#t:ApplyBlock" title="Ouroboros.Consensus.Ledger.Abstract">ApplyBlock</a> l blk =&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDbCfg" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDbCfg</a> l -&gt; [blk] -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l</li><li class="src short"><a href="#v:ledgerDbSwitch-39-">ledgerDbSwitch'</a> :: <span class="keyword">forall</span> l blk. <a href="Ouroboros-Consensus-Ledger-Abstract.html#t:ApplyBlock" title="Ouroboros.Consensus.Ledger.Abstract">ApplyBlock</a> l blk =&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDbCfg" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDbCfg</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; [blk] -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l)</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:PushGoal">PushGoal</a> blk = <a href="#v:PushGoal">PushGoal</a> {<ul class="subs"><li><a href="#v:unPushGoal">unPushGoal</a> :: <a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk</li></ul>}</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:PushStart">PushStart</a> blk = <a href="#v:PushStart">PushStart</a> {<ul class="subs"><li><a href="#v:unPushStart">unPushStart</a> :: <a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk</li></ul>}</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Pushing">Pushing</a> blk = <a href="#v:Pushing">Pushing</a> {<ul class="subs"><li><a href="#v:unPushing">unPushing</a> :: <a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:UpdateLedgerDbTraceEvent">UpdateLedgerDbTraceEvent</a> blk = <a href="#v:StartedPushingBlockToTheLedgerDb">StartedPushingBlockToTheLedgerDb</a> !(<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:PushStart" title="Ouroboros.Consensus.Storage.LedgerDB">PushStart</a> blk) (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:PushGoal" title="Ouroboros.Consensus.Storage.LedgerDB">PushGoal</a> blk) !(<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Pushing" title="Ouroboros.Consensus.Storage.LedgerDB">Pushing</a> blk)</li><li class="src short"><span class="keyword">data</span> <a href="#t:NextBlock">NextBlock</a> blk<ul class="subs"><li>= <a href="#v:NoMoreBlocks">NoMoreBlocks</a></li><li>| <a href="#v:NextBlock">NextBlock</a> blk</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:StreamAPI">StreamAPI</a> m blk = <a href="#v:StreamAPI">StreamAPI</a> {<ul class="subs"><li><a href="#v:streamAfter">streamAfter</a> :: <span class="keyword">forall</span> a. <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> =&gt; <a href="Ouroboros-Consensus-Block-Abstract.html#t:Point" title="Ouroboros.Consensus.Block.Abstract">Point</a> blk -&gt; (<a href="Ouroboros-Consensus-HardFork-Combinator-Degenerate.html#t:Either" title="Ouroboros.Consensus.HardFork.Combinator.Degenerate">Either</a> (<a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk) (m (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:NextBlock" title="Ouroboros.Consensus.Storage.LedgerDB">NextBlock</a> blk)) -&gt; m a) -&gt; m a</li></ul>}</li><li class="src short"><a href="#v:streamAll">streamAll</a> :: <span class="keyword">forall</span> m blk e a. (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a>) =&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:StreamAPI" title="Ouroboros.Consensus.Storage.LedgerDB">StreamAPI</a> m blk -&gt; <a href="Ouroboros-Consensus-Block-Abstract.html#t:Point" title="Ouroboros.Consensus.Block.Abstract">Point</a> blk -&gt; (<a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk -&gt; e) -&gt; a -&gt; (blk -&gt; a -&gt; m a) -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> e m a</li><li class="src short"><span class="keyword">data</span> <a href="#t:DiskSnapshot">DiskSnapshot</a> = <a href="#v:DiskSnapshot">DiskSnapshot</a> {<ul class="subs"><li><a href="#v:dsNumber">dsNumber</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></li><li><a href="#v:dsSuffix">dsSuffix</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:SnapshotFailure">SnapshotFailure</a> blk<ul class="subs"><li>= <a href="#v:InitFailureRead">InitFailureRead</a> <a href="Ouroboros-Consensus-Util-CBOR.html#t:ReadIncrementalErr" title="Ouroboros.Consensus.Util.CBOR">ReadIncrementalErr</a></li><li>| <a href="#v:InitFailureTooRecent">InitFailureTooRecent</a> (<a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk)</li><li>| <a href="#v:InitFailureGenesis">InitFailureGenesis</a></li></ul></li><li class="src short"><a href="#v:diskSnapshotIsTemporary">diskSnapshotIsTemporary</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:listSnapshots">listSnapshots</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; SomeHasFS m -&gt; m [<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a>]</li><li class="src short"><a href="#v:readSnapshot">readSnapshot</a> :: <span class="keyword">forall</span> m blk. <a href="Ouroboros-Consensus-Util-IOLike.html#t:IOLike" title="Ouroboros.Consensus.Util.IOLike">IOLike</a> m =&gt; SomeHasFS m -&gt; (<span class="keyword">forall</span> s. Decoder s (<a href="Ouroboros-Consensus-Ledger-Extended.html#t:ExtLedgerState" title="Ouroboros.Consensus.Ledger.Extended">ExtLedgerState</a> blk)) -&gt; (<span class="keyword">forall</span> s. Decoder s (<a href="Ouroboros-Consensus-Block-Abstract.html#t:HeaderHash" title="Ouroboros.Consensus.Block.Abstract">HeaderHash</a> blk)) -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> <a href="Ouroboros-Consensus-Util-CBOR.html#t:ReadIncrementalErr" title="Ouroboros.Consensus.Util.CBOR">ReadIncrementalErr</a> m (<a href="Ouroboros-Consensus-Ledger-Extended.html#t:ExtLedgerState" title="Ouroboros.Consensus.Ledger.Extended">ExtLedgerState</a> blk)</li><li class="src short"><a href="#v:takeSnapshot">takeSnapshot</a> :: <span class="keyword">forall</span> m blk. (<a href="Ouroboros-Consensus-Util-IOLike.html#t:MonadThrow" title="Ouroboros.Consensus.Util.IOLike">MonadThrow</a> m, <a href="Ouroboros-Consensus-Ledger-Basics.html#t:IsLedger" title="Ouroboros.Consensus.Ledger.Basics">IsLedger</a> (<a href="Ouroboros-Consensus-Ledger-Basics.html#t:LedgerState" title="Ouroboros.Consensus.Ledger.Basics">LedgerState</a> blk)) =&gt; Tracer m (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceSnapshotEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceSnapshotEvent</a> blk) -&gt; SomeHasFS m -&gt; (<a href="Ouroboros-Consensus-Ledger-Extended.html#t:ExtLedgerState" title="Ouroboros.Consensus.Ledger.Extended">ExtLedgerState</a> blk -&gt; Encoding) -&gt; <a href="Ouroboros-Consensus-Ledger-Extended.html#t:ExtLedgerState" title="Ouroboros.Consensus.Ledger.Extended">ExtLedgerState</a> blk -&gt; m (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a>, <a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk))</li><li class="src short"><a href="#v:trimSnapshots">trimSnapshots</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; Tracer m (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceSnapshotEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceSnapshotEvent</a> r) -&gt; SomeHasFS m -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskPolicy" title="Ouroboros.Consensus.Storage.LedgerDB">DiskPolicy</a> -&gt; m [<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a>]</li><li class="src short"><a href="#v:writeSnapshot">writeSnapshot</a> :: <span class="keyword">forall</span> m blk. <a href="Ouroboros-Consensus-Util-IOLike.html#t:MonadThrow" title="Ouroboros.Consensus.Util.IOLike">MonadThrow</a> m =&gt; SomeHasFS m -&gt; (<a href="Ouroboros-Consensus-Ledger-Extended.html#t:ExtLedgerState" title="Ouroboros.Consensus.Ledger.Extended">ExtLedgerState</a> blk -&gt; Encoding) -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="Ouroboros-Consensus-Ledger-Extended.html#t:ExtLedgerState" title="Ouroboros.Consensus.Ledger.Extended">ExtLedgerState</a> blk -&gt; m ()</li><li class="src short"><a href="#v:decodeSnapshotBackwardsCompatible">decodeSnapshotBackwardsCompatible</a> :: <span class="keyword">forall</span> l blk. <a href="Ouroboros-Consensus-Util-DepPair.html#t:Proxy" title="Ouroboros.Consensus.Util.DepPair">Proxy</a> blk -&gt; (<span class="keyword">forall</span> s. Decoder s l) -&gt; (<span class="keyword">forall</span> s. Decoder s (<a href="Ouroboros-Consensus-Block-Abstract.html#t:HeaderHash" title="Ouroboros.Consensus.Block.Abstract">HeaderHash</a> blk)) -&gt; <span class="keyword">forall</span> s. Decoder s l</li><li class="src short"><a href="#v:deleteSnapshot">deleteSnapshot</a> :: <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> =&gt; SomeHasFS m -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; m ()</li><li class="src short"><a href="#v:encodeSnapshot">encodeSnapshot</a> :: (l -&gt; Encoding) -&gt; l -&gt; Encoding</li><li class="src short"><a href="#v:snapshotToFileName">snapshotToFileName</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a></li><li class="src short"><a href="#v:snapshotToPath">snapshotToPath</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; FsPath</li><li class="src short"><span class="keyword">data</span> <a href="#t:TraceSnapshotEvent">TraceSnapshotEvent</a> blk<ul class="subs"><li>= <a href="#v:InvalidSnapshot">InvalidSnapshot</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotFailure" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotFailure</a> blk)</li><li>| <a href="#v:TookSnapshot">TookSnapshot</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> (<a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk)</li><li>| <a href="#v:DeletedSnapshot">DeletedSnapshot</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:DiskPolicy">DiskPolicy</a> = <a href="#v:DiskPolicy">DiskPolicy</a> {<ul class="subs"><li><a href="#v:onDiskNumSnapshots">onDiskNumSnapshots</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word" title="Data.Word">Word</a></li><li><a href="#v:onDiskShouldTakeSnapshot">onDiskShouldTakeSnapshot</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TimeSinceLast" title="Ouroboros.Consensus.Storage.LedgerDB">TimeSinceLast</a> <a href="Ouroboros-Consensus-Util-IOLike.html#t:DiffTime" title="Ouroboros.Consensus.Util.IOLike">DiffTime</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:SnapshotInterval">SnapshotInterval</a><ul class="subs"><li>= <a href="#v:DefaultSnapshotInterval">DefaultSnapshotInterval</a></li><li>| <a href="#v:RequestedSnapshotInterval">RequestedSnapshotInterval</a> <a href="Ouroboros-Consensus-Util-IOLike.html#t:DiffTime" title="Ouroboros.Consensus.Util.IOLike">DiffTime</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:TimeSinceLast">TimeSinceLast</a> time<ul class="subs"><li>= <a href="#v:NoSnapshotTakenYet">NoSnapshotTakenYet</a></li><li>| <a href="#v:TimeSinceLast">TimeSinceLast</a> time</li></ul></li><li class="src short"><a href="#v:defaultDiskPolicy">defaultDiskPolicy</a> :: <a href="Ouroboros-Consensus-Config-SecurityParam.html#t:SecurityParam" title="Ouroboros.Consensus.Config.SecurityParam">SecurityParam</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotInterval</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskPolicy" title="Ouroboros.Consensus.Storage.LedgerDB">DiskPolicy</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>LedgerDB</h1></a><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:Checkpoint" class="def">Checkpoint</a> l <a href="src/Ouroboros.Consensus.Storage.LedgerDB.LedgerDB.html#Checkpoint" class="link">Source</a> <a href="#t:Checkpoint" class="selflink">#</a></p><div class="doc"><p>Internal newtype wrapper around a ledger state <code>l</code> so that we can define a
 non-blanket <code>Anchorable</code> instance.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Checkpoint" class="def">Checkpoint</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:unCheckpoint" class="def">unCheckpoint</a> :: l</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Checkpoint">Instances</h4><details id="i:Checkpoint" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Checkpoint:Generic:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.LedgerDB.html#line-105" class="link">Source</a> <a href="#t:Checkpoint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Checkpoint:Generic:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-LedgerDB.html">Ouroboros.Consensus.Storage.LedgerDB.LedgerDB</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l) :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l) x <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l) x -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Checkpoint:Show:2"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> l =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.LedgerDB.html#line-107" class="link">Source</a> <a href="#t:Checkpoint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Checkpoint:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-LedgerDB.html">Ouroboros.Consensus.Storage.LedgerDB.LedgerDB</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Checkpoint:Eq:3"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> l =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.LedgerDB.html#line-108" class="link">Source</a> <a href="#t:Checkpoint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Checkpoint:Eq:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-LedgerDB.html">Ouroboros.Consensus.Storage.LedgerDB.LedgerDB</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Checkpoint:NoThunks:4"></span> <a href="Ouroboros-Consensus-Util-IOLike.html#t:NoThunks" title="Ouroboros.Consensus.Util.IOLike">NoThunks</a> l =&gt; <a href="Ouroboros-Consensus-Util-IOLike.html#t:NoThunks" title="Ouroboros.Consensus.Util.IOLike">NoThunks</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.LedgerDB.html#line-109" class="link">Source</a> <a href="#t:Checkpoint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Checkpoint:NoThunks:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-LedgerDB.html">Ouroboros.Consensus.Storage.LedgerDB.LedgerDB</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:noThunks">noThunks</a> :: Context -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> ThunkInfo) <a href="#v:noThunks" class="selflink">#</a></p><p class="src"><a href="#v:wNoThunks">wNoThunks</a> :: Context -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> ThunkInfo) <a href="#v:wNoThunks" class="selflink">#</a></p><p class="src"><a href="#v:showTypeOf">showTypeOf</a> :: <a href="Ouroboros-Consensus-Util-DepPair.html#t:Proxy" title="Ouroboros.Consensus.Util.DepPair">Proxy</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l) -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:showTypeOf" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Checkpoint:Anchorable:5"></span> <a href="Ouroboros-Consensus-Ledger-Basics.html#t:GetTip" title="Ouroboros.Consensus.Ledger.Basics">GetTip</a> l =&gt; Anchorable (<a href="Ouroboros-Consensus-Block-Abstract.html#t:WithOrigin" title="Ouroboros.Consensus.Block.Abstract">WithOrigin</a> <a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a>) (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l) (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.LedgerDB.html#line-111" class="link">Source</a> <a href="#t:Checkpoint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Checkpoint:Anchorable:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-LedgerDB.html">Ouroboros.Consensus.Storage.LedgerDB.LedgerDB</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:asAnchor">asAnchor</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l</p><p class="src"><a href="#v:getAnchorMeasure">getAnchorMeasure</a> :: <a href="Ouroboros-Consensus-Util-DepPair.html#t:Proxy" title="Ouroboros.Consensus.Util.DepPair">Proxy</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l) -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l -&gt; <a href="Ouroboros-Consensus-Block-Abstract.html#t:WithOrigin" title="Ouroboros.Consensus.Block.Abstract">WithOrigin</a> <a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Checkpoint:Rep:6"></span> <span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.LedgerDB.html#line-105" class="link">Source</a> <a href="#t:Checkpoint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Checkpoint:Rep:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-LedgerDB.html">Ouroboros.Consensus.Storage.LedgerDB.LedgerDB</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l) = <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;Checkpoint&quot; &quot;Ouroboros.Consensus.Storage.LedgerDB.LedgerDB&quot; &quot;ouroboros-consensus-0.15.0.0-EdxEyzxfPtfJdIQHjsKbnf&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:True" title="Data.Bool">True</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;Checkpoint&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:True" title="Data.Bool">True</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a> &quot;unCheckpoint&quot;) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> l)))</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:LedgerDB" class="def">LedgerDB</a> l <a href="src/Ouroboros.Consensus.Storage.LedgerDB.LedgerDB.html#LedgerDB" class="link">Source</a> <a href="#t:LedgerDB" class="selflink">#</a></p><div class="doc"><p>Internal state of the ledger DB</p><p>The ledger DB looks like</p><pre>anchor |&gt; snapshots &lt;| current</pre><p>where <code>anchor</code> records the oldest known snapshot and <code>current</code> the most
 recent. The anchor is the oldest point we can roll back to.</p><p>We take a snapshot after each block is applied and keep in memory a window
 of the last <code>k</code> snapshots. We have verified empirically (#1936) that the
 overhead of keeping <code>k</code> snapshots in memory is small, i.e., about 5%
 compared to keeping a snapshot every 100 blocks. This is thanks to sharing
 between consecutive snapshots.</p><p>As an example, suppose we have <code>k = 6</code>. The ledger DB grows as illustrated
 below, where we indicate the anchor number of blocks, the stored snapshots,
 and the current ledger.</p><pre>anchor |&gt; #   [ snapshots ]                   &lt;| tip
---------------------------------------------------------------------------
G      |&gt; (0) [ ]                             &lt;| G
G      |&gt; (1) [ L1]                           &lt;| L1
G      |&gt; (2) [ L1,  L2]                      &lt;| L2
G      |&gt; (3) [ L1,  L2,  L3]                 &lt;| L3
G      |&gt; (4) [ L1,  L2,  L3,  L4]            &lt;| L4
G      |&gt; (5) [ L1,  L2,  L3,  L4,  L5]       &lt;| L5
G      |&gt; (6) [ L1,  L2,  L3,  L4,  L5,  L6]  &lt;| L6
L1     |&gt; (6) [ L2,  L3,  L4,  L5,  L6,  L7]  &lt;| L7
L2     |&gt; (6) [ L3,  L4,  L5,  L6,  L7,  L8]  &lt;| L8
L3     |&gt; (6) [ L4,  L5,  L6,  L7,  L8,  L9]  &lt;| L9   (*)
L4     |&gt; (6) [ L5,  L6,  L7,  L8,  L9,  L10] &lt;| L10
L5     |&gt; (6) [*L6,  L7,  L8,  L9,  L10, L11] &lt;| L11
L6     |&gt; (6) [ L7,  L8,  L9,  L10, L11, L12] &lt;| L12
L7     |&gt; (6) [ L8,  L9,  L10, L12, L12, L13] &lt;| L13
L8     |&gt; (6) [ L9,  L10, L12, L12, L13, L14] &lt;| L14</pre><p>The ledger DB must guarantee that at all times we are able to roll back <code>k</code>
 blocks. For example, if we are on line (*), and roll back 6 blocks, we get</p><pre>L3 |&gt; []</pre></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:LedgerDB" class="def">LedgerDB</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:ledgerDbCheckpoints" class="def">ledgerDbCheckpoints</a> :: AnchoredSeq (<a href="Ouroboros-Consensus-Block-Abstract.html#t:WithOrigin" title="Ouroboros.Consensus.Block.Abstract">WithOrigin</a> <a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a>) (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l) (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l)</dfn><div class="doc"><p>Ledger states</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:LedgerDB">Instances</h4><details id="i:LedgerDB" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LedgerDB:Generic:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.LedgerDB.html#line-83" class="link">Source</a> <a href="#t:LedgerDB" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LedgerDB:Generic:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-LedgerDB.html">Ouroboros.Consensus.Storage.LedgerDB.LedgerDB</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l) :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l) x <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l) x -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LedgerDB:Show:2"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> l =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.LedgerDB.html#line-87" class="link">Source</a> <a href="#t:LedgerDB" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LedgerDB:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-LedgerDB.html">Ouroboros.Consensus.Storage.LedgerDB.LedgerDB</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LedgerDB:Eq:3"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> l =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.LedgerDB.html#line-88" class="link">Source</a> <a href="#t:LedgerDB" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LedgerDB:Eq:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-LedgerDB.html">Ouroboros.Consensus.Storage.LedgerDB.LedgerDB</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LedgerDB:NoThunks:4"></span> <a href="Ouroboros-Consensus-Util-IOLike.html#t:NoThunks" title="Ouroboros.Consensus.Util.IOLike">NoThunks</a> l =&gt; <a href="Ouroboros-Consensus-Util-IOLike.html#t:NoThunks" title="Ouroboros.Consensus.Util.IOLike">NoThunks</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.LedgerDB.html#line-89" class="link">Source</a> <a href="#t:LedgerDB" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LedgerDB:NoThunks:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-LedgerDB.html">Ouroboros.Consensus.Storage.LedgerDB.LedgerDB</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:noThunks">noThunks</a> :: Context -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> ThunkInfo) <a href="#v:noThunks" class="selflink">#</a></p><p class="src"><a href="#v:wNoThunks">wNoThunks</a> :: Context -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> ThunkInfo) <a href="#v:wNoThunks" class="selflink">#</a></p><p class="src"><a href="#v:showTypeOf">showTypeOf</a> :: <a href="Ouroboros-Consensus-Util-DepPair.html#t:Proxy" title="Ouroboros.Consensus.Util.DepPair">Proxy</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l) -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:showTypeOf" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LedgerDB:GetTip:5"></span> <a href="Ouroboros-Consensus-Ledger-Basics.html#t:IsLedger" title="Ouroboros.Consensus.Ledger.Basics">IsLedger</a> l =&gt; <a href="Ouroboros-Consensus-Ledger-Basics.html#t:GetTip" title="Ouroboros.Consensus.Ledger.Basics">GetTip</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.LedgerDB.html#line-93" class="link">Source</a> <a href="#t:LedgerDB" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LedgerDB:GetTip:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-LedgerDB.html">Ouroboros.Consensus.Storage.LedgerDB.LedgerDB</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getTip">getTip</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="Ouroboros-Consensus-Block-Abstract.html#t:Point" title="Ouroboros.Consensus.Block.Abstract">Point</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l) <a href="src/Ouroboros.Consensus.Ledger.Basics.html#getTip" class="link">Source</a> <a href="#v:getTip" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LedgerDB:HeaderHash:6"></span> <span class="keyword">type</span> <a href="Ouroboros-Consensus-Block-Abstract.html#t:HeaderHash" title="Ouroboros.Consensus.Block.Abstract">HeaderHash</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.LedgerDB.html#line-91" class="link">Source</a> <a href="#t:LedgerDB" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LedgerDB:HeaderHash:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-LedgerDB.html">Ouroboros.Consensus.Storage.LedgerDB.LedgerDB</a></p> <div class="src"><span class="keyword">type</span> <a href="Ouroboros-Consensus-Block-Abstract.html#t:HeaderHash" title="Ouroboros.Consensus.Block.Abstract">HeaderHash</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) = <a href="Ouroboros-Consensus-Block-Abstract.html#t:HeaderHash" title="Ouroboros.Consensus.Block.Abstract">HeaderHash</a> l</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LedgerDB:Rep:7"></span> <span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.LedgerDB.html#line-83" class="link">Source</a> <a href="#t:LedgerDB" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LedgerDB:Rep:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-LedgerDB.html">Ouroboros.Consensus.Storage.LedgerDB.LedgerDB</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l) = <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;LedgerDB&quot; &quot;Ouroboros.Consensus.Storage.LedgerDB.LedgerDB&quot; &quot;ouroboros-consensus-0.15.0.0-EdxEyzxfPtfJdIQHjsKbnf&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:True" title="Data.Bool">True</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;LedgerDB&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:True" title="Data.Bool">True</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a> &quot;ledgerDbCheckpoints&quot;) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> (AnchoredSeq (<a href="Ouroboros-Consensus-Block-Abstract.html#t:WithOrigin" title="Ouroboros.Consensus.Block.Abstract">WithOrigin</a> <a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a>) (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l) (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Checkpoint" title="Ouroboros.Consensus.Storage.LedgerDB">Checkpoint</a> l)))))</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:LedgerDB-39-" class="def">LedgerDB'</a> blk = <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> (<a href="Ouroboros-Consensus-Ledger-Extended.html#t:ExtLedgerState" title="Ouroboros.Consensus.Ledger.Extended">ExtLedgerState</a> blk) <a href="src/Ouroboros.Consensus.Storage.LedgerDB.LedgerDB.html#LedgerDB%27" class="link">Source</a> <a href="#t:LedgerDB-39-" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:LedgerDbCfg" class="def">LedgerDbCfg</a> l <a href="src/Ouroboros.Consensus.Storage.LedgerDB.LedgerDB.html#LedgerDbCfg" class="link">Source</a> <a href="#t:LedgerDbCfg" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:LedgerDbCfg" class="def">LedgerDbCfg</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:ledgerDbCfgSecParam" class="def">ledgerDbCfgSecParam</a> :: !<a href="Ouroboros-Consensus-Config-SecurityParam.html#t:SecurityParam" title="Ouroboros.Consensus.Config.SecurityParam">SecurityParam</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:ledgerDbCfg" class="def">ledgerDbCfg</a> :: !(<a href="Ouroboros-Consensus-Ledger-Basics.html#t:LedgerCfg" title="Ouroboros.Consensus.Ledger.Basics">LedgerCfg</a> l)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:LedgerDbCfg">Instances</h4><details id="i:LedgerDbCfg" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LedgerDbCfg:Generic:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDbCfg" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDbCfg</a> l)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.LedgerDB.html#line-123" class="link">Source</a> <a href="#t:LedgerDbCfg" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LedgerDbCfg:Generic:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-LedgerDB.html">Ouroboros.Consensus.Storage.LedgerDB.LedgerDB</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDbCfg" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDbCfg</a> l) :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDbCfg" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDbCfg</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDbCfg" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDbCfg</a> l) x <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDbCfg" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDbCfg</a> l) x -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDbCfg" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDbCfg</a> l <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LedgerDbCfg:NoThunks:2"></span> <a href="Ouroboros-Consensus-Util-IOLike.html#t:NoThunks" title="Ouroboros.Consensus.Util.IOLike">NoThunks</a> (<a href="Ouroboros-Consensus-Ledger-Basics.html#t:LedgerCfg" title="Ouroboros.Consensus.Ledger.Basics">LedgerCfg</a> l) =&gt; <a href="Ouroboros-Consensus-Util-IOLike.html#t:NoThunks" title="Ouroboros.Consensus.Util.IOLike">NoThunks</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDbCfg" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDbCfg</a> l)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.LedgerDB.html#line-125" class="link">Source</a> <a href="#t:LedgerDbCfg" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LedgerDbCfg:NoThunks:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-LedgerDB.html">Ouroboros.Consensus.Storage.LedgerDB.LedgerDB</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:noThunks">noThunks</a> :: Context -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDbCfg" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDbCfg</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> ThunkInfo) <a href="#v:noThunks" class="selflink">#</a></p><p class="src"><a href="#v:wNoThunks">wNoThunks</a> :: Context -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDbCfg" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDbCfg</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> ThunkInfo) <a href="#v:wNoThunks" class="selflink">#</a></p><p class="src"><a href="#v:showTypeOf">showTypeOf</a> :: <a href="Ouroboros-Consensus-Util-DepPair.html#t:Proxy" title="Ouroboros.Consensus.Util.DepPair">Proxy</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDbCfg" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDbCfg</a> l) -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:showTypeOf" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LedgerDbCfg:Rep:3"></span> <span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDbCfg" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDbCfg</a> l)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.LedgerDB.html#line-123" class="link">Source</a> <a href="#t:LedgerDbCfg" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LedgerDbCfg:Rep:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-LedgerDB.html">Ouroboros.Consensus.Storage.LedgerDB.LedgerDB</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDbCfg" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDbCfg</a> l) = <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;LedgerDbCfg&quot; &quot;Ouroboros.Consensus.Storage.LedgerDB.LedgerDB&quot; &quot;ouroboros-consensus-0.15.0.0-EdxEyzxfPtfJdIQHjsKbnf&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;LedgerDbCfg&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:True" title="Data.Bool">True</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a> &quot;ledgerDbCfgSecParam&quot;) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:SourceStrict" title="GHC.Generics">SourceStrict</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> <a href="Ouroboros-Consensus-Config-SecurityParam.html#t:SecurityParam" title="Ouroboros.Consensus.Config.SecurityParam">SecurityParam</a>) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a> &quot;ledgerDbCfg&quot;) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:SourceStrict" title="GHC.Generics">SourceStrict</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> (<a href="Ouroboros-Consensus-Ledger-Basics.html#t:LedgerCfg" title="Ouroboros.Consensus.Ledger.Basics">LedgerCfg</a> l))))</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:configLedgerDb" class="def">configLedgerDb</a> :: <a href="Ouroboros-Consensus-Protocol-Abstract.html#t:ConsensusProtocol" title="Ouroboros.Consensus.Protocol.Abstract">ConsensusProtocol</a> (<a href="Ouroboros-Consensus-Block-Abstract.html#t:BlockProtocol" title="Ouroboros.Consensus.Block.Abstract">BlockProtocol</a> blk) =&gt; <a href="Ouroboros-Consensus-Config.html#t:TopLevelConfig" title="Ouroboros.Consensus.Config">TopLevelConfig</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDbCfg" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDbCfg</a> (<a href="Ouroboros-Consensus-Ledger-Extended.html#t:ExtLedgerState" title="Ouroboros.Consensus.Ledger.Extended">ExtLedgerState</a> blk) <a href="src/Ouroboros.Consensus.Storage.LedgerDB.LedgerDB.html#configLedgerDb" class="link">Source</a> <a href="#v:configLedgerDb" class="selflink">#</a></p></div><a href="#g:2" id="g:2"><h1>Initialization</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:InitLog" class="def">InitLog</a> blk <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Init.html#InitLog" class="link">Source</a> <a href="#t:InitLog" class="selflink">#</a></p><div class="doc"><p>Initialization log</p><p>The initialization log records which snapshots from disk were considered,
 in which order, and why some snapshots were rejected. It is primarily useful
 for monitoring purposes.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:InitFromGenesis" class="def">InitFromGenesis</a></td><td class="doc"><p>Defaulted to initialization from genesis</p><p>NOTE: Unless the blockchain is near genesis, we should see this <em>only</em>
 if data corrupted occurred.</p></td></tr><tr><td class="src"><a id="v:InitFromSnapshot" class="def">InitFromSnapshot</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> (<a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk)</td><td class="doc"><p>Used a snapshot corresponding to the specified tip</p></td></tr><tr><td class="src"><a id="v:InitFailure" class="def">InitFailure</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotFailure" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotFailure</a> blk) (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:InitLog" title="Ouroboros.Consensus.Storage.LedgerDB">InitLog</a> blk)</td><td class="doc"><p>Initialization skipped a snapshot</p><p>We record the reason why it was skipped.</p><p>NOTE: We should <em>only</em> see this if data corrupted occurred.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:InitLog">Instances</h4><details id="i:InitLog" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:InitLog:Generic:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:InitLog" title="Ouroboros.Consensus.Storage.LedgerDB">InitLog</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Init.html#line-69" class="link">Source</a> <a href="#t:InitLog" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:InitLog:Generic:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Init.html">Ouroboros.Consensus.Storage.LedgerDB.Init</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:InitLog" title="Ouroboros.Consensus.Storage.LedgerDB">InitLog</a> blk) :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:InitLog" title="Ouroboros.Consensus.Storage.LedgerDB">InitLog</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:InitLog" title="Ouroboros.Consensus.Storage.LedgerDB">InitLog</a> blk) x <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:InitLog" title="Ouroboros.Consensus.Storage.LedgerDB">InitLog</a> blk) x -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:InitLog" title="Ouroboros.Consensus.Storage.LedgerDB">InitLog</a> blk <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:InitLog:Show:2"></span> <a href="Ouroboros-Consensus-Block-Abstract.html#t:StandardHash" title="Ouroboros.Consensus.Block.Abstract">StandardHash</a> blk =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:InitLog" title="Ouroboros.Consensus.Storage.LedgerDB">InitLog</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Init.html#line-69" class="link">Source</a> <a href="#t:InitLog" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:InitLog:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Init.html">Ouroboros.Consensus.Storage.LedgerDB.Init</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:InitLog" title="Ouroboros.Consensus.Storage.LedgerDB">InitLog</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:InitLog" title="Ouroboros.Consensus.Storage.LedgerDB">InitLog</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:InitLog" title="Ouroboros.Consensus.Storage.LedgerDB">InitLog</a> blk] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:InitLog:Eq:3"></span> <a href="Ouroboros-Consensus-Block-Abstract.html#t:StandardHash" title="Ouroboros.Consensus.Block.Abstract">StandardHash</a> blk =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:InitLog" title="Ouroboros.Consensus.Storage.LedgerDB">InitLog</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Init.html#line-69" class="link">Source</a> <a href="#t:InitLog" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:InitLog:Eq:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Init.html">Ouroboros.Consensus.Storage.LedgerDB.Init</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:InitLog" title="Ouroboros.Consensus.Storage.LedgerDB">InitLog</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:InitLog" title="Ouroboros.Consensus.Storage.LedgerDB">InitLog</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:InitLog" title="Ouroboros.Consensus.Storage.LedgerDB">InitLog</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:InitLog" title="Ouroboros.Consensus.Storage.LedgerDB">InitLog</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:InitLog:Rep:4"></span> <span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:InitLog" title="Ouroboros.Consensus.Storage.LedgerDB">InitLog</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Init.html#line-69" class="link">Source</a> <a href="#t:InitLog" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:InitLog:Rep:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Init.html">Ouroboros.Consensus.Storage.LedgerDB.Init</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:InitLog" title="Ouroboros.Consensus.Storage.LedgerDB">InitLog</a> blk) = <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;InitLog&quot; &quot;Ouroboros.Consensus.Storage.LedgerDB.Init&quot; &quot;ouroboros-consensus-0.15.0.0-EdxEyzxfPtfJdIQHjsKbnf&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;InitFromGenesis&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:U1" title="GHC.Generics">U1</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t::-43-:" title="GHC.Generics">:+:</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;InitFromSnapshot&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a>) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> (<a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk))) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t::-43-:" title="GHC.Generics">:+:</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;InitFailure&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a>) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotFailure" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotFailure</a> blk)) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:InitLog" title="Ouroboros.Consensus.Storage.LedgerDB">InitLog</a> blk))))))</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:ReplayStart" class="def">ReplayStart</a> blk <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Init.html#ReplayStart" class="link">Source</a> <a href="#t:ReplayStart" class="selflink">#</a></p><div class="doc"><p>Which point the replay started from</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ReplayStart" class="def">ReplayStart</a> (<a href="Ouroboros-Consensus-Block-Abstract.html#t:Point" title="Ouroboros.Consensus.Block.Abstract">Point</a> blk)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ReplayStart">Instances</h4><details id="i:ReplayStart" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ReplayStart:Show:1"></span> <a href="Ouroboros-Consensus-Block-Abstract.html#t:StandardHash" title="Ouroboros.Consensus.Block.Abstract">StandardHash</a> blk =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayStart" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayStart</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Init.html#line-252" class="link">Source</a> <a href="#t:ReplayStart" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ReplayStart:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Init.html">Ouroboros.Consensus.Storage.LedgerDB.Init</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayStart" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayStart</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayStart" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayStart</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayStart" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayStart</a> blk] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ReplayStart:Eq:2"></span> <a href="Ouroboros-Consensus-Block-Abstract.html#t:StandardHash" title="Ouroboros.Consensus.Block.Abstract">StandardHash</a> blk =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayStart" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayStart</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Init.html#line-252" class="link">Source</a> <a href="#t:ReplayStart" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ReplayStart:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Init.html">Ouroboros.Consensus.Storage.LedgerDB.Init</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayStart" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayStart</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayStart" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayStart</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayStart" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayStart</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayStart" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayStart</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:initLedgerDB" class="def">initLedgerDB</a> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Init.html#initLedgerDB" class="link">Source</a> <a href="#v:initLedgerDB" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> m blk. (<a href="Ouroboros-Consensus-Util-IOLike.html#t:IOLike" title="Ouroboros.Consensus.Util.IOLike">IOLike</a> m, <a href="Ouroboros-Consensus-Ledger-SupportsProtocol.html#t:LedgerSupportsProtocol" title="Ouroboros.Consensus.Ledger.SupportsProtocol">LedgerSupportsProtocol</a> blk, <a href="Ouroboros-Consensus-Ledger-Inspect.html#t:InspectLedger" title="Ouroboros.Consensus.Ledger.Inspect">InspectLedger</a> blk, <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; Tracer m (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayGoal" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayGoal</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceReplayEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceReplayEvent</a> blk)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; Tracer m (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceSnapshotEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceSnapshotEvent</a> blk)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; SomeHasFS m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; (<span class="keyword">forall</span> s. Decoder s (<a href="Ouroboros-Consensus-Ledger-Extended.html#t:ExtLedgerState" title="Ouroboros.Consensus.Ledger.Extended">ExtLedgerState</a> blk))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; (<span class="keyword">forall</span> s. Decoder s (<a href="Ouroboros-Consensus-Block-Abstract.html#t:HeaderHash" title="Ouroboros.Consensus.Block.Abstract">HeaderHash</a> blk))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDbCfg" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDbCfg</a> (<a href="Ouroboros-Consensus-Ledger-Extended.html#t:ExtLedgerState" title="Ouroboros.Consensus.Ledger.Extended">ExtLedgerState</a> blk)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; m (<a href="Ouroboros-Consensus-Ledger-Extended.html#t:ExtLedgerState" title="Ouroboros.Consensus.Ledger.Extended">ExtLedgerState</a> blk)</td><td class="doc"><p>Genesis ledger state</p></td></tr><tr><td class="src">-&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:StreamAPI" title="Ouroboros.Consensus.Storage.LedgerDB">StreamAPI</a> m blk</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; m (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:InitLog" title="Ouroboros.Consensus.Storage.LedgerDB">InitLog</a> blk, <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB-39-" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB'</a> blk, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Initialize the ledger DB from the most recent snapshot on disk</p><p>If no such snapshot can be found, use the genesis ledger DB. Returns the
 initialized DB as well as the block reference corresponding to the snapshot
 we found on disk (the latter primarily for testing/monitoring purposes).</p><p>We do <em>not</em> catch any exceptions thrown during streaming; should any be
 thrown, it is the responsibility of the <code>ChainDB</code> to catch these
 and trigger (further) validation. We only discard snapshots if</p><ul><li>We cannot deserialise them, or</li><li>they are <em>ahead</em> of the chain</li></ul><p>It is possible that the Ledger DB will not be able to roll back <code>k</code> blocks
 after initialization if the chain has been truncated (data corruption).</p><p>We do <em>not</em> attempt to use multiple ledger states from disk to construct the
 ledger DB. Instead we load only a <em>single</em> ledger state from disk, and
 <em>compute</em> all subsequent ones. This is important, because the ledger states
 obtained in this way will (hopefully) share much of their memory footprint
 with their predecessors.</p></div></div><a href="#g:3" id="g:3"><h1>Trace</h1></a><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:ReplayGoal" class="def">ReplayGoal</a> blk <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Init.html#ReplayGoal" class="link">Source</a> <a href="#t:ReplayGoal" class="selflink">#</a></p><div class="doc"><p>Which point the replay is expected to end at</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ReplayGoal" class="def">ReplayGoal</a> (<a href="Ouroboros-Consensus-Block-Abstract.html#t:Point" title="Ouroboros.Consensus.Block.Abstract">Point</a> blk)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ReplayGoal">Instances</h4><details id="i:ReplayGoal" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ReplayGoal:Show:1"></span> <a href="Ouroboros-Consensus-Block-Abstract.html#t:StandardHash" title="Ouroboros.Consensus.Block.Abstract">StandardHash</a> blk =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayGoal" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayGoal</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Init.html#line-255" class="link">Source</a> <a href="#t:ReplayGoal" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ReplayGoal:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Init.html">Ouroboros.Consensus.Storage.LedgerDB.Init</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayGoal" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayGoal</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayGoal" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayGoal</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayGoal" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayGoal</a> blk] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ReplayGoal:Eq:2"></span> <a href="Ouroboros-Consensus-Block-Abstract.html#t:StandardHash" title="Ouroboros.Consensus.Block.Abstract">StandardHash</a> blk =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayGoal" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayGoal</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Init.html#line-255" class="link">Source</a> <a href="#t:ReplayGoal" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ReplayGoal:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Init.html">Ouroboros.Consensus.Storage.LedgerDB.Init</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayGoal" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayGoal</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayGoal" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayGoal</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayGoal" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayGoal</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayGoal" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayGoal</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TraceReplayEvent" class="def">TraceReplayEvent</a> blk <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Init.html#TraceReplayEvent" class="link">Source</a> <a href="#t:TraceReplayEvent" class="selflink">#</a></p><div class="doc"><p>Events traced while replaying blocks against the ledger to bring it up to
 date w.r.t. the tip of the ImmutableDB during initialisation. As this
 process takes a while, we trace events to inform higher layers of our
 progress.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ReplayFromGenesis" class="def">ReplayFromGenesis</a></td><td class="doc"><p>There were no LedgerDB snapshots on disk, so we're replaying all blocks
 starting from Genesis against the initial ledger.</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src">(<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayGoal" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayGoal</a> blk)</dfn><div class="doc"><p>the block at the tip of the ImmutableDB
 | There was a LedgerDB snapshot on disk corresponding to the given tip.
 We're replaying more recent blocks against it.</p></div></li></ul></div></td></tr><tr><td class="src"><a id="v:ReplayFromSnapshot" class="def">ReplayFromSnapshot</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src">(<a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src">(<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayStart" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayStart</a> blk)</dfn><div class="doc"><p>the block at which this replay started</p></div></li><li><dfn class="src">(<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayGoal" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayGoal</a> blk)</dfn><div class="doc"><p>the block at the tip of the ImmutableDB
 | We replayed the given block (reference) on the genesis snapshot during
 the initialisation of the LedgerDB. Used during ImmutableDB replay.</p></div></li></ul></div></td></tr><tr><td class="src"><a id="v:ReplayedBlock" class="def">ReplayedBlock</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src">(<a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk)</dfn><div class="doc"><p>the block being replayed</p></div></li><li><dfn class="src">[<a href="Ouroboros-Consensus-Ledger-Inspect.html#t:LedgerEvent" title="Ouroboros.Consensus.Ledger.Inspect">LedgerEvent</a> blk]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src">(<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayStart" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayStart</a> blk)</dfn><div class="doc"><p>the block at which this replay started</p></div></li><li><dfn class="src">(<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayGoal" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayGoal</a> blk)</dfn><div class="doc"><p>the block at the tip of the ImmutableDB</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:TraceReplayEvent">Instances</h4><details id="i:TraceReplayEvent" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TraceReplayEvent:Generic:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceReplayEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceReplayEvent</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Init.html#line-280" class="link">Source</a> <a href="#t:TraceReplayEvent" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TraceReplayEvent:Generic:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Init.html">Ouroboros.Consensus.Storage.LedgerDB.Init</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceReplayEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceReplayEvent</a> blk) :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceReplayEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceReplayEvent</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceReplayEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceReplayEvent</a> blk) x <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceReplayEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceReplayEvent</a> blk) x -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceReplayEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceReplayEvent</a> blk <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TraceReplayEvent:Show:2"></span> (<a href="Ouroboros-Consensus-Block-Abstract.html#t:StandardHash" title="Ouroboros.Consensus.Block.Abstract">StandardHash</a> blk, <a href="Ouroboros-Consensus-Ledger-Inspect.html#t:InspectLedger" title="Ouroboros.Consensus.Ledger.Inspect">InspectLedger</a> blk) =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceReplayEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceReplayEvent</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Init.html#line-280" class="link">Source</a> <a href="#t:TraceReplayEvent" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TraceReplayEvent:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Init.html">Ouroboros.Consensus.Storage.LedgerDB.Init</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceReplayEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceReplayEvent</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceReplayEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceReplayEvent</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceReplayEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceReplayEvent</a> blk] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TraceReplayEvent:Eq:3"></span> (<a href="Ouroboros-Consensus-Block-Abstract.html#t:StandardHash" title="Ouroboros.Consensus.Block.Abstract">StandardHash</a> blk, <a href="Ouroboros-Consensus-Ledger-Inspect.html#t:InspectLedger" title="Ouroboros.Consensus.Ledger.Inspect">InspectLedger</a> blk) =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceReplayEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceReplayEvent</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Init.html#line-280" class="link">Source</a> <a href="#t:TraceReplayEvent" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TraceReplayEvent:Eq:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Init.html">Ouroboros.Consensus.Storage.LedgerDB.Init</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceReplayEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceReplayEvent</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceReplayEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceReplayEvent</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceReplayEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceReplayEvent</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceReplayEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceReplayEvent</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TraceReplayEvent:Rep:4"></span> <span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceReplayEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceReplayEvent</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Init.html#line-280" class="link">Source</a> <a href="#t:TraceReplayEvent" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TraceReplayEvent:Rep:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Init.html">Ouroboros.Consensus.Storage.LedgerDB.Init</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceReplayEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceReplayEvent</a> blk) = <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;TraceReplayEvent&quot; &quot;Ouroboros.Consensus.Storage.LedgerDB.Init&quot; &quot;ouroboros-consensus-0.15.0.0-EdxEyzxfPtfJdIQHjsKbnf&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;ReplayFromGenesis&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayGoal" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayGoal</a> blk))) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t::-43-:" title="GHC.Generics">:+:</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;ReplayFromSnapshot&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) ((<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a>) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> (<a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk))) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayStart" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayStart</a> blk)) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayGoal" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayGoal</a> blk)))) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t::-43-:" title="GHC.Generics">:+:</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;ReplayedBlock&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) ((<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> (<a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk)) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> [<a href="Ouroboros-Consensus-Ledger-Inspect.html#t:LedgerEvent" title="Ouroboros.Consensus.Ledger.Inspect">LedgerEvent</a> blk])) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayStart" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayStart</a> blk)) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayGoal" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayGoal</a> blk))))))</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:decorateReplayTracerWithGoal" class="def">decorateReplayTracerWithGoal</a> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Init.html#decorateReplayTracerWithGoal" class="link">Source</a> <a href="#v:decorateReplayTracerWithGoal" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Ouroboros-Consensus-Block-Abstract.html#t:Point" title="Ouroboros.Consensus.Block.Abstract">Point</a> blk</td><td class="doc"><p>Tip of the ImmutableDB</p></td></tr><tr><td class="src">-&gt; Tracer m (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceReplayEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceReplayEvent</a> blk)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; Tracer m (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayGoal" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayGoal</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceReplayEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceReplayEvent</a> blk)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Add the tip of the Immutable DB to the trace event</p><p>Between the tip of the immutable DB and the point of the starting block,
 the node could (if it so desired) easily compute a &quot;percentage complete&quot;.</p></div></div><div class="top"><p class="src"><a id="v:decorateReplayTracerWithStart" class="def">decorateReplayTracerWithStart</a> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Init.html#decorateReplayTracerWithStart" class="link">Source</a> <a href="#v:decorateReplayTracerWithStart" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Ouroboros-Consensus-Block-Abstract.html#t:Point" title="Ouroboros.Consensus.Block.Abstract">Point</a> blk</td><td class="doc"><p>Starting point of the replay</p></td></tr><tr><td class="src">-&gt; Tracer m (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayGoal" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayGoal</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceReplayEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceReplayEvent</a> blk)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; Tracer m (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayStart" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayStart</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ReplayGoal" title="Ouroboros.Consensus.Storage.LedgerDB">ReplayGoal</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceReplayEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceReplayEvent</a> blk)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Add the block at which a replay started.</p><p>This allows to compute a &quot;percentage complete&quot; when tracing the events.</p></div></div><a href="#g:4" id="g:4"><h1>Querying</h1></a><div class="top"><p class="src"><a id="v:ledgerDbAnchor" class="def">ledgerDbAnchor</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; l <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Query.html#ledgerDbAnchor" class="link">Source</a> <a href="#v:ledgerDbAnchor" class="selflink">#</a></p><div class="doc"><p>Information about the state of the ledger at the anchor</p></div></div><div class="top"><p class="src"><a id="v:ledgerDbCurrent" class="def">ledgerDbCurrent</a> :: <a href="Ouroboros-Consensus-Ledger-Basics.html#t:GetTip" title="Ouroboros.Consensus.Ledger.Basics">GetTip</a> l =&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; l <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Query.html#ledgerDbCurrent" class="link">Source</a> <a href="#v:ledgerDbCurrent" class="selflink">#</a></p><div class="doc"><p>The ledger state at the tip of the chain</p></div></div><div class="top"><p class="src"><a id="v:ledgerDbIsSaturated" class="def">ledgerDbIsSaturated</a> :: <a href="Ouroboros-Consensus-Ledger-Basics.html#t:GetTip" title="Ouroboros.Consensus.Ledger.Basics">GetTip</a> l =&gt; <a href="Ouroboros-Consensus-Config-SecurityParam.html#t:SecurityParam" title="Ouroboros.Consensus.Config.SecurityParam">SecurityParam</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Query.html#ledgerDbIsSaturated" class="link">Source</a> <a href="#v:ledgerDbIsSaturated" class="selflink">#</a></p><div class="doc"><p>Have we seen at least <code>k</code> blocks?</p></div></div><div class="top"><p class="src"><a id="v:ledgerDbMaxRollback" class="def">ledgerDbMaxRollback</a> :: <a href="Ouroboros-Consensus-Ledger-Basics.html#t:GetTip" title="Ouroboros.Consensus.Ledger.Basics">GetTip</a> l =&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Query.html#ledgerDbMaxRollback" class="link">Source</a> <a href="#v:ledgerDbMaxRollback" class="selflink">#</a></p><div class="doc"><p>How many blocks can we currently roll back?</p></div></div><div class="top"><p class="src"><a id="v:ledgerDbPast" class="def">ledgerDbPast</a> :: (<a href="Ouroboros-Consensus-Block-Abstract.html#t:HasHeader" title="Ouroboros.Consensus.Block.Abstract">HasHeader</a> blk, <a href="Ouroboros-Consensus-Ledger-Basics.html#t:IsLedger" title="Ouroboros.Consensus.Ledger.Basics">IsLedger</a> l, <a href="Ouroboros-Consensus-Block-Abstract.html#t:HeaderHash" title="Ouroboros.Consensus.Block.Abstract">HeaderHash</a> l <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Type-Equality.html#t:-126-" title="Data.Type.Equality">~</a> <a href="Ouroboros-Consensus-Block-Abstract.html#t:HeaderHash" title="Ouroboros.Consensus.Block.Abstract">HeaderHash</a> blk) =&gt; <a href="Ouroboros-Consensus-Block-Abstract.html#t:Point" title="Ouroboros.Consensus.Block.Abstract">Point</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> l <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Query.html#ledgerDbPast" class="link">Source</a> <a href="#v:ledgerDbPast" class="selflink">#</a></p><div class="doc"><p>Get a past ledger state</p><p><span class="mathjax">\( O(\log(\min(i,n-i)) \)</span></p><p>When no ledger state (or anchor) has the given <code><a href="Ouroboros-Consensus-Block-Abstract.html#t:Point" title="Ouroboros.Consensus.Block.Abstract">Point</a></code>, <code><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> is
 returned.</p></div></div><div class="top"><p class="src"><a id="v:ledgerDbSnapshots" class="def">ledgerDbSnapshots</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; [(<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a>, l)] <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Query.html#ledgerDbSnapshots" class="link">Source</a> <a href="#v:ledgerDbSnapshots" class="selflink">#</a></p><div class="doc"><p>All snapshots currently stored by the ledger DB (new to old)</p><p>This also includes the snapshot at the anchor. For each snapshot we also
 return the distance from the tip.</p></div></div><div class="top"><p class="src"><a id="v:ledgerDbTip" class="def">ledgerDbTip</a> :: <a href="Ouroboros-Consensus-Ledger-Basics.html#t:GetTip" title="Ouroboros.Consensus.Ledger.Basics">GetTip</a> l =&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="Ouroboros-Consensus-Block-Abstract.html#t:Point" title="Ouroboros.Consensus.Block.Abstract">Point</a> l <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Query.html#ledgerDbTip" class="link">Source</a> <a href="#v:ledgerDbTip" class="selflink">#</a></p><div class="doc"><p>Reference to the block at the tip of the chain</p></div></div><a href="#g:5" id="g:5"><h1>Updates</h1></a><a href="#g:6" id="g:6"><h2>Construct</h2></a><div class="top"><p class="src"><a id="v:ledgerDbWithAnchor" class="def">ledgerDbWithAnchor</a> :: <a href="Ouroboros-Consensus-Ledger-Basics.html#t:GetTip" title="Ouroboros.Consensus.Ledger.Basics">GetTip</a> l =&gt; l -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#ledgerDbWithAnchor" class="link">Source</a> <a href="#v:ledgerDbWithAnchor" class="selflink">#</a></p><div class="doc"><p>Ledger DB starting at the specified ledger state</p></div></div><a href="#g:7" id="g:7"><h2>Applying blocks</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:AnnLedgerError" class="def">AnnLedgerError</a> l blk <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#AnnLedgerError" class="link">Source</a> <a href="#t:AnnLedgerError" class="selflink">#</a></p><div class="doc"><p>Annotated ledger errors</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:AnnLedgerError" class="def">AnnLedgerError</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:annLedgerState" class="def">annLedgerState</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l</dfn><div class="doc"><p>The ledger DB just <em>before</em> this block was applied</p></div></li><li><dfn class="src"><a id="v:annLedgerErrRef" class="def">annLedgerErrRef</a> :: <a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk</dfn><div class="doc"><p>Reference to the block that had the error</p></div></li><li><dfn class="src"><a id="v:annLedgerErr" class="def">annLedgerErr</a> :: <a href="Ouroboros-Consensus-Ledger-Basics.html#t:LedgerErr" title="Ouroboros.Consensus.Ledger.Basics">LedgerErr</a> l</dfn><div class="doc"><p>The ledger error itself</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:AnnLedgerError">Instances</h4><details id="i:AnnLedgerError" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AnnLedgerError:ThrowsLedgerError:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ThrowsLedgerError" title="Ouroboros.Consensus.Storage.LedgerDB">ThrowsLedgerError</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:AnnLedgerError" title="Ouroboros.Consensus.Storage.LedgerDB">AnnLedgerError</a> l blk) m) l blk</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#line-199" class="link">Source</a> <a href="#t:AnnLedgerError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AnnLedgerError:ThrowsLedgerError:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Update.html">Ouroboros.Consensus.Storage.LedgerDB.Update</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:throwLedgerError">throwLedgerError</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk -&gt; <a href="Ouroboros-Consensus-Ledger-Basics.html#t:LedgerErr" title="Ouroboros.Consensus.Ledger.Basics">LedgerErr</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:AnnLedgerError" title="Ouroboros.Consensus.Storage.LedgerDB">AnnLedgerError</a> l blk) m a <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#throwLedgerError" class="link">Source</a> <a href="#v:throwLedgerError" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:AnnLedgerError-39-" class="def">AnnLedgerError'</a> blk = <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:AnnLedgerError" title="Ouroboros.Consensus.Storage.LedgerDB">AnnLedgerError</a> (<a href="Ouroboros-Consensus-Ledger-Extended.html#t:ExtLedgerState" title="Ouroboros.Consensus.Ledger.Extended">ExtLedgerState</a> blk) blk <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#AnnLedgerError%27" class="link">Source</a> <a href="#t:AnnLedgerError-39-" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Ap" class="def">Ap</a> m l blk c <span class="keyword">where</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#Ap" class="link">Source</a> <a href="#t:Ap" class="selflink">#</a></p><div class="doc"><p><code><a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Ap" title="Ouroboros.Consensus.Storage.LedgerDB">Ap</a></code> is used to pass information about blocks to ledger DB updates</p><p>The constructors serve two purposes:</p><ul><li>Specify the various parameters
   a. Are we passing the block by value or by reference?
   b. Are we applying or reapplying the block?</li><li>Compute the constraint <code>c</code> on the monad <code>m</code> in order to run the query:
   a. If we are passing a block by reference, we must be able to resolve it.
   b. If we are applying rather than reapplying, we might have ledger errors.</li></ul></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ReapplyVal" class="def">ReapplyVal</a> :: blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Ap" title="Ouroboros.Consensus.Storage.LedgerDB">Ap</a> m l blk ()</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ApplyVal" class="def">ApplyVal</a> :: blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Ap" title="Ouroboros.Consensus.Storage.LedgerDB">Ap</a> m l blk (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ThrowsLedgerError" title="Ouroboros.Consensus.Storage.LedgerDB">ThrowsLedgerError</a> m l blk)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ReapplyRef" class="def">ReapplyRef</a> :: <a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Ap" title="Ouroboros.Consensus.Storage.LedgerDB">Ap</a> m l blk (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ResolvesBlocks" title="Ouroboros.Consensus.Storage.LedgerDB">ResolvesBlocks</a> m blk)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ApplyRef" class="def">ApplyRef</a> :: <a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Ap" title="Ouroboros.Consensus.Storage.LedgerDB">Ap</a> m l blk (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ResolvesBlocks" title="Ouroboros.Consensus.Storage.LedgerDB">ResolvesBlocks</a> m blk, <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ThrowsLedgerError" title="Ouroboros.Consensus.Storage.LedgerDB">ThrowsLedgerError</a> m l blk)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Weaken" class="def">Weaken</a> :: (c' =&gt; c) =&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Ap" title="Ouroboros.Consensus.Storage.LedgerDB">Ap</a> m l blk c -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Ap" title="Ouroboros.Consensus.Storage.LedgerDB">Ap</a> m l blk c'</td><td class="doc"><p><code><a href="Ouroboros-Consensus-Storage-LedgerDB.html#v:Weaken" title="Ouroboros.Consensus.Storage.LedgerDB">Weaken</a></code> increases the constraint on the monad <code>m</code>.</p><p>This is primarily useful when combining multiple <code><a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Ap" title="Ouroboros.Consensus.Storage.LedgerDB">Ap</a></code>s in a single
 homogeneous structure.</p></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ExceededRollback" class="def">ExceededRollback</a> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#ExceededRollback" class="link">Source</a> <a href="#t:ExceededRollback" class="selflink">#</a></p><div class="doc"><p>Exceeded maximum rollback supported by the current ledger DB state</p><p>Under normal circumstances this will not arise. It can really only happen
 in the presence of data corruption (or when switching to a shorter fork,
 but that is disallowed by all currently known Ouroboros protocols).</p><p>Records both the supported and the requested rollback.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ExceededRollback" class="def">ExceededRollback</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:rollbackMaximum" class="def">rollbackMaximum</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:rollbackRequested" class="def">rollbackRequested</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a id="t:ThrowsLedgerError" class="def">ThrowsLedgerError</a> m l blk <span class="keyword">where</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#ThrowsLedgerError" class="link">Source</a> <a href="#t:ThrowsLedgerError" class="selflink">#</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:throwLedgerError" class="def">throwLedgerError</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk -&gt; <a href="Ouroboros-Consensus-Ledger-Basics.html#t:LedgerErr" title="Ouroboros.Consensus.Ledger.Basics">LedgerErr</a> l -&gt; m a <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#throwLedgerError" class="link">Source</a> <a href="#v:throwLedgerError" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ThrowsLedgerError">Instances</h4><details id="i:ThrowsLedgerError" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ThrowsLedgerError:ThrowsLedgerError:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ThrowsLedgerError" title="Ouroboros.Consensus.Storage.LedgerDB">ThrowsLedgerError</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:AnnLedgerError" title="Ouroboros.Consensus.Storage.LedgerDB">AnnLedgerError</a> l blk) m) l blk</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#line-199" class="link">Source</a> <a href="#t:ThrowsLedgerError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ThrowsLedgerError:ThrowsLedgerError:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Update.html">Ouroboros.Consensus.Storage.LedgerDB.Update</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:throwLedgerError">throwLedgerError</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk -&gt; <a href="Ouroboros-Consensus-Ledger-Basics.html#t:LedgerErr" title="Ouroboros.Consensus.Ledger.Basics">LedgerErr</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:AnnLedgerError" title="Ouroboros.Consensus.Storage.LedgerDB">AnnLedgerError</a> l blk) m a <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#throwLedgerError" class="link">Source</a> <a href="#v:throwLedgerError" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:defaultThrowLedgerErrors" class="def">defaultThrowLedgerErrors</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:AnnLedgerError" title="Ouroboros.Consensus.Storage.LedgerDB">AnnLedgerError</a> l blk) m a -&gt; m (<a href="Ouroboros-Consensus-HardFork-Combinator-Degenerate.html#t:Either" title="Ouroboros.Consensus.HardFork.Combinator.Degenerate">Either</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:AnnLedgerError" title="Ouroboros.Consensus.Storage.LedgerDB">AnnLedgerError</a> l blk) a) <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#defaultThrowLedgerErrors" class="link">Source</a> <a href="#v:defaultThrowLedgerErrors" class="selflink">#</a></p></div><a href="#g:8" id="g:8"><h2>Block resolution</h2></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ResolveBlock" class="def">ResolveBlock</a> m blk = <a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk -&gt; m blk <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#ResolveBlock" class="link">Source</a> <a href="#t:ResolveBlock" class="selflink">#</a></p><div class="doc"><p>Resolve a block</p><p>Resolving a block reference to the actual block lives in <code>m</code> because
 it might need to read the block from disk (and can therefore not be
 done inside an STM transaction).</p><p>NOTE: The ledger DB will only ask the <code>ChainDB</code> for blocks it knows
 must exist. If the <code>ChainDB</code> is unable to fulfill the request, data
 corruption must have happened and the <code>ChainDB</code> should trigger
 validation mode.</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a id="t:ResolvesBlocks" class="def">ResolvesBlocks</a> m blk | m -&gt; blk <span class="keyword">where</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#ResolvesBlocks" class="link">Source</a> <a href="#t:ResolvesBlocks" class="selflink">#</a></p><div class="doc"><p>Monads in which we can resolve blocks</p><p>To guide type inference, we insist that we must be able to infer the type
 of the block we are resolving from the type of the monad.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:doResolveBlock" class="def">doResolveBlock</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ResolveBlock" title="Ouroboros.Consensus.Storage.LedgerDB">ResolveBlock</a> m blk <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#doResolveBlock" class="link">Source</a> <a href="#v:doResolveBlock" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ResolvesBlocks">Instances</h4><details id="i:ResolvesBlocks" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ResolvesBlocks:ResolvesBlocks:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ResolvesBlocks" title="Ouroboros.Consensus.Storage.LedgerDB">ResolvesBlocks</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> e (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ResolveBlock" title="Ouroboros.Consensus.Storage.LedgerDB">ResolveBlock</a> m blk) m)) blk</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#line-174" class="link">Source</a> <a href="#t:ResolvesBlocks" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ResolvesBlocks:ResolvesBlocks:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Update.html">Ouroboros.Consensus.Storage.LedgerDB.Update</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:doResolveBlock">doResolveBlock</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ResolveBlock" title="Ouroboros.Consensus.Storage.LedgerDB">ResolveBlock</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> e (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ResolveBlock" title="Ouroboros.Consensus.Storage.LedgerDB">ResolveBlock</a> m blk) m)) blk <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#doResolveBlock" class="link">Source</a> <a href="#v:doResolveBlock" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ResolvesBlocks:ResolvesBlocks:2"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ResolvesBlocks" title="Ouroboros.Consensus.Storage.LedgerDB">ResolvesBlocks</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ResolveBlock" title="Ouroboros.Consensus.Storage.LedgerDB">ResolveBlock</a> m blk) m) blk</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#line-165" class="link">Source</a> <a href="#t:ResolvesBlocks" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ResolvesBlocks:ResolvesBlocks:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Update.html">Ouroboros.Consensus.Storage.LedgerDB.Update</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:doResolveBlock">doResolveBlock</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ResolveBlock" title="Ouroboros.Consensus.Storage.LedgerDB">ResolveBlock</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ResolveBlock" title="Ouroboros.Consensus.Storage.LedgerDB">ResolveBlock</a> m blk) m) blk <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#doResolveBlock" class="link">Source</a> <a href="#v:doResolveBlock" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:defaultResolveBlocks" class="def">defaultResolveBlocks</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ResolveBlock" title="Ouroboros.Consensus.Storage.LedgerDB">ResolveBlock</a> m blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ResolveBlock" title="Ouroboros.Consensus.Storage.LedgerDB">ResolveBlock</a> m blk) m a -&gt; m a <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#defaultResolveBlocks" class="link">Source</a> <a href="#v:defaultResolveBlocks" class="selflink">#</a></p></div><a href="#g:9" id="g:9"><h2>Operations</h2></a><div class="top"><p class="src"><a id="v:defaultResolveWithErrors" class="def">defaultResolveWithErrors</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ResolveBlock" title="Ouroboros.Consensus.Storage.LedgerDB">ResolveBlock</a> m blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:AnnLedgerError" title="Ouroboros.Consensus.Storage.LedgerDB">AnnLedgerError</a> l blk) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ResolveBlock" title="Ouroboros.Consensus.Storage.LedgerDB">ResolveBlock</a> m blk) m) a -&gt; m (<a href="Ouroboros-Consensus-HardFork-Combinator-Degenerate.html#t:Either" title="Ouroboros.Consensus.HardFork.Combinator.Degenerate">Either</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:AnnLedgerError" title="Ouroboros.Consensus.Storage.LedgerDB">AnnLedgerError</a> l blk) a) <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#defaultResolveWithErrors" class="link">Source</a> <a href="#v:defaultResolveWithErrors" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ledgerDbBimap" class="def">ledgerDbBimap</a> :: Anchorable (<a href="Ouroboros-Consensus-Block-Abstract.html#t:WithOrigin" title="Ouroboros.Consensus.Block.Abstract">WithOrigin</a> <a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a>) a b =&gt; (l -&gt; a) -&gt; (l -&gt; b) -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; AnchoredSeq (<a href="Ouroboros-Consensus-Block-Abstract.html#t:WithOrigin" title="Ouroboros.Consensus.Block.Abstract">WithOrigin</a> <a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a>) a b <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#ledgerDbBimap" class="link">Source</a> <a href="#v:ledgerDbBimap" class="selflink">#</a></p><div class="doc"><p>Transform the underlying <code>AnchoredSeq</code> using the given functions.</p></div></div><div class="top"><p class="src"><a id="v:ledgerDbPrune" class="def">ledgerDbPrune</a> :: <a href="Ouroboros-Consensus-Ledger-Basics.html#t:GetTip" title="Ouroboros.Consensus.Ledger.Basics">GetTip</a> l =&gt; <a href="Ouroboros-Consensus-Config-SecurityParam.html#t:SecurityParam" title="Ouroboros.Consensus.Config.SecurityParam">SecurityParam</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#ledgerDbPrune" class="link">Source</a> <a href="#v:ledgerDbPrune" class="selflink">#</a></p><div class="doc"><p>Prune snapshots until at we have at most <code>k</code> snapshots in the LedgerDB,
 excluding the snapshots stored at the anchor.</p></div></div><div class="top"><p class="src"><a id="v:ledgerDbPush" class="def">ledgerDbPush</a> :: <span class="keyword">forall</span> m c l blk. (<a href="Ouroboros-Consensus-Ledger-Abstract.html#t:ApplyBlock" title="Ouroboros.Consensus.Ledger.Abstract">ApplyBlock</a> l blk, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, c) =&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDbCfg" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDbCfg</a> l -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Ap" title="Ouroboros.Consensus.Storage.LedgerDB">Ap</a> m l blk c -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; m (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l) <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#ledgerDbPush" class="link">Source</a> <a href="#v:ledgerDbPush" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ledgerDbSwitch" class="def">ledgerDbSwitch</a> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#ledgerDbSwitch" class="link">Source</a> <a href="#v:ledgerDbSwitch" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Ouroboros-Consensus-Ledger-Abstract.html#t:ApplyBlock" title="Ouroboros.Consensus.Ledger.Abstract">ApplyBlock</a> l blk, <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, c)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDbCfg" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDbCfg</a> l</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></td><td class="doc"><p>How many blocks to roll back</p></td></tr><tr><td class="src">-&gt; (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:UpdateLedgerDbTraceEvent" title="Ouroboros.Consensus.Storage.LedgerDB">UpdateLedgerDbTraceEvent</a> blk -&gt; m ())</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; [<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Ap" title="Ouroboros.Consensus.Storage.LedgerDB">Ap</a> m l blk c]</td><td class="doc"><p>New blocks to apply</p></td></tr><tr><td class="src">-&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; m (<a href="Ouroboros-Consensus-HardFork-Combinator-Degenerate.html#t:Either" title="Ouroboros.Consensus.HardFork.Combinator.Degenerate">Either</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:ExceededRollback" title="Ouroboros.Consensus.Storage.LedgerDB">ExceededRollback</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l))</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Switch to a fork</p></div></div><a href="#g:10" id="g:10"><h2>Pure API</h2></a><div class="top"><p class="src"><a id="v:ledgerDbPush-39-" class="def">ledgerDbPush'</a> :: <a href="Ouroboros-Consensus-Ledger-Abstract.html#t:ApplyBlock" title="Ouroboros.Consensus.Ledger.Abstract">ApplyBlock</a> l blk =&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDbCfg" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDbCfg</a> l -&gt; blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#ledgerDbPush%27" class="link">Source</a> <a href="#v:ledgerDbPush-39-" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ledgerDbPushMany-39-" class="def">ledgerDbPushMany'</a> :: <a href="Ouroboros-Consensus-Ledger-Abstract.html#t:ApplyBlock" title="Ouroboros.Consensus.Ledger.Abstract">ApplyBlock</a> l blk =&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDbCfg" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDbCfg</a> l -&gt; [blk] -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#ledgerDbPushMany%27" class="link">Source</a> <a href="#v:ledgerDbPushMany-39-" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ledgerDbSwitch-39-" class="def">ledgerDbSwitch'</a> :: <span class="keyword">forall</span> l blk. <a href="Ouroboros-Consensus-Ledger-Abstract.html#t:ApplyBlock" title="Ouroboros.Consensus.Ledger.Abstract">ApplyBlock</a> l blk =&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDbCfg" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDbCfg</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; [blk] -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.LedgerDB">LedgerDB</a> l) <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#ledgerDbSwitch%27" class="link">Source</a> <a href="#v:ledgerDbSwitch-39-" class="selflink">#</a></p></div><a href="#g:11" id="g:11"><h2>Trace</h2></a><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:PushGoal" class="def">PushGoal</a> blk <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#PushGoal" class="link">Source</a> <a href="#t:PushGoal" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PushGoal" class="def">PushGoal</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:unPushGoal" class="def">unPushGoal</a> :: <a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PushGoal">Instances</h4><details id="i:PushGoal" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PushGoal:Show:1"></span> <a href="Ouroboros-Consensus-Block-Abstract.html#t:StandardHash" title="Ouroboros.Consensus.Block.Abstract">StandardHash</a> blk =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:PushGoal" title="Ouroboros.Consensus.Storage.LedgerDB">PushGoal</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#line-350" class="link">Source</a> <a href="#t:PushGoal" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PushGoal:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Update.html">Ouroboros.Consensus.Storage.LedgerDB.Update</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:PushGoal" title="Ouroboros.Consensus.Storage.LedgerDB">PushGoal</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:PushGoal" title="Ouroboros.Consensus.Storage.LedgerDB">PushGoal</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:PushGoal" title="Ouroboros.Consensus.Storage.LedgerDB">PushGoal</a> blk] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PushGoal:Eq:2"></span> <a href="Ouroboros-Consensus-Block-Abstract.html#t:StandardHash" title="Ouroboros.Consensus.Block.Abstract">StandardHash</a> blk =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:PushGoal" title="Ouroboros.Consensus.Storage.LedgerDB">PushGoal</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#line-350" class="link">Source</a> <a href="#t:PushGoal" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PushGoal:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Update.html">Ouroboros.Consensus.Storage.LedgerDB.Update</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:PushGoal" title="Ouroboros.Consensus.Storage.LedgerDB">PushGoal</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:PushGoal" title="Ouroboros.Consensus.Storage.LedgerDB">PushGoal</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:PushGoal" title="Ouroboros.Consensus.Storage.LedgerDB">PushGoal</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:PushGoal" title="Ouroboros.Consensus.Storage.LedgerDB">PushGoal</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:PushStart" class="def">PushStart</a> blk <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#PushStart" class="link">Source</a> <a href="#t:PushStart" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PushStart" class="def">PushStart</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:unPushStart" class="def">unPushStart</a> :: <a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PushStart">Instances</h4><details id="i:PushStart" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PushStart:Show:1"></span> <a href="Ouroboros-Consensus-Block-Abstract.html#t:StandardHash" title="Ouroboros.Consensus.Block.Abstract">StandardHash</a> blk =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:PushStart" title="Ouroboros.Consensus.Storage.LedgerDB">PushStart</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#line-347" class="link">Source</a> <a href="#t:PushStart" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PushStart:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Update.html">Ouroboros.Consensus.Storage.LedgerDB.Update</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:PushStart" title="Ouroboros.Consensus.Storage.LedgerDB">PushStart</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:PushStart" title="Ouroboros.Consensus.Storage.LedgerDB">PushStart</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:PushStart" title="Ouroboros.Consensus.Storage.LedgerDB">PushStart</a> blk] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PushStart:Eq:2"></span> <a href="Ouroboros-Consensus-Block-Abstract.html#t:StandardHash" title="Ouroboros.Consensus.Block.Abstract">StandardHash</a> blk =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:PushStart" title="Ouroboros.Consensus.Storage.LedgerDB">PushStart</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#line-347" class="link">Source</a> <a href="#t:PushStart" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PushStart:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Update.html">Ouroboros.Consensus.Storage.LedgerDB.Update</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:PushStart" title="Ouroboros.Consensus.Storage.LedgerDB">PushStart</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:PushStart" title="Ouroboros.Consensus.Storage.LedgerDB">PushStart</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:PushStart" title="Ouroboros.Consensus.Storage.LedgerDB">PushStart</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:PushStart" title="Ouroboros.Consensus.Storage.LedgerDB">PushStart</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:Pushing" class="def">Pushing</a> blk <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#Pushing" class="link">Source</a> <a href="#t:Pushing" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Pushing" class="def">Pushing</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:unPushing" class="def">unPushing</a> :: <a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Pushing">Instances</h4><details id="i:Pushing" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Pushing:Show:1"></span> <a href="Ouroboros-Consensus-Block-Abstract.html#t:StandardHash" title="Ouroboros.Consensus.Block.Abstract">StandardHash</a> blk =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Pushing" title="Ouroboros.Consensus.Storage.LedgerDB">Pushing</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#line-353" class="link">Source</a> <a href="#t:Pushing" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Pushing:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Update.html">Ouroboros.Consensus.Storage.LedgerDB.Update</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Pushing" title="Ouroboros.Consensus.Storage.LedgerDB">Pushing</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Pushing" title="Ouroboros.Consensus.Storage.LedgerDB">Pushing</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Pushing" title="Ouroboros.Consensus.Storage.LedgerDB">Pushing</a> blk] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Pushing:Eq:2"></span> <a href="Ouroboros-Consensus-Block-Abstract.html#t:StandardHash" title="Ouroboros.Consensus.Block.Abstract">StandardHash</a> blk =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Pushing" title="Ouroboros.Consensus.Storage.LedgerDB">Pushing</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#line-353" class="link">Source</a> <a href="#t:Pushing" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Pushing:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Update.html">Ouroboros.Consensus.Storage.LedgerDB.Update</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Pushing" title="Ouroboros.Consensus.Storage.LedgerDB">Pushing</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Pushing" title="Ouroboros.Consensus.Storage.LedgerDB">Pushing</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Pushing" title="Ouroboros.Consensus.Storage.LedgerDB">Pushing</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Pushing" title="Ouroboros.Consensus.Storage.LedgerDB">Pushing</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:UpdateLedgerDbTraceEvent" class="def">UpdateLedgerDbTraceEvent</a> blk <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#UpdateLedgerDbTraceEvent" class="link">Source</a> <a href="#t:UpdateLedgerDbTraceEvent" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:StartedPushingBlockToTheLedgerDb" class="def">StartedPushingBlockToTheLedgerDb</a></td><td class="doc"><p>Event fired when we are about to push a block to the LedgerDB</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src">!(<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:PushStart" title="Ouroboros.Consensus.Storage.LedgerDB">PushStart</a> blk)</dfn><div class="doc"><p>Point from which we started pushing new blocks</p></div></li><li><dfn class="src">(<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:PushGoal" title="Ouroboros.Consensus.Storage.LedgerDB">PushGoal</a> blk)</dfn><div class="doc"><p>Point to which we are updating the ledger, the last event
 StartedPushingBlockToTheLedgerDb will have Pushing and PushGoal
 wrapping over the same RealPoint</p></div></li><li><dfn class="src">!(<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Pushing" title="Ouroboros.Consensus.Storage.LedgerDB">Pushing</a> blk)</dfn><div class="doc"><p>Point which block we are about to push</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:UpdateLedgerDbTraceEvent">Instances</h4><details id="i:UpdateLedgerDbTraceEvent" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:UpdateLedgerDbTraceEvent:Generic:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:UpdateLedgerDbTraceEvent" title="Ouroboros.Consensus.Storage.LedgerDB">UpdateLedgerDbTraceEvent</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#line-366" class="link">Source</a> <a href="#t:UpdateLedgerDbTraceEvent" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:UpdateLedgerDbTraceEvent:Generic:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Update.html">Ouroboros.Consensus.Storage.LedgerDB.Update</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:UpdateLedgerDbTraceEvent" title="Ouroboros.Consensus.Storage.LedgerDB">UpdateLedgerDbTraceEvent</a> blk) :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:UpdateLedgerDbTraceEvent" title="Ouroboros.Consensus.Storage.LedgerDB">UpdateLedgerDbTraceEvent</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:UpdateLedgerDbTraceEvent" title="Ouroboros.Consensus.Storage.LedgerDB">UpdateLedgerDbTraceEvent</a> blk) x <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:UpdateLedgerDbTraceEvent" title="Ouroboros.Consensus.Storage.LedgerDB">UpdateLedgerDbTraceEvent</a> blk) x -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:UpdateLedgerDbTraceEvent" title="Ouroboros.Consensus.Storage.LedgerDB">UpdateLedgerDbTraceEvent</a> blk <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:UpdateLedgerDbTraceEvent:Show:2"></span> <a href="Ouroboros-Consensus-Block-Abstract.html#t:StandardHash" title="Ouroboros.Consensus.Block.Abstract">StandardHash</a> blk =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:UpdateLedgerDbTraceEvent" title="Ouroboros.Consensus.Storage.LedgerDB">UpdateLedgerDbTraceEvent</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#line-366" class="link">Source</a> <a href="#t:UpdateLedgerDbTraceEvent" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:UpdateLedgerDbTraceEvent:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Update.html">Ouroboros.Consensus.Storage.LedgerDB.Update</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:UpdateLedgerDbTraceEvent" title="Ouroboros.Consensus.Storage.LedgerDB">UpdateLedgerDbTraceEvent</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:UpdateLedgerDbTraceEvent" title="Ouroboros.Consensus.Storage.LedgerDB">UpdateLedgerDbTraceEvent</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:UpdateLedgerDbTraceEvent" title="Ouroboros.Consensus.Storage.LedgerDB">UpdateLedgerDbTraceEvent</a> blk] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:UpdateLedgerDbTraceEvent:Eq:3"></span> <a href="Ouroboros-Consensus-Block-Abstract.html#t:StandardHash" title="Ouroboros.Consensus.Block.Abstract">StandardHash</a> blk =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:UpdateLedgerDbTraceEvent" title="Ouroboros.Consensus.Storage.LedgerDB">UpdateLedgerDbTraceEvent</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#line-366" class="link">Source</a> <a href="#t:UpdateLedgerDbTraceEvent" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:UpdateLedgerDbTraceEvent:Eq:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Update.html">Ouroboros.Consensus.Storage.LedgerDB.Update</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:UpdateLedgerDbTraceEvent" title="Ouroboros.Consensus.Storage.LedgerDB">UpdateLedgerDbTraceEvent</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:UpdateLedgerDbTraceEvent" title="Ouroboros.Consensus.Storage.LedgerDB">UpdateLedgerDbTraceEvent</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:UpdateLedgerDbTraceEvent" title="Ouroboros.Consensus.Storage.LedgerDB">UpdateLedgerDbTraceEvent</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:UpdateLedgerDbTraceEvent" title="Ouroboros.Consensus.Storage.LedgerDB">UpdateLedgerDbTraceEvent</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:UpdateLedgerDbTraceEvent:Rep:4"></span> <span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:UpdateLedgerDbTraceEvent" title="Ouroboros.Consensus.Storage.LedgerDB">UpdateLedgerDbTraceEvent</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Update.html#line-366" class="link">Source</a> <a href="#t:UpdateLedgerDbTraceEvent" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:UpdateLedgerDbTraceEvent:Rep:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Update.html">Ouroboros.Consensus.Storage.LedgerDB.Update</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:UpdateLedgerDbTraceEvent" title="Ouroboros.Consensus.Storage.LedgerDB">UpdateLedgerDbTraceEvent</a> blk) = <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;UpdateLedgerDbTraceEvent&quot; &quot;Ouroboros.Consensus.Storage.LedgerDB.Update&quot; &quot;ouroboros-consensus-0.15.0.0-EdxEyzxfPtfJdIQHjsKbnf&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;StartedPushingBlockToTheLedgerDb&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:SourceStrict" title="GHC.Generics">SourceStrict</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:PushStart" title="Ouroboros.Consensus.Storage.LedgerDB">PushStart</a> blk)) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:PushGoal" title="Ouroboros.Consensus.Storage.LedgerDB">PushGoal</a> blk)) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:SourceStrict" title="GHC.Generics">SourceStrict</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:Pushing" title="Ouroboros.Consensus.Storage.LedgerDB">Pushing</a> blk)))))</div></details></td></tr></table></details></div></div><a href="#g:12" id="g:12"><h1>Streaming</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:NextBlock" class="def">NextBlock</a> blk <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Stream.html#NextBlock" class="link">Source</a> <a href="#t:NextBlock" class="selflink">#</a></p><div class="doc"><p>Next block returned during streaming</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NoMoreBlocks" class="def">NoMoreBlocks</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:NextBlock" class="def">NextBlock</a> blk</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:StreamAPI" class="def">StreamAPI</a> m blk <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Stream.html#StreamAPI" class="link">Source</a> <a href="#t:StreamAPI" class="selflink">#</a></p><div class="doc"><p>Stream blocks from the immutable DB</p><p>When we initialize the ledger DB, we try to find a snapshot close to the
 tip of the immutable DB, and then stream blocks from the immutable DB to its
 tip to bring the ledger up to date with the tip of the immutable DB.</p><p>In CPS form to enable the use of <code>withXYZ</code> style iterator init functions.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:StreamAPI" class="def">StreamAPI</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:streamAfter" class="def">streamAfter</a> :: <span class="keyword">forall</span> a. <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> =&gt; <a href="Ouroboros-Consensus-Block-Abstract.html#t:Point" title="Ouroboros.Consensus.Block.Abstract">Point</a> blk -&gt; (<a href="Ouroboros-Consensus-HardFork-Combinator-Degenerate.html#t:Either" title="Ouroboros.Consensus.HardFork.Combinator.Degenerate">Either</a> (<a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk) (m (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:NextBlock" title="Ouroboros.Consensus.Storage.LedgerDB">NextBlock</a> blk)) -&gt; m a) -&gt; m a</dfn><div class="doc"><p>Start streaming after the specified block</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:streamAll" class="def">streamAll</a> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Stream.html#streamAll" class="link">Source</a> <a href="#v:streamAll" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> m blk e a. (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:StreamAPI" title="Ouroboros.Consensus.Storage.LedgerDB">StreamAPI</a> m blk</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Ouroboros-Consensus-Block-Abstract.html#t:Point" title="Ouroboros.Consensus.Block.Abstract">Point</a> blk</td><td class="doc"><p>Starting point for streaming</p></td></tr><tr><td class="src">-&gt; (<a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk -&gt; e)</td><td class="doc"><p>Error when tip not found</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>Starting point when tip <em>is</em> found</p></td></tr><tr><td class="src">-&gt; (blk -&gt; a -&gt; m a)</td><td class="doc"><p>Update function for each block</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> e m a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Stream all blocks</p></div></div><a href="#g:13" id="g:13"><h1>Snapshots</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:DiskSnapshot" class="def">DiskSnapshot</a> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Snapshots.html#DiskSnapshot" class="link">Source</a> <a href="#t:DiskSnapshot" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DiskSnapshot" class="def">DiskSnapshot</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:dsNumber" class="def">dsNumber</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></dfn><div class="doc"><p>Snapshots are numbered. We will try the snapshots with the highest
 number first.</p><p>When creating a snapshot, we use the slot number of the ledger state it
 corresponds to as the snapshot number. This gives an indication of how
 recent the snapshot is.</p><p>Note that the snapshot names are only indicative, we don't rely on the
 snapshot number matching the slot number of the corresponding ledger
 state. We only use the snapshots numbers to determine the order in
 which we try them.</p></div></li><li><dfn class="src"><a id="v:dsSuffix" class="def">dsSuffix</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a></dfn><div class="doc"><p>Snapshots can optionally have a suffix, separated by the snapshot
 number with an underscore, e.g., <code>4492799_last_Byron</code>. This suffix acts
 as metadata for the operator of the node. Snapshots with a suffix will
 <em>not be trimmed</em>.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:DiskSnapshot">Instances</h4><details id="i:DiskSnapshot" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DiskSnapshot:Generic:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a></span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Snapshots.html#line-173" class="link">Source</a> <a href="#t:DiskSnapshot" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DiskSnapshot:Generic:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Snapshots.html">Ouroboros.Consensus.Storage.LedgerDB.Snapshots</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> x <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> x -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DiskSnapshot:Show:2"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a></span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Snapshots.html#line-173" class="link">Source</a> <a href="#t:DiskSnapshot" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DiskSnapshot:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Snapshots.html">Ouroboros.Consensus.Storage.LedgerDB.Snapshots</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a>] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DiskSnapshot:Eq:3"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a></span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Snapshots.html#line-173" class="link">Source</a> <a href="#t:DiskSnapshot" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DiskSnapshot:Eq:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Snapshots.html">Ouroboros.Consensus.Storage.LedgerDB.Snapshots</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DiskSnapshot:Ord:4"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a></span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Snapshots.html#line-173" class="link">Source</a> <a href="#t:DiskSnapshot" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DiskSnapshot:Ord:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Snapshots.html">Ouroboros.Consensus.Storage.LedgerDB.Snapshots</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DiskSnapshot:Rep:5"></span> <span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a></span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Snapshots.html#line-173" class="link">Source</a> <a href="#t:DiskSnapshot" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DiskSnapshot:Rep:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Snapshots.html">Ouroboros.Consensus.Storage.LedgerDB.Snapshots</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> = <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;DiskSnapshot&quot; &quot;Ouroboros.Consensus.Storage.LedgerDB.Snapshots&quot; &quot;ouroboros-consensus-0.15.0.0-EdxEyzxfPtfJdIQHjsKbnf&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;DiskSnapshot&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:True" title="Data.Bool">True</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a> &quot;dsNumber&quot;) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a>) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a> &quot;dsSuffix&quot;) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a>))))</div></details></td></tr></table></details></div></div><a href="#g:14" id="g:14"><h2>Read from disk</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SnapshotFailure" class="def">SnapshotFailure</a> blk <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Snapshots.html#SnapshotFailure" class="link">Source</a> <a href="#t:SnapshotFailure" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:InitFailureRead" class="def">InitFailureRead</a> <a href="Ouroboros-Consensus-Util-CBOR.html#t:ReadIncrementalErr" title="Ouroboros.Consensus.Util.CBOR">ReadIncrementalErr</a></td><td class="doc"><p>We failed to deserialise the snapshot</p><p>This can happen due to data corruption in the ledger DB.</p></td></tr><tr><td class="src"><a id="v:InitFailureTooRecent" class="def">InitFailureTooRecent</a> (<a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk)</td><td class="doc"><p>This snapshot is too recent (ahead of the tip of the chain)</p></td></tr><tr><td class="src"><a id="v:InitFailureGenesis" class="def">InitFailureGenesis</a></td><td class="doc"><p>This snapshot was of the ledger state at genesis, even though we never
 take snapshots at genesis, so this is unexpected.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:SnapshotFailure">Instances</h4><details id="i:SnapshotFailure" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SnapshotFailure:Generic:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotFailure" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotFailure</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Snapshots.html#line-78" class="link">Source</a> <a href="#t:SnapshotFailure" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SnapshotFailure:Generic:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Snapshots.html">Ouroboros.Consensus.Storage.LedgerDB.Snapshots</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotFailure" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotFailure</a> blk) :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotFailure" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotFailure</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotFailure" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotFailure</a> blk) x <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotFailure" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotFailure</a> blk) x -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotFailure" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotFailure</a> blk <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SnapshotFailure:Show:2"></span> <a href="Ouroboros-Consensus-Block-Abstract.html#t:StandardHash" title="Ouroboros.Consensus.Block.Abstract">StandardHash</a> blk =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotFailure" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotFailure</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Snapshots.html#line-78" class="link">Source</a> <a href="#t:SnapshotFailure" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SnapshotFailure:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Snapshots.html">Ouroboros.Consensus.Storage.LedgerDB.Snapshots</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotFailure" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotFailure</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotFailure" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotFailure</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotFailure" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotFailure</a> blk] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SnapshotFailure:Eq:3"></span> <a href="Ouroboros-Consensus-Block-Abstract.html#t:StandardHash" title="Ouroboros.Consensus.Block.Abstract">StandardHash</a> blk =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotFailure" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotFailure</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Snapshots.html#line-78" class="link">Source</a> <a href="#t:SnapshotFailure" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SnapshotFailure:Eq:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Snapshots.html">Ouroboros.Consensus.Storage.LedgerDB.Snapshots</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotFailure" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotFailure</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotFailure" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotFailure</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotFailure" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotFailure</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotFailure" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotFailure</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SnapshotFailure:Rep:4"></span> <span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotFailure" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotFailure</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Snapshots.html#line-78" class="link">Source</a> <a href="#t:SnapshotFailure" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SnapshotFailure:Rep:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Snapshots.html">Ouroboros.Consensus.Storage.LedgerDB.Snapshots</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotFailure" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotFailure</a> blk) = <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;SnapshotFailure&quot; &quot;Ouroboros.Consensus.Storage.LedgerDB.Snapshots&quot; &quot;ouroboros-consensus-0.15.0.0-EdxEyzxfPtfJdIQHjsKbnf&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;InitFailureRead&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> <a href="Ouroboros-Consensus-Util-CBOR.html#t:ReadIncrementalErr" title="Ouroboros.Consensus.Util.CBOR">ReadIncrementalErr</a>)) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t::-43-:" title="GHC.Generics">:+:</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;InitFailureTooRecent&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> (<a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk))) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t::-43-:" title="GHC.Generics">:+:</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;InitFailureGenesis&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:U1" title="GHC.Generics">U1</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>)))</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:diskSnapshotIsTemporary" class="def">diskSnapshotIsTemporary</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Snapshots.html#diskSnapshotIsTemporary" class="link">Source</a> <a href="#v:diskSnapshotIsTemporary" class="selflink">#</a></p><div class="doc"><p>The snapshots that are periodically created are temporary, they will be
 deleted when trimming</p></div></div><div class="top"><p class="src"><a id="v:listSnapshots" class="def">listSnapshots</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; SomeHasFS m -&gt; m [<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a>] <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Snapshots.html#listSnapshots" class="link">Source</a> <a href="#v:listSnapshots" class="selflink">#</a></p><div class="doc"><p>List on-disk snapshots, highest number first.</p></div></div><div class="top"><p class="src"><a id="v:readSnapshot" class="def">readSnapshot</a> :: <span class="keyword">forall</span> m blk. <a href="Ouroboros-Consensus-Util-IOLike.html#t:IOLike" title="Ouroboros.Consensus.Util.IOLike">IOLike</a> m =&gt; SomeHasFS m -&gt; (<span class="keyword">forall</span> s. Decoder s (<a href="Ouroboros-Consensus-Ledger-Extended.html#t:ExtLedgerState" title="Ouroboros.Consensus.Ledger.Extended">ExtLedgerState</a> blk)) -&gt; (<span class="keyword">forall</span> s. Decoder s (<a href="Ouroboros-Consensus-Block-Abstract.html#t:HeaderHash" title="Ouroboros.Consensus.Block.Abstract">HeaderHash</a> blk)) -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/mtl-2.3.1/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> <a href="Ouroboros-Consensus-Util-CBOR.html#t:ReadIncrementalErr" title="Ouroboros.Consensus.Util.CBOR">ReadIncrementalErr</a> m (<a href="Ouroboros-Consensus-Ledger-Extended.html#t:ExtLedgerState" title="Ouroboros.Consensus.Ledger.Extended">ExtLedgerState</a> blk) <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Snapshots.html#readSnapshot" class="link">Source</a> <a href="#v:readSnapshot" class="selflink">#</a></p><div class="doc"><p>Read snapshot from disk</p></div></div><a href="#g:15" id="g:15"><h2>Write to disk</h2></a><div class="top"><p class="src"><a id="v:takeSnapshot" class="def">takeSnapshot</a> :: <span class="keyword">forall</span> m blk. (<a href="Ouroboros-Consensus-Util-IOLike.html#t:MonadThrow" title="Ouroboros.Consensus.Util.IOLike">MonadThrow</a> m, <a href="Ouroboros-Consensus-Ledger-Basics.html#t:IsLedger" title="Ouroboros.Consensus.Ledger.Basics">IsLedger</a> (<a href="Ouroboros-Consensus-Ledger-Basics.html#t:LedgerState" title="Ouroboros.Consensus.Ledger.Basics">LedgerState</a> blk)) =&gt; Tracer m (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceSnapshotEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceSnapshotEvent</a> blk) -&gt; SomeHasFS m -&gt; (<a href="Ouroboros-Consensus-Ledger-Extended.html#t:ExtLedgerState" title="Ouroboros.Consensus.Ledger.Extended">ExtLedgerState</a> blk -&gt; Encoding) -&gt; <a href="Ouroboros-Consensus-Ledger-Extended.html#t:ExtLedgerState" title="Ouroboros.Consensus.Ledger.Extended">ExtLedgerState</a> blk -&gt; m (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a>, <a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk)) <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Snapshots.html#takeSnapshot" class="link">Source</a> <a href="#v:takeSnapshot" class="selflink">#</a></p><div class="doc"><p>Take a snapshot of the <em>oldest ledger state</em> in the ledger DB</p><p>We write the <em>oldest</em> ledger state to disk because the intention is to only
 write ledger states to disk that we know to be immutable. Primarily for
 testing purposes, <code><a href="Ouroboros-Consensus-Storage-LedgerDB.html#v:takeSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">takeSnapshot</a></code> returns the block reference corresponding
 to the snapshot that we wrote.</p><p>If a snapshot with the same number already exists on disk or if the tip is at
 genesis, no snapshot is taken.</p><p>Note that an EBB can have the same slot number and thus snapshot number as
 the block after it. This doesn't matter. The one block difference in the
 ledger state doesn't warrant an additional snapshot. The number in the name
 of the snapshot is only indicative, we don't rely on it being correct.</p><p>NOTE: This is a lower-level API that takes a snapshot independent from
 whether this snapshot corresponds to a state that is more than <code>k</code> back.</p><p>TODO: Should we delete the file if an error occurs during writing?</p></div></div><div class="top"><p class="src"><a id="v:trimSnapshots" class="def">trimSnapshots</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; Tracer m (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceSnapshotEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceSnapshotEvent</a> r) -&gt; SomeHasFS m -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskPolicy" title="Ouroboros.Consensus.Storage.LedgerDB">DiskPolicy</a> -&gt; m [<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a>] <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Snapshots.html#trimSnapshots" class="link">Source</a> <a href="#v:trimSnapshots" class="selflink">#</a></p><div class="doc"><p>Trim the number of on disk snapshots so that at most <code><a href="Ouroboros-Consensus-Storage-LedgerDB.html#v:onDiskNumSnapshots" title="Ouroboros.Consensus.Storage.LedgerDB">onDiskNumSnapshots</a></code>
 snapshots are stored on disk. The oldest snapshots are deleted.</p><p>The deleted snapshots are returned.</p></div></div><div class="top"><p class="src"><a id="v:writeSnapshot" class="def">writeSnapshot</a> :: <span class="keyword">forall</span> m blk. <a href="Ouroboros-Consensus-Util-IOLike.html#t:MonadThrow" title="Ouroboros.Consensus.Util.IOLike">MonadThrow</a> m =&gt; SomeHasFS m -&gt; (<a href="Ouroboros-Consensus-Ledger-Extended.html#t:ExtLedgerState" title="Ouroboros.Consensus.Ledger.Extended">ExtLedgerState</a> blk -&gt; Encoding) -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="Ouroboros-Consensus-Ledger-Extended.html#t:ExtLedgerState" title="Ouroboros.Consensus.Ledger.Extended">ExtLedgerState</a> blk -&gt; m () <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Snapshots.html#writeSnapshot" class="link">Source</a> <a href="#v:writeSnapshot" class="selflink">#</a></p><div class="doc"><p>Write snapshot to disk</p></div></div><a href="#g:16" id="g:16"><h2>Low-level API (primarily exposed for testing)</h2></a><div class="top"><p class="src"><a id="v:decodeSnapshotBackwardsCompatible" class="def">decodeSnapshotBackwardsCompatible</a> :: <span class="keyword">forall</span> l blk. <a href="Ouroboros-Consensus-Util-DepPair.html#t:Proxy" title="Ouroboros.Consensus.Util.DepPair">Proxy</a> blk -&gt; (<span class="keyword">forall</span> s. Decoder s l) -&gt; (<span class="keyword">forall</span> s. Decoder s (<a href="Ouroboros-Consensus-Block-Abstract.html#t:HeaderHash" title="Ouroboros.Consensus.Block.Abstract">HeaderHash</a> blk)) -&gt; <span class="keyword">forall</span> s. Decoder s l <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Snapshots.html#decodeSnapshotBackwardsCompatible" class="link">Source</a> <a href="#v:decodeSnapshotBackwardsCompatible" class="selflink">#</a></p><div class="doc"><p>To remain backwards compatible with existing snapshots stored on disk, we
 must accept the old format as well as the new format.</p><p>The old format:
 * The tip: <code>WithOrigin (RealPoint blk)</code>
 * The chain length: <code>Word64</code>
 * The ledger state: <code>l</code></p><p>The new format is described by <code>snapshotEncodingVersion1</code>.</p><p>This decoder will accept and ignore them. The encoder (<code><a href="Ouroboros-Consensus-Storage-LedgerDB.html#v:encodeSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">encodeSnapshot</a></code>) will
 no longer encode them.</p></div></div><div class="top"><p class="src"><a id="v:deleteSnapshot" class="def">deleteSnapshot</a> :: <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> =&gt; SomeHasFS m -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; m () <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Snapshots.html#deleteSnapshot" class="link">Source</a> <a href="#v:deleteSnapshot" class="selflink">#</a></p><div class="doc"><p>Delete snapshot from disk</p></div></div><div class="top"><p class="src"><a id="v:encodeSnapshot" class="def">encodeSnapshot</a> :: (l -&gt; Encoding) -&gt; l -&gt; Encoding <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Snapshots.html#encodeSnapshot" class="link">Source</a> <a href="#v:encodeSnapshot" class="selflink">#</a></p><div class="doc"><p>Encoder to be used in combination with <code><a href="Ouroboros-Consensus-Storage-LedgerDB.html#v:decodeSnapshotBackwardsCompatible" title="Ouroboros.Consensus.Storage.LedgerDB">decodeSnapshotBackwardsCompatible</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:snapshotToFileName" class="def">snapshotToFileName</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Snapshots.html#snapshotToFileName" class="link">Source</a> <a href="#v:snapshotToFileName" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:snapshotToPath" class="def">snapshotToPath</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> -&gt; FsPath <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Snapshots.html#snapshotToPath" class="link">Source</a> <a href="#v:snapshotToPath" class="selflink">#</a></p></div><a href="#g:17" id="g:17"><h2>Trace</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TraceSnapshotEvent" class="def">TraceSnapshotEvent</a> blk <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Snapshots.html#TraceSnapshotEvent" class="link">Source</a> <a href="#t:TraceSnapshotEvent" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:InvalidSnapshot" class="def">InvalidSnapshot</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotFailure" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotFailure</a> blk)</td><td class="doc"><p>An on disk snapshot was skipped because it was invalid.</p></td></tr><tr><td class="src"><a id="v:TookSnapshot" class="def">TookSnapshot</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a> (<a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk)</td><td class="doc"><p>A snapshot was written to disk.</p></td></tr><tr><td class="src"><a id="v:DeletedSnapshot" class="def">DeletedSnapshot</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a></td><td class="doc"><p>An old or invalid on-disk snapshot was deleted</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:TraceSnapshotEvent">Instances</h4><details id="i:TraceSnapshotEvent" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TraceSnapshotEvent:Generic:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceSnapshotEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceSnapshotEvent</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Snapshots.html#line-87" class="link">Source</a> <a href="#t:TraceSnapshotEvent" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TraceSnapshotEvent:Generic:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Snapshots.html">Ouroboros.Consensus.Storage.LedgerDB.Snapshots</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceSnapshotEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceSnapshotEvent</a> blk) :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceSnapshotEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceSnapshotEvent</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceSnapshotEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceSnapshotEvent</a> blk) x <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceSnapshotEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceSnapshotEvent</a> blk) x -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceSnapshotEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceSnapshotEvent</a> blk <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TraceSnapshotEvent:Show:2"></span> <a href="Ouroboros-Consensus-Block-Abstract.html#t:StandardHash" title="Ouroboros.Consensus.Block.Abstract">StandardHash</a> blk =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceSnapshotEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceSnapshotEvent</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Snapshots.html#line-87" class="link">Source</a> <a href="#t:TraceSnapshotEvent" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TraceSnapshotEvent:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Snapshots.html">Ouroboros.Consensus.Storage.LedgerDB.Snapshots</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceSnapshotEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceSnapshotEvent</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceSnapshotEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceSnapshotEvent</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceSnapshotEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceSnapshotEvent</a> blk] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TraceSnapshotEvent:Eq:3"></span> <a href="Ouroboros-Consensus-Block-Abstract.html#t:StandardHash" title="Ouroboros.Consensus.Block.Abstract">StandardHash</a> blk =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceSnapshotEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceSnapshotEvent</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Snapshots.html#line-87" class="link">Source</a> <a href="#t:TraceSnapshotEvent" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TraceSnapshotEvent:Eq:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Snapshots.html">Ouroboros.Consensus.Storage.LedgerDB.Snapshots</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceSnapshotEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceSnapshotEvent</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceSnapshotEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceSnapshotEvent</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceSnapshotEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceSnapshotEvent</a> blk -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceSnapshotEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceSnapshotEvent</a> blk -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TraceSnapshotEvent:Rep:4"></span> <span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceSnapshotEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceSnapshotEvent</a> blk)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.Snapshots.html#line-87" class="link">Source</a> <a href="#t:TraceSnapshotEvent" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TraceSnapshotEvent:Rep:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-Snapshots.html">Ouroboros.Consensus.Storage.LedgerDB.Snapshots</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TraceSnapshotEvent" title="Ouroboros.Consensus.Storage.LedgerDB">TraceSnapshotEvent</a> blk) = <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;TraceSnapshotEvent&quot; &quot;Ouroboros.Consensus.Storage.LedgerDB.Snapshots&quot; &quot;ouroboros-consensus-0.15.0.0-EdxEyzxfPtfJdIQHjsKbnf&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;InvalidSnapshot&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a>) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotFailure" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotFailure</a> blk))) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t::-43-:" title="GHC.Generics">:+:</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;TookSnapshot&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a>) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> (<a href="Ouroboros-Consensus-Block-RealPoint.html#t:RealPoint" title="Ouroboros.Consensus.Block.RealPoint">RealPoint</a> blk))) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t::-43-:" title="GHC.Generics">:+:</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;DeletedSnapshot&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskSnapshot" title="Ouroboros.Consensus.Storage.LedgerDB">DiskSnapshot</a>))))</div></details></td></tr></table></details></div></div><a href="#g:18" id="g:18"><h1>Disk policy</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:DiskPolicy" class="def">DiskPolicy</a> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy.html#DiskPolicy" class="link">Source</a> <a href="#t:DiskPolicy" class="selflink">#</a></p><div class="doc"><p>On-disk policy</p><p>We only write ledger states that are older than <code>k</code> blocks to disk (that is,
 snapshots that are guaranteed valid). The on-disk policy determines how often
 we write to disk and how many checkpoints we keep.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DiskPolicy" class="def">DiskPolicy</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:onDiskNumSnapshots" class="def">onDiskNumSnapshots</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word" title="Data.Word">Word</a></dfn><div class="doc"><p>How many snapshots do we want to keep on disk?</p><p>A higher number of on-disk snapshots is primarily a safe-guard against
 disk corruption: it trades disk space for reliability.</p><p>Examples:</p><ul><li><code>0</code>: Delete the snapshot immediately after writing.
        Probably not a useful value :-D</li><li><code>1</code>: Delete the previous snapshot immediately after writing the next
        Dangerous policy: if for some reason the deletion happens before
        the new snapshot is written entirely to disk (we don't <code>fsync</code>),
        we have no choice but to start at the genesis snapshot on the
        next startup.</li><li><code>2</code>: Always keep 2 snapshots around. This means that when we write
        the next snapshot, we delete the oldest one, leaving the middle
        one available in case of truncation of the write. This is
        probably a sane value in most circumstances.</li></ul></div></li><li><dfn class="src"><a id="v:onDiskShouldTakeSnapshot" class="def">onDiskShouldTakeSnapshot</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TimeSinceLast" title="Ouroboros.Consensus.Storage.LedgerDB">TimeSinceLast</a> <a href="Ouroboros-Consensus-Util-IOLike.html#t:DiffTime" title="Ouroboros.Consensus.Util.IOLike">DiffTime</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc"><p>Should we write a snapshot of the ledger state to disk?</p><p>This function is passed two bits of information:</p><ul><li>The time since the last snapshot, or <code><a href="Ouroboros-Consensus-Storage-LedgerDB.html#v:NoSnapshotTakenYet" title="Ouroboros.Consensus.Storage.LedgerDB">NoSnapshotTakenYet</a></code> if none was taken yet.
   Note that <code><a href="Ouroboros-Consensus-Storage-LedgerDB.html#v:NoSnapshotTakenYet" title="Ouroboros.Consensus.Storage.LedgerDB">NoSnapshotTakenYet</a></code> merely means no snapshot had been taking yet
   since the node was started; it does not necessarily mean that none
   exist on disk.</li><li>The distance in terms of blocks applied to the <em>oldest</em> ledger
   snapshot in memory. During normal operation, this is the number of
   blocks written to the ImmutableDB since the last snapshot. On
   startup, it is computed by counting how many immutable blocks we had
   to reapply to get to the chain tip. This is useful, as it allows the
   policy to decide to take a snapshot <em>on node startup</em> if a lot of
   blocks had to be replayed.</li></ul><p>See also <code><a href="Ouroboros-Consensus-Storage-LedgerDB.html#v:defaultDiskPolicy" title="Ouroboros.Consensus.Storage.LedgerDB">defaultDiskPolicy</a></code></p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:DiskPolicy">Instances</h4><details id="i:DiskPolicy" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DiskPolicy:NoThunks:1"></span> <a href="Ouroboros-Consensus-Util-IOLike.html#t:NoThunks" title="Ouroboros.Consensus.Util.IOLike">NoThunks</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskPolicy" title="Ouroboros.Consensus.Storage.LedgerDB">DiskPolicy</a></span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy.html#line-80" class="link">Source</a> <a href="#t:DiskPolicy" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DiskPolicy:NoThunks:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html">Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:noThunks">noThunks</a> :: Context -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskPolicy" title="Ouroboros.Consensus.Storage.LedgerDB">DiskPolicy</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> ThunkInfo) <a href="#v:noThunks" class="selflink">#</a></p><p class="src"><a href="#v:wNoThunks">wNoThunks</a> :: Context -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskPolicy" title="Ouroboros.Consensus.Storage.LedgerDB">DiskPolicy</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> ThunkInfo) <a href="#v:wNoThunks" class="selflink">#</a></p><p class="src"><a href="#v:showTypeOf">showTypeOf</a> :: <a href="Ouroboros-Consensus-Util-DepPair.html#t:Proxy" title="Ouroboros.Consensus.Util.DepPair">Proxy</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskPolicy" title="Ouroboros.Consensus.Storage.LedgerDB">DiskPolicy</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:showTypeOf" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SnapshotInterval" class="def">SnapshotInterval</a> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy.html#SnapshotInterval" class="link">Source</a> <a href="#t:SnapshotInterval" class="selflink">#</a></p><div class="doc"><p>Length of time, requested by the user, that has to pass after which
 a snapshot is taken. It can be:</p><ol><li value="1">either explicitly provided by user in seconds</li><li value="2">or default value can be requested - the specific DiskPolicy determines
    what that is exactly, see <code><a href="Ouroboros-Consensus-Storage-LedgerDB.html#v:defaultDiskPolicy" title="Ouroboros.Consensus.Storage.LedgerDB">defaultDiskPolicy</a></code> as an example</li></ol></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DefaultSnapshotInterval" class="def">DefaultSnapshotInterval</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:RequestedSnapshotInterval" class="def">RequestedSnapshotInterval</a> <a href="Ouroboros-Consensus-Util-IOLike.html#t:DiffTime" title="Ouroboros.Consensus.Util.IOLike">DiffTime</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:SnapshotInterval">Instances</h4><details id="i:SnapshotInterval" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SnapshotInterval:Generic:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotInterval</a></span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy.html#line-32" class="link">Source</a> <a href="#t:SnapshotInterval" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SnapshotInterval:Generic:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html">Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotInterval</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotInterval</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotInterval</a> x <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotInterval</a> x -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotInterval</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SnapshotInterval:Show:2"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotInterval</a></span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy.html#line-32" class="link">Source</a> <a href="#t:SnapshotInterval" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SnapshotInterval:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html">Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotInterval</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotInterval</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotInterval</a>] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SnapshotInterval:Eq:3"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotInterval</a></span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy.html#line-32" class="link">Source</a> <a href="#t:SnapshotInterval" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SnapshotInterval:Eq:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html">Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotInterval</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotInterval</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotInterval</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotInterval</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SnapshotInterval:Rep:4"></span> <span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotInterval</a></span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy.html#line-32" class="link">Source</a> <a href="#t:SnapshotInterval" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SnapshotInterval:Rep:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html">Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotInterval</a> = <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;SnapshotInterval&quot; &quot;Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy&quot; &quot;ouroboros-consensus-0.15.0.0-EdxEyzxfPtfJdIQHjsKbnf&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;DefaultSnapshotInterval&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:U1" title="GHC.Generics">U1</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t::-43-:" title="GHC.Generics">:+:</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;RequestedSnapshotInterval&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> <a href="Ouroboros-Consensus-Util-IOLike.html#t:DiffTime" title="Ouroboros.Consensus.Util.IOLike">DiffTime</a>)))</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TimeSinceLast" class="def">TimeSinceLast</a> time <a href="src/Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy.html#TimeSinceLast" class="link">Source</a> <a href="#t:TimeSinceLast" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NoSnapshotTakenYet" class="def">NoSnapshotTakenYet</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TimeSinceLast" class="def">TimeSinceLast</a> time</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:TimeSinceLast">Instances</h4><details id="i:TimeSinceLast" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TimeSinceLast:Functor:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TimeSinceLast" title="Ouroboros.Consensus.Storage.LedgerDB">TimeSinceLast</a></span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy.html#line-83" class="link">Source</a> <a href="#t:TimeSinceLast" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TimeSinceLast:Functor:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html">Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TimeSinceLast" title="Ouroboros.Consensus.Storage.LedgerDB">TimeSinceLast</a> a -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TimeSinceLast" title="Ouroboros.Consensus.Storage.LedgerDB">TimeSinceLast</a> b <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TimeSinceLast" title="Ouroboros.Consensus.Storage.LedgerDB">TimeSinceLast</a> b -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TimeSinceLast" title="Ouroboros.Consensus.Storage.LedgerDB">TimeSinceLast</a> a <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TimeSinceLast:Show:2"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> time =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TimeSinceLast" title="Ouroboros.Consensus.Storage.LedgerDB">TimeSinceLast</a> time)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy.html#line-83" class="link">Source</a> <a href="#t:TimeSinceLast" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TimeSinceLast:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html">Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TimeSinceLast" title="Ouroboros.Consensus.Storage.LedgerDB">TimeSinceLast</a> time -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TimeSinceLast" title="Ouroboros.Consensus.Storage.LedgerDB">TimeSinceLast</a> time -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:TimeSinceLast" title="Ouroboros.Consensus.Storage.LedgerDB">TimeSinceLast</a> time] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:defaultDiskPolicy" class="def">defaultDiskPolicy</a> :: <a href="Ouroboros-Consensus-Config-SecurityParam.html#t:SecurityParam" title="Ouroboros.Consensus.Config.SecurityParam">SecurityParam</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB">SnapshotInterval</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB.html#t:DiskPolicy" title="Ouroboros.Consensus.Storage.LedgerDB">DiskPolicy</a> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy.html#defaultDiskPolicy" class="link">Source</a> <a href="#v:defaultDiskPolicy" class="selflink">#</a></p><div class="doc"><p>Default on-disk policy suitable to use with cardano-node</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.1</p></div></body></html>