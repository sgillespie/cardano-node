<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ouroboros-consensus-0.15.0.0: Consensus layer for the Ouroboros blockchain protocol</span><ul class="links" id="page-menu"><li id="quick-jump-button"><a href="#">Quick Jump</a></li><li><a href="src/Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:DiskPolicy">DiskPolicy</a> = <a href="#v:DiskPolicy">DiskPolicy</a> {<ul class="subs"><li><a href="#v:onDiskNumSnapshots">onDiskNumSnapshots</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word" title="Data.Word">Word</a></li><li><a href="#v:onDiskShouldTakeSnapshot">onDiskShouldTakeSnapshot</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:TimeSinceLast" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">TimeSinceLast</a> <a href="Ouroboros-Consensus-Util-IOLike.html#t:DiffTime" title="Ouroboros.Consensus.Util.IOLike">DiffTime</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:SnapshotInterval">SnapshotInterval</a><ul class="subs"><li>= <a href="#v:DefaultSnapshotInterval">DefaultSnapshotInterval</a></li><li>| <a href="#v:RequestedSnapshotInterval">RequestedSnapshotInterval</a> <a href="Ouroboros-Consensus-Util-IOLike.html#t:DiffTime" title="Ouroboros.Consensus.Util.IOLike">DiffTime</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:TimeSinceLast">TimeSinceLast</a> time<ul class="subs"><li>= <a href="#v:NoSnapshotTakenYet">NoSnapshotTakenYet</a></li><li>| <a href="#v:TimeSinceLast">TimeSinceLast</a> time</li></ul></li><li class="src short"><a href="#v:defaultDiskPolicy">defaultDiskPolicy</a> :: <a href="Ouroboros-Consensus-Config-SecurityParam.html#t:SecurityParam" title="Ouroboros.Consensus.Config.SecurityParam">SecurityParam</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">SnapshotInterval</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:DiskPolicy" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">DiskPolicy</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:DiskPolicy" class="def">DiskPolicy</a> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy.html#DiskPolicy" class="link">Source</a> <a href="#t:DiskPolicy" class="selflink">#</a></p><div class="doc"><p>On-disk policy</p><p>We only write ledger states that are older than <code>k</code> blocks to disk (that is,
 snapshots that are guaranteed valid). The on-disk policy determines how often
 we write to disk and how many checkpoints we keep.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DiskPolicy" class="def">DiskPolicy</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:onDiskNumSnapshots" class="def">onDiskNumSnapshots</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word" title="Data.Word">Word</a></dfn><div class="doc"><p>How many snapshots do we want to keep on disk?</p><p>A higher number of on-disk snapshots is primarily a safe-guard against
 disk corruption: it trades disk space for reliability.</p><p>Examples:</p><ul><li><code>0</code>: Delete the snapshot immediately after writing.
        Probably not a useful value :-D</li><li><code>1</code>: Delete the previous snapshot immediately after writing the next
        Dangerous policy: if for some reason the deletion happens before
        the new snapshot is written entirely to disk (we don't <code>fsync</code>),
        we have no choice but to start at the genesis snapshot on the
        next startup.</li><li><code>2</code>: Always keep 2 snapshots around. This means that when we write
        the next snapshot, we delete the oldest one, leaving the middle
        one available in case of truncation of the write. This is
        probably a sane value in most circumstances.</li></ul></div></li><li><dfn class="src"><a id="v:onDiskShouldTakeSnapshot" class="def">onDiskShouldTakeSnapshot</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:TimeSinceLast" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">TimeSinceLast</a> <a href="Ouroboros-Consensus-Util-IOLike.html#t:DiffTime" title="Ouroboros.Consensus.Util.IOLike">DiffTime</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc"><p>Should we write a snapshot of the ledger state to disk?</p><p>This function is passed two bits of information:</p><ul><li>The time since the last snapshot, or <code><a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#v:NoSnapshotTakenYet" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">NoSnapshotTakenYet</a></code> if none was taken yet.
   Note that <code><a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#v:NoSnapshotTakenYet" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">NoSnapshotTakenYet</a></code> merely means no snapshot had been taking yet
   since the node was started; it does not necessarily mean that none
   exist on disk.</li><li>The distance in terms of blocks applied to the <em>oldest</em> ledger
   snapshot in memory. During normal operation, this is the number of
   blocks written to the ImmutableDB since the last snapshot. On
   startup, it is computed by counting how many immutable blocks we had
   to reapply to get to the chain tip. This is useful, as it allows the
   policy to decide to take a snapshot <em>on node startup</em> if a lot of
   blocks had to be replayed.</li></ul><p>See also <code><a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#v:defaultDiskPolicy" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">defaultDiskPolicy</a></code></p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:DiskPolicy">Instances</h4><details id="i:DiskPolicy" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DiskPolicy:NoThunks:1"></span> <a href="Ouroboros-Consensus-Util-IOLike.html#t:NoThunks" title="Ouroboros.Consensus.Util.IOLike">NoThunks</a> <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:DiskPolicy" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">DiskPolicy</a></span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy.html#line-80" class="link">Source</a> <a href="#t:DiskPolicy" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DiskPolicy:NoThunks:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html">Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:noThunks">noThunks</a> :: Context -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:DiskPolicy" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">DiskPolicy</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> ThunkInfo) <a href="#v:noThunks" class="selflink">#</a></p><p class="src"><a href="#v:wNoThunks">wNoThunks</a> :: Context -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:DiskPolicy" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">DiskPolicy</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> ThunkInfo) <a href="#v:wNoThunks" class="selflink">#</a></p><p class="src"><a href="#v:showTypeOf">showTypeOf</a> :: <a href="Ouroboros-Consensus-Util-DepPair.html#t:Proxy" title="Ouroboros.Consensus.Util.DepPair">Proxy</a> <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:DiskPolicy" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">DiskPolicy</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:showTypeOf" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SnapshotInterval" class="def">SnapshotInterval</a> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy.html#SnapshotInterval" class="link">Source</a> <a href="#t:SnapshotInterval" class="selflink">#</a></p><div class="doc"><p>Length of time, requested by the user, that has to pass after which
 a snapshot is taken. It can be:</p><ol><li value="1">either explicitly provided by user in seconds</li><li value="2">or default value can be requested - the specific DiskPolicy determines
    what that is exactly, see <code><a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#v:defaultDiskPolicy" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">defaultDiskPolicy</a></code> as an example</li></ol></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DefaultSnapshotInterval" class="def">DefaultSnapshotInterval</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:RequestedSnapshotInterval" class="def">RequestedSnapshotInterval</a> <a href="Ouroboros-Consensus-Util-IOLike.html#t:DiffTime" title="Ouroboros.Consensus.Util.IOLike">DiffTime</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:SnapshotInterval">Instances</h4><details id="i:SnapshotInterval" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SnapshotInterval:Generic:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">SnapshotInterval</a></span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy.html#line-32" class="link">Source</a> <a href="#t:SnapshotInterval" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SnapshotInterval:Generic:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html">Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">SnapshotInterval</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">SnapshotInterval</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">SnapshotInterval</a> x <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">SnapshotInterval</a> x -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">SnapshotInterval</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SnapshotInterval:Show:2"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">SnapshotInterval</a></span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy.html#line-32" class="link">Source</a> <a href="#t:SnapshotInterval" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SnapshotInterval:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html">Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">SnapshotInterval</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">SnapshotInterval</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">SnapshotInterval</a>] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SnapshotInterval:Eq:3"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">SnapshotInterval</a></span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy.html#line-32" class="link">Source</a> <a href="#t:SnapshotInterval" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SnapshotInterval:Eq:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html">Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">SnapshotInterval</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">SnapshotInterval</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">SnapshotInterval</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">SnapshotInterval</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SnapshotInterval:Rep:4"></span> <span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">SnapshotInterval</a></span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy.html#line-32" class="link">Source</a> <a href="#t:SnapshotInterval" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SnapshotInterval:Rep:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html">Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">SnapshotInterval</a> = <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;SnapshotInterval&quot; &quot;Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy&quot; &quot;ouroboros-consensus-0.15.0.0-EdxEyzxfPtfJdIQHjsKbnf&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;DefaultSnapshotInterval&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:U1" title="GHC.Generics">U1</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t::-43-:" title="GHC.Generics">:+:</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;RequestedSnapshotInterval&quot; '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> <a href="Ouroboros-Consensus-Util-IOLike.html#t:DiffTime" title="Ouroboros.Consensus.Util.IOLike">DiffTime</a>)))</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TimeSinceLast" class="def">TimeSinceLast</a> time <a href="src/Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy.html#TimeSinceLast" class="link">Source</a> <a href="#t:TimeSinceLast" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NoSnapshotTakenYet" class="def">NoSnapshotTakenYet</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TimeSinceLast" class="def">TimeSinceLast</a> time</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:TimeSinceLast">Instances</h4><details id="i:TimeSinceLast" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TimeSinceLast:Functor:1"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:TimeSinceLast" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">TimeSinceLast</a></span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy.html#line-83" class="link">Source</a> <a href="#t:TimeSinceLast" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TimeSinceLast:Functor:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html">Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:TimeSinceLast" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">TimeSinceLast</a> a -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:TimeSinceLast" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">TimeSinceLast</a> b <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:TimeSinceLast" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">TimeSinceLast</a> b -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:TimeSinceLast" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">TimeSinceLast</a> a <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TimeSinceLast:Show:2"></span> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> time =&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:TimeSinceLast" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">TimeSinceLast</a> time)</span> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy.html#line-83" class="link">Source</a> <a href="#t:TimeSinceLast" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TimeSinceLast:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html">Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:TimeSinceLast" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">TimeSinceLast</a> time -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:TimeSinceLast" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">TimeSinceLast</a> time -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:TimeSinceLast" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">TimeSinceLast</a> time] -&gt; <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:defaultDiskPolicy" class="def">defaultDiskPolicy</a> :: <a href="Ouroboros-Consensus-Config-SecurityParam.html#t:SecurityParam" title="Ouroboros.Consensus.Config.SecurityParam">SecurityParam</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:SnapshotInterval" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">SnapshotInterval</a> -&gt; <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:DiskPolicy" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">DiskPolicy</a> <a href="src/Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy.html#defaultDiskPolicy" class="link">Source</a> <a href="#v:defaultDiskPolicy" class="selflink">#</a></p><div class="doc"><p>Default on-disk policy suitable to use with cardano-node</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.1</p></div></body></html>