<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE RecursiveDo  #-}</span><span>
</span><span id="line-2"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Reactive.Threepenny</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-3"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Synopsis</span></span><span>
</span><span id="line-4"></span><span>    </span><span class="annot"><span class="hs-comment">-- | Functional reactive programming.</span></span><span>
</span><span id="line-5"></span><span>
</span><span id="line-6"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Types</span></span><span>
</span><span id="line-7"></span><span>    </span><span class="annot"><span class="hs-comment">-- $intro</span></span><span>
</span><span id="line-8"></span><span>    </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier">Event</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Behavior"><span class="hs-identifier">Behavior</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span>    </span><span class="annot"><span class="hs-comment">-- * IO</span></span><span>
</span><span id="line-11"></span><span>    </span><span class="annot"><span class="hs-comment">-- | Functions to connect events to the outside world.</span></span><span>
</span><span id="line-12"></span><span>    </span><span class="annot"><a href="Reactive.Threepenny.html#Handler"><span class="hs-identifier">Handler</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#newEvent"><span class="hs-identifier">newEvent</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#register"><span class="hs-identifier">register</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>    </span><span class="annot"><a href="Reactive.Threepenny.html#currentValue"><span class="hs-identifier">currentValue</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Core Combinators</span></span><span>
</span><span id="line-16"></span><span>    </span><span class="annot"><span class="hs-comment">-- | Minimal set of combinators for programming with 'Event' and 'Behavior'.</span></span><span>
</span><span id="line-17"></span><span>    </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Applicative.html"><span class="hs-identifier">Control.Applicative</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>    </span><span class="annot"><a href="Reactive.Threepenny.html#never"><span class="hs-identifier">never</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#filterJust"><span class="hs-identifier">filterJust</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#unionWith"><span class="hs-identifier">unionWith</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><a href="Reactive.Threepenny.html#accumE"><span class="hs-identifier">accumE</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#apply"><span class="hs-identifier">apply</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#stepper"><span class="hs-identifier">stepper</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>    </span><span class="annot"><span class="hs-comment">-- $classes</span></span><span>
</span><span id="line-21"></span><span>
</span><span id="line-22"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Derived Combinators</span></span><span>
</span><span id="line-23"></span><span>    </span><span class="hs-comment">-- | Additional combinators that make programming</span><span>
</span><span id="line-24"></span><span>    </span><span class="hs-comment">-- with 'Event' and 'Behavior' convenient.</span><span>
</span><span id="line-25"></span><span>    </span><span class="hs-comment">-- ** Application</span><span>
</span><span id="line-26"></span><span>    </span><span class="annot"><a href="Reactive.Threepenny.html#%3C%40%3E"><span class="hs-operator">(&lt;@&gt;)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#%3C%40"><span class="hs-operator">(&lt;@)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Filtering</span></span><span>
</span><span id="line-28"></span><span>    </span><span class="annot"><a href="Reactive.Threepenny.html#filterE"><span class="hs-identifier">filterE</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#filterApply"><span class="hs-identifier">filterApply</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#whenE"><span class="hs-identifier">whenE</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#split"><span class="hs-identifier">split</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Union</span></span><span>
</span><span id="line-30"></span><span>    </span><span class="annot"><a href="Reactive.Threepenny.html#unions"><span class="hs-identifier">unions</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#concatenate"><span class="hs-identifier">concatenate</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Accumulation</span></span><span>
</span><span id="line-32"></span><span>    </span><span class="annot"><span class="hs-comment">-- $accumulation</span></span><span>
</span><span id="line-33"></span><span>    </span><span class="annot"><a href="Reactive.Threepenny.html#accumB"><span class="hs-identifier">accumB</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#mapAccum"><span class="hs-identifier">mapAccum</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Additional Notes</span></span><span>
</span><span id="line-36"></span><span>    </span><span class="annot"><span class="hs-comment">-- $recursion</span></span><span>
</span><span id="line-37"></span><span>
</span><span id="line-38"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Tidings</span></span><span>
</span><span id="line-39"></span><span>    </span><span class="annot"><a href="Reactive.Threepenny.html#Tidings"><span class="hs-identifier">Tidings</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#tidings"><span class="hs-identifier">tidings</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#facts"><span class="hs-identifier">facts</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#rumors"><span class="hs-identifier">rumors</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>
</span><span id="line-41"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Internal</span></span><span>
</span><span id="line-42"></span><span>    </span><span class="hs-comment">-- | Functions reserved for special circumstances.</span><span>
</span><span id="line-43"></span><span>    </span><span class="hs-comment">-- Do not use unless you know what you're doing.</span><span>
</span><span id="line-44"></span><span>    </span><span class="annot"><a href="Reactive.Threepenny.html#onChange"><span class="hs-identifier">onChange</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#unsafeMapIO"><span class="hs-identifier">unsafeMapIO</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#newEventsNamed"><span class="hs-identifier">newEventsNamed</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-46"></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Applicative.html"><span class="hs-identifier">Control.Applicative</span></a></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.html"><span class="hs-identifier">Control.Monad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#void"><span class="hs-identifier">void</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html"><span class="hs-identifier">Control.Monad.IO.Class</span></a></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.IORef.html"><span class="hs-identifier">Data.IORef</span></a></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/src/Data.Map.html"><span class="hs-identifier">Data.Map</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Reactive.Threepenny.Memo.html"><span class="hs-identifier">Reactive.Threepenny.Memo</span></a></span><span>       </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Memo</span></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Reactive.Threepenny.PulseLatch.html"><span class="hs-identifier">Reactive.Threepenny.PulseLatch</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Prim</span></span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="hs-keyword">type</span><span> </span><span id="Pulse"><span class="annot"><a href="Reactive.Threepenny.html#Pulse"><span class="hs-identifier hs-var">Pulse</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Reactive.Threepenny.Types.html#Pulse"><span class="hs-identifier hs-type">Prim.Pulse</span></a></span><span>
</span><span id="line-57"></span><span class="hs-keyword">type</span><span> </span><span id="Latch"><span class="annot"><a href="Reactive.Threepenny.html#Latch"><span class="hs-identifier hs-var">Latch</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Reactive.Threepenny.Types.html#Latch"><span class="hs-identifier hs-type">Prim.Latch</span></a></span><span>
</span><span id="line-58"></span><span class="hs-keyword">type</span><span> </span><span id="Map"><span class="annot"><a href="Reactive.Threepenny.html#Map"><span class="hs-identifier hs-var">Map</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">Map.Map</span></a></span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span class="hs-comment">{-----------------------------------------------------------------------------
    Types
------------------------------------------------------------------------------}</span><span>
</span><span id="line-63"></span><span class="annot"><span class="hs-comment">{- $intro

At its core, Functional Reactive Programming (FRP) is about two
data types 'Event' and 'Behavior' and the various ways to combine them.

-}</span></span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span class="annot"><span class="hs-comment">{-| @Event a@ represents a stream of events as they occur in time.
Semantically, you can think of @Event a@ as an infinite list of values
that are tagged with their corresponding time of occurence,

&gt; type Event a = [(Time,a)]
-}</span></span><span>
</span><span id="line-76"></span><span class="hs-keyword">newtype</span><span> </span><span id="Event"><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-var">Event</span></a></span></span><span>    </span><span id="local-6989586621679115283"><span class="annot"><a href="#local-6989586621679115283"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="E"><span class="annot"><a href="Reactive.Threepenny.html#E"><span class="hs-identifier hs-var">E</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unE"><span class="annot"><span class="annottext">forall a. Event a -&gt; Memo (Pulse a)
</span><a href="Reactive.Threepenny.html#unE"><span class="hs-identifier hs-var hs-var">unE</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Reactive.Threepenny.Memo.html#Memo"><span class="hs-identifier hs-type">Memo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Reactive.Threepenny.html#Pulse"><span class="hs-identifier hs-type">Pulse</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115283"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span class="annot"><span class="hs-comment">{-| @Behavior a@ represents a value that varies in time. Think of it as

&gt; type Behavior a = Time -&gt; a
-}</span></span><span>
</span><span id="line-82"></span><span class="hs-keyword">data</span><span>    </span><span id="Behavior"><span class="annot"><a href="Reactive.Threepenny.html#Behavior"><span class="hs-identifier hs-var">Behavior</span></a></span></span><span> </span><span id="local-6989586621679115287"><span class="annot"><a href="#local-6989586621679115287"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="B"><span class="annot"><a href="Reactive.Threepenny.html#B"><span class="hs-identifier hs-var">B</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="latch"><span class="annot"><span class="annottext">forall a. Behavior a -&gt; Latch a
</span><a href="Reactive.Threepenny.html#latch"><span class="hs-identifier hs-var hs-var">latch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Latch"><span class="hs-identifier hs-type">Latch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115287"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span id="changes"><span class="annot"><span class="annottext">forall a. Behavior a -&gt; Event ()
</span><a href="Reactive.Threepenny.html#changes"><span class="hs-identifier hs-var hs-var">changes</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span class="hs-comment">{-----------------------------------------------------------------------------
    IO
------------------------------------------------------------------------------}</span><span>
</span><span id="line-87"></span><span class="hs-comment">-- | An /event handler/ is a function that takes an</span><span>
</span><span id="line-88"></span><span class="hs-comment">-- /event value/ and performs some computation.</span><span>
</span><span id="line-89"></span><span class="hs-keyword">type</span><span> </span><span id="Handler"><span class="annot"><a href="Reactive.Threepenny.html#Handler"><span class="hs-identifier hs-var">Handler</span></a></span></span><span> </span><span id="local-6989586621679115545"><span class="annot"><a href="#local-6989586621679115545"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679115545"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span class="hs-comment">-- | Create a new event.</span><span>
</span><span id="line-92"></span><span class="hs-comment">-- Also returns a function that triggers an event occurrence.</span><span>
</span><span id="line-93"></span><span id="local-6989586621679115291"><span class="annot"><a href="Reactive.Threepenny.html#newEvent"><span class="hs-identifier hs-type">newEvent</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115291"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Handler"><span class="hs-identifier hs-type">Handler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115291"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-94"></span><span id="newEvent"><span class="annot"><span class="annottext">newEvent :: forall a. IO (Event a, Handler a)
</span><a href="Reactive.Threepenny.html#newEvent"><span class="hs-identifier hs-var hs-var">newEvent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-95"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679115548"><span class="annot"><span class="annottext">Pulse a
</span><a href="#local-6989586621679115548"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679115549"><span class="annot"><span class="annottext">Handler a
</span><a href="#local-6989586621679115549"><span class="hs-identifier hs-var">fire</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Build (Pulse a, Handler a)
forall a. Build (Pulse a, a -&gt; IO ())
</span><a href="Reactive.Threepenny.PulseLatch.html#newPulse"><span class="hs-identifier hs-var">Prim.newPulse</span></a></span><span>
</span><span id="line-96"></span><span>    </span><span class="annot"><span class="annottext">(Event a, Handler a) -&gt; IO (Event a, Handler a)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Memo (Pulse a) -&gt; Event a
forall a. Memo (Pulse a) -&gt; Event a
</span><a href="Reactive.Threepenny.html#E"><span class="hs-identifier hs-var">E</span></a></span><span> </span><span class="annot"><span class="annottext">(Memo (Pulse a) -&gt; Event a) -&gt; Memo (Pulse a) -&gt; Event a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Pulse a -&gt; Memo (Pulse a)
forall {a}. a -&gt; Memo a
</span><a href="Reactive.Threepenny.Memo.html#fromPure"><span class="hs-identifier hs-var">fromPure</span></a></span><span> </span><span class="annot"><span class="annottext">Pulse a
</span><a href="#local-6989586621679115548"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Handler a
</span><a href="#local-6989586621679115549"><span class="hs-identifier hs-var">fire</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span class="hs-comment">-- | Create a series of events with delayed initialization.</span><span>
</span><span id="line-100"></span><span class="hs-comment">--</span><span>
</span><span id="line-101"></span><span class="hs-comment">-- For each name, the initialization handler will be called</span><span>
</span><span id="line-102"></span><span class="hs-comment">-- exactly once when the event is first &quot;brought to life&quot;,</span><span>
</span><span id="line-103"></span><span class="hs-comment">-- e.g. when an event handler is registered to it.</span><span>
</span><span id="line-104"></span><span id="local-6989586621679115303"><span id="local-6989586621679115304"><span class="annot"><a href="Reactive.Threepenny.html#newEventsNamed"><span class="hs-identifier hs-type">newEventsNamed</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115303"><span class="hs-identifier hs-type">name</span></a></span><span>
</span><span id="line-105"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Handler"><span class="hs-identifier hs-type">Handler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679115303"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115304"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Handler"><span class="hs-identifier hs-type">Handler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115304"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Initialization procedure.</span></span><span>
</span><span id="line-106"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679115303"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115304"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>                 </span><span class="annot"><span class="hs-comment">-- ^ Series of events.</span></span><span>
</span><span id="line-107"></span><span id="newEventsNamed"><span class="annot"><span class="annottext">newEventsNamed :: forall name a.
Ord name =&gt;
Handler (name, Event a, Handler a) -&gt; IO (name -&gt; Event a)
</span><a href="Reactive.Threepenny.html#newEventsNamed"><span class="hs-identifier hs-var hs-var">newEventsNamed</span></a></span></span><span> </span><span id="local-6989586621679115563"><span class="annot"><span class="annottext">Handler (name, Event a, Handler a)
</span><a href="#local-6989586621679115563"><span class="hs-identifier hs-var">init</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-108"></span><span>    </span><span id="local-6989586621679115564"><span class="annot"><span class="annottext">IORef (Map name (Pulse a))
</span><a href="#local-6989586621679115564"><span class="hs-identifier hs-var">eventsRef</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Map name (Pulse a) -&gt; IO (IORef (Map name (Pulse a)))
forall a. a -&gt; IO (IORef a)
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IORef.html#newIORef"><span class="hs-identifier hs-var">newIORef</span></a></span><span> </span><span class="annot"><span class="annottext">Map name (Pulse a)
forall k a. Map k a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#empty"><span class="hs-identifier hs-var">Map.empty</span></a></span><span>
</span><span id="line-109"></span><span>    </span><span class="annot"><span class="annottext">(name -&gt; Event a) -&gt; IO (name -&gt; Event a)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">((name -&gt; Event a) -&gt; IO (name -&gt; Event a))
-&gt; (name -&gt; Event a) -&gt; IO (name -&gt; Event a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679115567"><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621679115567"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Memo (Pulse a) -&gt; Event a
forall a. Memo (Pulse a) -&gt; Event a
</span><a href="Reactive.Threepenny.html#E"><span class="hs-identifier hs-var">E</span></a></span><span> </span><span class="annot"><span class="annottext">(Memo (Pulse a) -&gt; Event a) -&gt; Memo (Pulse a) -&gt; Event a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Pulse a) -&gt; Memo (Pulse a)
forall a. IO a -&gt; Memo a
</span><a href="Reactive.Threepenny.Memo.html#memoize"><span class="hs-identifier hs-var">memoize</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Pulse a) -&gt; Memo (Pulse a)) -&gt; IO (Pulse a) -&gt; Memo (Pulse a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-110"></span><span>        </span><span id="local-6989586621679115569"><span class="annot"><span class="annottext">Map name (Pulse a)
</span><a href="#local-6989586621679115569"><span class="hs-identifier hs-var">events</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IORef (Map name (Pulse a)) -&gt; IO (Map name (Pulse a))
forall a. IORef a -&gt; IO a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IORef.html#readIORef"><span class="hs-identifier hs-var">readIORef</span></a></span><span> </span><span class="annot"><span class="annottext">IORef (Map name (Pulse a))
</span><a href="#local-6989586621679115564"><span class="hs-identifier hs-var">eventsRef</span></a></span><span>
</span><span id="line-111"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">name -&gt; Map name (Pulse a) -&gt; Maybe (Pulse a)
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">Map.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621679115567"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Map name (Pulse a)
</span><a href="#local-6989586621679115569"><span class="hs-identifier hs-var">events</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-112"></span><span>            </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679115572"><span class="annot"><span class="annottext">Pulse a
</span><a href="#local-6989586621679115572"><span class="hs-identifier hs-var">p</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pulse a -&gt; IO (Pulse a)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Pulse a
</span><a href="#local-6989586621679115572"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-113"></span><span>            </span><span class="annot"><span class="annottext">Maybe (Pulse a)
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-114"></span><span>                </span><span class="hs-special">(</span><span id="local-6989586621679115573"><span class="annot"><span class="annottext">Pulse a
</span><a href="#local-6989586621679115573"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679115574"><span class="annot"><span class="annottext">Handler a
</span><a href="#local-6989586621679115574"><span class="hs-identifier hs-var">fire</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Build (Pulse a, Handler a)
forall a. Build (Pulse a, a -&gt; IO ())
</span><a href="Reactive.Threepenny.PulseLatch.html#newPulse"><span class="hs-identifier hs-var">Prim.newPulse</span></a></span><span>
</span><span id="line-115"></span><span>                </span><span class="annot"><span class="annottext">IORef (Map name (Pulse a)) -&gt; Map name (Pulse a) -&gt; IO ()
forall a. IORef a -&gt; a -&gt; IO ()
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IORef.html#writeIORef"><span class="hs-identifier hs-var">writeIORef</span></a></span><span> </span><span class="annot"><span class="annottext">IORef (Map name (Pulse a))
</span><a href="#local-6989586621679115564"><span class="hs-identifier hs-var">eventsRef</span></a></span><span> </span><span class="annot"><span class="annottext">(Map name (Pulse a) -&gt; IO ()) -&gt; Map name (Pulse a) -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">name -&gt; Pulse a -&gt; Map name (Pulse a) -&gt; Map name (Pulse a)
forall k a. Ord k =&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#insert"><span class="hs-identifier hs-var">Map.insert</span></a></span><span> </span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621679115567"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Pulse a
</span><a href="#local-6989586621679115573"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Map name (Pulse a)
</span><a href="#local-6989586621679115569"><span class="hs-identifier hs-var">events</span></a></span><span>
</span><span id="line-116"></span><span>                </span><span class="annot"><span class="annottext">Handler (name, Event a, Handler a)
</span><a href="#local-6989586621679115563"><span class="hs-identifier hs-var">init</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621679115567"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Memo (Pulse a) -&gt; Event a
forall a. Memo (Pulse a) -&gt; Event a
</span><a href="Reactive.Threepenny.html#E"><span class="hs-identifier hs-var">E</span></a></span><span> </span><span class="annot"><span class="annottext">(Memo (Pulse a) -&gt; Event a) -&gt; Memo (Pulse a) -&gt; Event a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Pulse a -&gt; Memo (Pulse a)
forall {a}. a -&gt; Memo a
</span><a href="Reactive.Threepenny.Memo.html#fromPure"><span class="hs-identifier hs-var">fromPure</span></a></span><span> </span><span class="annot"><span class="annottext">Pulse a
</span><a href="#local-6989586621679115573"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Handler a
</span><a href="#local-6989586621679115574"><span class="hs-identifier hs-var">fire</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span>                </span><span class="annot"><span class="annottext">Pulse a -&gt; IO (Pulse a)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Pulse a
</span><a href="#local-6989586621679115573"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span class="hs-comment">-- | Register an event 'Handler' for an 'Event'.</span><span>
</span><span id="line-121"></span><span class="hs-comment">-- All registered handlers will be called whenever the event occurs.</span><span>
</span><span id="line-122"></span><span class="hs-comment">--</span><span>
</span><span id="line-123"></span><span class="hs-comment">-- When registering an event handler, you will also be given an action</span><span>
</span><span id="line-124"></span><span class="hs-comment">-- that unregisters this handler again.</span><span>
</span><span id="line-125"></span><span class="hs-comment">--</span><span>
</span><span id="line-126"></span><span class="hs-comment">-- &gt; do unregisterMyHandler &lt;- register event myHandler</span><span>
</span><span id="line-127"></span><span class="hs-comment">--</span><span>
</span><span id="line-128"></span><span class="hs-comment">-- FIXME: Unregistering event handlers does not work yet.</span><span>
</span><span id="line-129"></span><span id="local-6989586621679115319"><span class="annot"><a href="Reactive.Threepenny.html#register"><span class="hs-identifier hs-type">register</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115319"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Handler"><span class="hs-identifier hs-type">Handler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115319"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-130"></span><span id="register"><span class="annot"><span class="annottext">register :: forall a. Event a -&gt; Handler a -&gt; IO (IO ())
</span><a href="Reactive.Threepenny.html#register"><span class="hs-identifier hs-var hs-var">register</span></a></span></span><span> </span><span id="local-6989586621679115578"><span class="annot"><span class="annottext">Event a
</span><a href="#local-6989586621679115578"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621679115579"><span class="annot"><span class="annottext">Handler a
</span><a href="#local-6989586621679115579"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-131"></span><span>    </span><span id="local-6989586621679115580"><span class="annot"><span class="annottext">Pulse a
</span><a href="#local-6989586621679115580"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Memo (Pulse a) -&gt; IO (Pulse a)
forall a. Memo a -&gt; IO a
</span><a href="Reactive.Threepenny.Memo.html#at"><span class="hs-identifier hs-var">at</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Event a -&gt; Memo (Pulse a)
forall a. Event a -&gt; Memo (Pulse a)
</span><a href="Reactive.Threepenny.html#unE"><span class="hs-identifier hs-var">unE</span></a></span><span> </span><span class="annot"><span class="annottext">Event a
</span><a href="#local-6989586621679115578"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>     </span><span class="hs-comment">-- evaluate the memoized action</span><span>
</span><span id="line-132"></span><span>    </span><span class="annot"><span class="annottext">Pulse a -&gt; Handler a -&gt; IO (IO ())
forall a. Pulse a -&gt; (a -&gt; IO ()) -&gt; IO (IO ())
</span><a href="Reactive.Threepenny.PulseLatch.html#addHandler"><span class="hs-identifier hs-var">Prim.addHandler</span></a></span><span> </span><span class="annot"><span class="annottext">Pulse a
</span><a href="#local-6989586621679115580"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Handler a
</span><a href="#local-6989586621679115579"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span class="hs-comment">-- | Register an event 'Handler' for a 'Behavior'.</span><span>
</span><span id="line-135"></span><span class="hs-comment">-- All registered handlers will be called whenever the behavior changes.</span><span>
</span><span id="line-136"></span><span class="hs-comment">--</span><span>
</span><span id="line-137"></span><span class="hs-comment">-- However, note that this is only an approximation,</span><span>
</span><span id="line-138"></span><span class="hs-comment">-- as behaviors may change continuously.</span><span>
</span><span id="line-139"></span><span class="hs-comment">-- Consequently, handlers should be idempotent.</span><span>
</span><span id="line-140"></span><span id="local-6989586621679115323"><span class="annot"><a href="Reactive.Threepenny.html#onChange"><span class="hs-identifier hs-type">onChange</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Behavior"><span class="hs-identifier hs-type">Behavior</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115323"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Handler"><span class="hs-identifier hs-type">Handler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115323"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-141"></span><span id="onChange"><span class="annot"><span class="annottext">onChange :: forall a. Behavior a -&gt; Handler a -&gt; IO ()
</span><a href="Reactive.Threepenny.html#onChange"><span class="hs-identifier hs-var hs-var">onChange</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Reactive.Threepenny.html#B"><span class="hs-identifier hs-type">B</span></a></span><span> </span><span id="local-6989586621679115586"><span class="annot"><span class="annottext">Latch a
</span><a href="#local-6989586621679115586"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679115587"><span class="annot"><span class="annottext">Event ()
</span><a href="#local-6989586621679115587"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679115588"><span class="annot"><span class="annottext">Handler a
</span><a href="#local-6989586621679115588"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO (IO ()) -&gt; IO ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#void"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (IO ()) -&gt; IO ()) -&gt; IO (IO ()) -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-142"></span><span>    </span><span class="hs-comment">-- This works because latches are updated before the handlers are being called.</span><span>
</span><span id="line-143"></span><span>    </span><span class="annot"><span class="annottext">Event () -&gt; Handler () -&gt; IO (IO ())
forall a. Event a -&gt; Handler a -&gt; IO (IO ())
</span><a href="Reactive.Threepenny.html#register"><span class="hs-identifier hs-var">register</span></a></span><span> </span><span class="annot"><span class="annottext">Event ()
</span><a href="#local-6989586621679115587"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Handler a
</span><a href="#local-6989586621679115588"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">Handler a -&gt; IO a -&gt; IO ()
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Latch a -&gt; IO a
forall a. Latch a -&gt; Build a
</span><a href="Reactive.Threepenny.PulseLatch.html#readLatch"><span class="hs-identifier hs-var">Prim.readLatch</span></a></span><span> </span><span class="annot"><span class="annottext">Latch a
</span><a href="#local-6989586621679115586"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-144"></span><span>
</span><span id="line-145"></span><span class="annot"><span class="hs-comment">-- | Read the current value of a 'Behavior'.</span></span><span>
</span><span id="line-146"></span><span id="local-6989586621679115332"><span id="local-6989586621679115333"><span class="annot"><a href="Reactive.Threepenny.html#currentValue"><span class="hs-identifier hs-type">currentValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#MonadIO"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115332"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Behavior"><span class="hs-identifier hs-type">Behavior</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115333"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679115332"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115333"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-147"></span><span id="currentValue"><span class="annot"><span class="annottext">currentValue :: forall (m :: * -&gt; *) a. MonadIO m =&gt; Behavior a -&gt; m a
</span><a href="Reactive.Threepenny.html#currentValue"><span class="hs-identifier hs-var hs-var">currentValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Reactive.Threepenny.html#B"><span class="hs-identifier hs-type">B</span></a></span><span> </span><span id="local-6989586621679115593"><span class="annot"><span class="annottext">Latch a
</span><a href="#local-6989586621679115593"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Event ()
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO a -&gt; m a
forall a. IO a -&gt; m a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO a -&gt; m a) -&gt; IO a -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Latch a -&gt; IO a
forall a. Latch a -&gt; Build a
</span><a href="Reactive.Threepenny.PulseLatch.html#readLatch"><span class="hs-identifier hs-var">Prim.readLatch</span></a></span><span> </span><span class="annot"><span class="annottext">Latch a
</span><a href="#local-6989586621679115593"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span class="hs-comment">{-----------------------------------------------------------------------------
    Core Combinators
------------------------------------------------------------------------------}</span><span>
</span><span id="line-153"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679115597"><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#Functor"><span class="hs-identifier hs-type">Functor</span></a></span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-154"></span><span>    </span><span id="local-6989586621679115600"><span class="annot"><span class="annottext">fmap :: forall a b. (a -&gt; b) -&gt; Event a -&gt; Event b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></a></span></span><span> </span><span id="local-6989586621679115601"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679115601"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679115602"><span class="annot"><span class="annottext">Event a
</span><a href="#local-6989586621679115602"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Memo (Pulse b) -&gt; Event b
forall a. Memo (Pulse a) -&gt; Event a
</span><a href="Reactive.Threepenny.html#E"><span class="hs-identifier hs-var">E</span></a></span><span> </span><span class="annot"><span class="annottext">(Memo (Pulse b) -&gt; Event b) -&gt; Memo (Pulse b) -&gt; Event b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Pulse a -&gt; IO (Pulse b)) -&gt; Memo (Pulse a) -&gt; Memo (Pulse b)
forall a b. (a -&gt; IO b) -&gt; Memo a -&gt; Memo b
</span><a href="Reactive.Threepenny.Memo.html#liftMemo1"><span class="hs-identifier hs-var">liftMemo1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; Pulse a -&gt; IO (Pulse b)
forall a b. (a -&gt; b) -&gt; Pulse a -&gt; Build (Pulse b)
</span><a href="Reactive.Threepenny.PulseLatch.html#mapP"><span class="hs-identifier hs-var">Prim.mapP</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679115601"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Event a -&gt; Memo (Pulse a)
forall a. Event a -&gt; Memo (Pulse a)
</span><a href="Reactive.Threepenny.html#unE"><span class="hs-identifier hs-var">unE</span></a></span><span> </span><span class="annot"><span class="annottext">Event a
</span><a href="#local-6989586621679115602"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span id="local-6989586621679115349"><span id="local-6989586621679115350"><span class="annot"><a href="Reactive.Threepenny.html#unsafeMapIO"><span class="hs-identifier hs-type">unsafeMapIO</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679115349"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115350"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115349"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115350"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-157"></span><span id="unsafeMapIO"><span class="annot"><span class="annottext">unsafeMapIO :: forall a b. (a -&gt; IO b) -&gt; Event a -&gt; Event b
</span><a href="Reactive.Threepenny.html#unsafeMapIO"><span class="hs-identifier hs-var hs-var">unsafeMapIO</span></a></span></span><span> </span><span id="local-6989586621679115605"><span class="annot"><span class="annottext">a -&gt; IO b
</span><a href="#local-6989586621679115605"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679115606"><span class="annot"><span class="annottext">Event a
</span><a href="#local-6989586621679115606"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Memo (Pulse b) -&gt; Event b
forall a. Memo (Pulse a) -&gt; Event a
</span><a href="Reactive.Threepenny.html#E"><span class="hs-identifier hs-var">E</span></a></span><span> </span><span class="annot"><span class="annottext">(Memo (Pulse b) -&gt; Event b) -&gt; Memo (Pulse b) -&gt; Event b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Pulse a -&gt; IO (Pulse b)) -&gt; Memo (Pulse a) -&gt; Memo (Pulse b)
forall a b. (a -&gt; IO b) -&gt; Memo a -&gt; Memo b
</span><a href="Reactive.Threepenny.Memo.html#liftMemo1"><span class="hs-identifier hs-var">liftMemo1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; IO b) -&gt; Pulse a -&gt; IO (Pulse b)
forall a b. (a -&gt; IO b) -&gt; Pulse a -&gt; Build (Pulse b)
</span><a href="Reactive.Threepenny.PulseLatch.html#unsafeMapIOP"><span class="hs-identifier hs-var">Prim.unsafeMapIOP</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; IO b
</span><a href="#local-6989586621679115605"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Event a -&gt; Memo (Pulse a)
forall a. Event a -&gt; Memo (Pulse a)
</span><a href="Reactive.Threepenny.html#unE"><span class="hs-identifier hs-var">unE</span></a></span><span> </span><span class="annot"><span class="annottext">Event a
</span><a href="#local-6989586621679115606"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span class="hs-comment">-- | Event that never occurs.</span><span>
</span><span id="line-160"></span><span class="hs-comment">-- Think of it as @never = []@.</span><span>
</span><span id="line-161"></span><span id="local-6989586621679115355"><span class="annot"><a href="Reactive.Threepenny.html#never"><span class="hs-identifier hs-type">never</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115355"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-162"></span><span id="never"><span class="annot"><span class="annottext">never :: forall a. Event a
</span><a href="Reactive.Threepenny.html#never"><span class="hs-identifier hs-var hs-var">never</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Memo (Pulse a) -&gt; Event a
forall a. Memo (Pulse a) -&gt; Event a
</span><a href="Reactive.Threepenny.html#E"><span class="hs-identifier hs-var">E</span></a></span><span> </span><span class="annot"><span class="annottext">(Memo (Pulse a) -&gt; Event a) -&gt; Memo (Pulse a) -&gt; Event a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Pulse a -&gt; Memo (Pulse a)
forall {a}. a -&gt; Memo a
</span><a href="Reactive.Threepenny.Memo.html#fromPure"><span class="hs-identifier hs-var">fromPure</span></a></span><span> </span><span class="annot"><span class="annottext">Pulse a
forall a. Pulse a
</span><a href="Reactive.Threepenny.PulseLatch.html#neverP"><span class="hs-identifier hs-var">Prim.neverP</span></a></span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span class="hs-comment">-- | Return all event occurrences that are 'Just' values, discard the rest.</span><span>
</span><span id="line-165"></span><span class="hs-comment">-- Think of it as</span><span>
</span><span id="line-166"></span><span class="hs-comment">--</span><span>
</span><span id="line-167"></span><span class="hs-comment">-- &gt; filterJust es = [(time,a) | (time,Just a) &lt;- es]</span><span>
</span><span id="line-168"></span><span id="filterJust"><span class="annot"><span class="annottext">filterJust :: Event (Maybe a) -&gt; Event a
</span><a href="Reactive.Threepenny.html#filterJust"><span class="hs-identifier hs-var hs-var">filterJust</span></a></span></span><span> </span><span id="local-6989586621679115609"><span class="annot"><span class="annottext">Event (Maybe a)
</span><a href="#local-6989586621679115609"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Memo (Pulse a) -&gt; Event a
forall a. Memo (Pulse a) -&gt; Event a
</span><a href="Reactive.Threepenny.html#E"><span class="hs-identifier hs-var">E</span></a></span><span> </span><span class="annot"><span class="annottext">(Memo (Pulse a) -&gt; Event a) -&gt; Memo (Pulse a) -&gt; Event a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Pulse (Maybe a) -&gt; IO (Pulse a))
-&gt; Memo (Pulse (Maybe a)) -&gt; Memo (Pulse a)
forall a b. (a -&gt; IO b) -&gt; Memo a -&gt; Memo b
</span><a href="Reactive.Threepenny.Memo.html#liftMemo1"><span class="hs-identifier hs-var">liftMemo1</span></a></span><span> </span><span class="annot"><span class="annottext">Pulse (Maybe a) -&gt; IO (Pulse a)
forall a. Pulse (Maybe a) -&gt; Build (Pulse a)
</span><a href="Reactive.Threepenny.PulseLatch.html#filterJustP"><span class="hs-identifier hs-var">Prim.filterJustP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Event (Maybe a) -&gt; Memo (Pulse (Maybe a))
forall a. Event a -&gt; Memo (Pulse a)
</span><a href="Reactive.Threepenny.html#unE"><span class="hs-identifier hs-var">unE</span></a></span><span> </span><span class="annot"><span class="annottext">Event (Maybe a)
</span><a href="#local-6989586621679115609"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span class="hs-comment">-- | Merge two event streams of the same type.</span><span>
</span><span id="line-171"></span><span class="hs-comment">-- In case of simultaneous occurrences, the event values are combined</span><span>
</span><span id="line-172"></span><span class="hs-comment">-- with the binary function.</span><span>
</span><span id="line-173"></span><span class="hs-comment">-- Think of it as</span><span>
</span><span id="line-174"></span><span class="hs-comment">--</span><span>
</span><span id="line-175"></span><span class="hs-comment">-- &gt; unionWith f ((timex,x):xs) ((timey,y):ys)</span><span>
</span><span id="line-176"></span><span class="hs-comment">-- &gt;    | timex == timey = (timex,f x y) : unionWith f xs ys</span><span>
</span><span id="line-177"></span><span class="hs-comment">-- &gt;    | timex &lt;  timey = (timex,x)     : unionWith f xs ((timey,y):ys)</span><span>
</span><span id="line-178"></span><span class="hs-comment">-- &gt;    | timex &gt;  timey = (timey,y)     : unionWith f ((timex,x):xs) ys</span><span>
</span><span id="line-179"></span><span id="local-6989586621679115360"><span class="annot"><a href="Reactive.Threepenny.html#unionWith"><span class="hs-identifier hs-type">unionWith</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679115360"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679115360"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679115360"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115360"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115360"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115360"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-180"></span><span id="unionWith"><span class="annot"><span class="annottext">unionWith :: forall a. (a -&gt; a -&gt; a) -&gt; Event a -&gt; Event a -&gt; Event a
</span><a href="Reactive.Threepenny.html#unionWith"><span class="hs-identifier hs-var hs-var">unionWith</span></a></span></span><span> </span><span id="local-6989586621679115611"><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621679115611"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679115612"><span class="annot"><span class="annottext">Event a
</span><a href="#local-6989586621679115612"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621679115613"><span class="annot"><span class="annottext">Event a
</span><a href="#local-6989586621679115613"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Memo (Pulse a) -&gt; Event a
forall a. Memo (Pulse a) -&gt; Event a
</span><a href="Reactive.Threepenny.html#E"><span class="hs-identifier hs-var">E</span></a></span><span> </span><span class="annot"><span class="annottext">(Memo (Pulse a) -&gt; Event a) -&gt; Memo (Pulse a) -&gt; Event a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Pulse a -&gt; Pulse a -&gt; IO (Pulse a))
-&gt; Memo (Pulse a) -&gt; Memo (Pulse a) -&gt; Memo (Pulse a)
forall a b c. (a -&gt; b -&gt; IO c) -&gt; Memo a -&gt; Memo b -&gt; Memo c
</span><a href="Reactive.Threepenny.Memo.html#liftMemo2"><span class="hs-identifier hs-var">liftMemo2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; a -&gt; a) -&gt; Pulse a -&gt; Pulse a -&gt; IO (Pulse a)
forall a. (a -&gt; a -&gt; a) -&gt; Pulse a -&gt; Pulse a -&gt; Build (Pulse a)
</span><a href="Reactive.Threepenny.PulseLatch.html#unionWithP"><span class="hs-identifier hs-var">Prim.unionWithP</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621679115611"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Event a -&gt; Memo (Pulse a)
forall a. Event a -&gt; Memo (Pulse a)
</span><a href="Reactive.Threepenny.html#unE"><span class="hs-identifier hs-var">unE</span></a></span><span> </span><span class="annot"><span class="annottext">Event a
</span><a href="#local-6989586621679115612"><span class="hs-identifier hs-var">e1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Event a -&gt; Memo (Pulse a)
forall a. Event a -&gt; Memo (Pulse a)
</span><a href="Reactive.Threepenny.html#unE"><span class="hs-identifier hs-var">unE</span></a></span><span> </span><span class="annot"><span class="annottext">Event a
</span><a href="#local-6989586621679115613"><span class="hs-identifier hs-var">e2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span class="hs-comment">-- | Apply a time-varying function to a stream of events.</span><span>
</span><span id="line-183"></span><span class="hs-comment">-- Think of it as</span><span>
</span><span id="line-184"></span><span class="hs-comment">--</span><span>
</span><span id="line-185"></span><span class="hs-comment">-- &gt; apply bf ex = [(time, bf time x) | (time, x) &lt;- ex]</span><span>
</span><span id="line-186"></span><span id="local-6989586621679115366"><span id="local-6989586621679115367"><span class="annot"><a href="Reactive.Threepenny.html#apply"><span class="hs-identifier hs-type">apply</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Behavior"><span class="hs-identifier hs-type">Behavior</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679115366"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679115367"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115366"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115367"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-187"></span><span id="apply"><span class="annot"><span class="annottext">apply :: forall a b. Behavior (a -&gt; b) -&gt; Event a -&gt; Event b
</span><a href="Reactive.Threepenny.html#apply"><span class="hs-identifier hs-var hs-var">apply</span></a></span></span><span>  </span><span id="local-6989586621679115616"><span class="annot"><span class="annottext">Behavior (a -&gt; b)
</span><a href="#local-6989586621679115616"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679115617"><span class="annot"><span class="annottext">Event a
</span><a href="#local-6989586621679115617"><span class="hs-identifier hs-var">x</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Memo (Pulse b) -&gt; Event b
forall a. Memo (Pulse a) -&gt; Event a
</span><a href="Reactive.Threepenny.html#E"><span class="hs-identifier hs-var">E</span></a></span><span> </span><span class="annot"><span class="annottext">(Memo (Pulse b) -&gt; Event b) -&gt; Memo (Pulse b) -&gt; Event b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Pulse a -&gt; IO (Pulse b)) -&gt; Memo (Pulse a) -&gt; Memo (Pulse b)
forall a b. (a -&gt; IO b) -&gt; Memo a -&gt; Memo b
</span><a href="Reactive.Threepenny.Memo.html#liftMemo1"><span class="hs-identifier hs-var">liftMemo1</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679115618"><span class="annot"><span class="annottext">Pulse a
</span><a href="#local-6989586621679115618"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Latch (a -&gt; b) -&gt; Pulse a -&gt; IO (Pulse b)
forall a b. Latch (a -&gt; b) -&gt; Pulse a -&gt; Build (Pulse b)
</span><a href="Reactive.Threepenny.PulseLatch.html#applyP"><span class="hs-identifier hs-var">Prim.applyP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Behavior (a -&gt; b) -&gt; Latch (a -&gt; b)
forall a. Behavior a -&gt; Latch a
</span><a href="Reactive.Threepenny.html#latch"><span class="hs-identifier hs-var">latch</span></a></span><span> </span><span class="annot"><span class="annottext">Behavior (a -&gt; b)
</span><a href="#local-6989586621679115616"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Pulse a
</span><a href="#local-6989586621679115618"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Event a -&gt; Memo (Pulse a)
forall a. Event a -&gt; Memo (Pulse a)
</span><a href="Reactive.Threepenny.html#unE"><span class="hs-identifier hs-var">unE</span></a></span><span> </span><span class="annot"><span class="annottext">Event a
</span><a href="#local-6989586621679115617"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-188"></span><span>
</span><span id="line-189"></span><span class="hs-keyword">infixl</span><span> </span><span class="hs-number">4</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#%3C%40%3E"><span class="hs-operator hs-type">&lt;@&gt;</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#%3C%40"><span class="hs-operator hs-type">&lt;@</span></a></span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span class="annot"><span class="hs-comment">-- | Infix synonym for 'apply', similar to '&lt;*&gt;'.</span></span><span>
</span><span id="line-192"></span><span id="local-6989586621679115620"><span id="local-6989586621679115621"><span class="annot"><a href="Reactive.Threepenny.html#%3C%40%3E"><span class="hs-operator hs-type">(&lt;@&gt;)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Behavior"><span class="hs-identifier hs-type">Behavior</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679115620"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679115621"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115620"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115621"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-193"></span><span id="%3C%40%3E"><span class="annot"><span class="annottext">&lt;@&gt; :: forall a b. Behavior (a -&gt; b) -&gt; Event a -&gt; Event b
</span><a href="Reactive.Threepenny.html#%3C%40%3E"><span class="hs-operator hs-var hs-var">(&lt;@&gt;)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Behavior (a -&gt; b) -&gt; Event a -&gt; Event b
forall a b. Behavior (a -&gt; b) -&gt; Event a -&gt; Event b
</span><a href="Reactive.Threepenny.html#apply"><span class="hs-identifier hs-var">apply</span></a></span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span class="annot"><span class="hs-comment">-- | Variant of 'apply' similar to '&lt;*'</span></span><span>
</span><span id="line-196"></span><span id="local-6989586621679115374"><span id="local-6989586621679115375"><span class="annot"><a href="Reactive.Threepenny.html#%3C%40"><span class="hs-operator hs-type">(&lt;@)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Behavior"><span class="hs-identifier hs-type">Behavior</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115374"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115375"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115374"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-197"></span><span id="local-6989586621679115624"><span class="annot"><span class="annottext">Behavior a
</span><a href="#local-6989586621679115624"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="%3C%40"><span class="annot"><span class="annottext">&lt;@ :: forall a b. Behavior a -&gt; Event b -&gt; Event a
</span><a href="Reactive.Threepenny.html#%3C%40"><span class="hs-operator hs-var hs-var">&lt;@</span></a></span></span><span> </span><span id="local-6989586621679115625"><span class="annot"><span class="annottext">Event b
</span><a href="#local-6989586621679115625"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b -&gt; a
forall a b. a -&gt; b -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; a) -&gt; Behavior a -&gt; Behavior (b -&gt; a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Behavior a
</span><a href="#local-6989586621679115624"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Behavior (b -&gt; a) -&gt; Event b -&gt; Event a
forall a b. Behavior (a -&gt; b) -&gt; Event a -&gt; Event b
</span><a href="Reactive.Threepenny.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Event b
</span><a href="#local-6989586621679115625"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span class="hs-comment">-- | The 'accumB' function is similar to a /strict/ left fold, 'foldl''.</span><span>
</span><span id="line-200"></span><span class="hs-comment">-- It starts with an initial value and combines it with incoming events.</span><span>
</span><span id="line-201"></span><span class="hs-comment">-- For example, think</span><span>
</span><span id="line-202"></span><span class="hs-comment">--</span><span>
</span><span id="line-203"></span><span class="hs-comment">-- &gt; accumB &quot;x&quot; [(time1,(++&quot;y&quot;)),(time2,(++&quot;z&quot;))]</span><span>
</span><span id="line-204"></span><span class="hs-comment">-- &gt;    = stepper &quot;x&quot; [(time1,&quot;xy&quot;),(time2,&quot;xyz&quot;)]</span><span>
</span><span id="line-205"></span><span class="hs-comment">--</span><span>
</span><span id="line-206"></span><span class="hs-comment">-- Note that the value of the behavior changes \&quot;slightly after\&quot;</span><span>
</span><span id="line-207"></span><span class="hs-comment">-- the events occur. This allows for recursive definitions.</span><span>
</span><span id="line-208"></span><span id="local-6989586621679115383"><span id="local-6989586621679115384"><span class="annot"><a href="Reactive.Threepenny.html#accumB"><span class="hs-identifier hs-type">accumB</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#MonadIO"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115383"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679115384"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679115384"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679115384"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679115383"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Reactive.Threepenny.html#Behavior"><span class="hs-identifier hs-type">Behavior</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115384"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-209"></span><span id="accumB"><span class="annot"><span class="annottext">accumB :: forall (m :: * -&gt; *) a.
MonadIO m =&gt;
a -&gt; Event (a -&gt; a) -&gt; m (Behavior a)
</span><a href="Reactive.Threepenny.html#accumB"><span class="hs-identifier hs-var hs-var">accumB</span></a></span></span><span> </span><span id="local-6989586621679115634"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679115634"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679115635"><span class="annot"><span class="annottext">Event (a -&gt; a)
</span><a href="#local-6989586621679115635"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO (Behavior a) -&gt; m (Behavior a)
forall a. IO a -&gt; m a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Behavior a) -&gt; m (Behavior a))
-&gt; IO (Behavior a) -&gt; m (Behavior a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-210"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679115636"><span class="annot"><span class="annottext">Latch a
</span><a href="#local-6989586621679115636"><span class="hs-identifier hs-var">l1</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679115637"><span class="annot"><span class="annottext">Pulse a
</span><a href="#local-6989586621679115637"><span class="hs-identifier hs-var">p1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">a -&gt; Pulse (a -&gt; a) -&gt; Build (Latch a, Pulse a)
forall a. a -&gt; Pulse (a -&gt; a) -&gt; Build (Latch a, Pulse a)
</span><a href="Reactive.Threepenny.PulseLatch.html#accumL"><span class="hs-identifier hs-var">Prim.accumL</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679115634"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">(Pulse (a -&gt; a) -&gt; Build (Latch a, Pulse a))
-&gt; IO (Pulse (a -&gt; a)) -&gt; Build (Latch a, Pulse a)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Memo (Pulse (a -&gt; a)) -&gt; IO (Pulse (a -&gt; a))
forall a. Memo a -&gt; IO a
</span><a href="Reactive.Threepenny.Memo.html#at"><span class="hs-identifier hs-var">at</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Event (a -&gt; a) -&gt; Memo (Pulse (a -&gt; a))
forall a. Event a -&gt; Memo (Pulse a)
</span><a href="Reactive.Threepenny.html#unE"><span class="hs-identifier hs-var">unE</span></a></span><span> </span><span class="annot"><span class="annottext">Event (a -&gt; a)
</span><a href="#local-6989586621679115635"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-211"></span><span>    </span><span id="local-6989586621679115639"><span class="annot"><span class="annottext">Pulse ()
</span><a href="#local-6989586621679115639"><span class="hs-identifier hs-var">p2</span></a></span></span><span>      </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(a -&gt; ()) -&gt; Pulse a -&gt; Build (Pulse ())
forall a b. (a -&gt; b) -&gt; Pulse a -&gt; Build (Pulse b)
</span><a href="Reactive.Threepenny.PulseLatch.html#mapP"><span class="hs-identifier hs-var">Prim.mapP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; a -&gt; ()
forall a b. a -&gt; b -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Pulse a
</span><a href="#local-6989586621679115637"><span class="hs-identifier hs-var">p1</span></a></span><span>
</span><span id="line-212"></span><span>    </span><span class="annot"><span class="annottext">Behavior a -&gt; IO (Behavior a)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Behavior a -&gt; IO (Behavior a)) -&gt; Behavior a -&gt; IO (Behavior a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Latch a -&gt; Event () -&gt; Behavior a
forall a. Latch a -&gt; Event () -&gt; Behavior a
</span><a href="Reactive.Threepenny.html#B"><span class="hs-identifier hs-var">B</span></a></span><span> </span><span class="annot"><span class="annottext">Latch a
</span><a href="#local-6989586621679115636"><span class="hs-identifier hs-var">l1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Memo (Pulse ()) -&gt; Event ()
forall a. Memo (Pulse a) -&gt; Event a
</span><a href="Reactive.Threepenny.html#E"><span class="hs-identifier hs-var">E</span></a></span><span> </span><span class="annot"><span class="annottext">(Memo (Pulse ()) -&gt; Event ()) -&gt; Memo (Pulse ()) -&gt; Event ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Pulse () -&gt; Memo (Pulse ())
forall {a}. a -&gt; Memo a
</span><a href="Reactive.Threepenny.Memo.html#fromPure"><span class="hs-identifier hs-var">fromPure</span></a></span><span> </span><span class="annot"><span class="annottext">Pulse ()
</span><a href="#local-6989586621679115639"><span class="hs-identifier hs-var">p2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span>
</span><span id="line-214"></span><span>
</span><span id="line-215"></span><span class="hs-comment">-- | Construct a time-varying function from an initial value and</span><span>
</span><span id="line-216"></span><span class="hs-comment">-- a stream of new values. Think of it as</span><span>
</span><span id="line-217"></span><span class="hs-comment">--</span><span>
</span><span id="line-218"></span><span class="hs-comment">-- &gt; stepper x0 ex = return $ \time -&gt;</span><span>
</span><span id="line-219"></span><span class="hs-comment">-- &gt;     last (x0 : [x | (timex,x) &lt;- ex, timex &lt; time])</span><span>
</span><span id="line-220"></span><span class="hs-comment">--</span><span>
</span><span id="line-221"></span><span class="hs-comment">-- Note that the smaller-than-sign in the comparison @timex &lt; time@ means</span><span>
</span><span id="line-222"></span><span class="hs-comment">-- that the value of the behavior changes \&quot;slightly after\&quot;</span><span>
</span><span id="line-223"></span><span class="hs-comment">-- the event occurrences. This allows for recursive definitions.</span><span>
</span><span id="line-224"></span><span id="local-6989586621679115388"><span id="local-6989586621679115389"><span class="annot"><a href="Reactive.Threepenny.html#stepper"><span class="hs-identifier hs-type">stepper</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#MonadIO"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115388"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679115389"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115389"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679115388"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Reactive.Threepenny.html#Behavior"><span class="hs-identifier hs-type">Behavior</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115389"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-225"></span><span id="stepper"><span class="annot"><span class="annottext">stepper :: forall (m :: * -&gt; *) a. MonadIO m =&gt; a -&gt; Event a -&gt; m (Behavior a)
</span><a href="Reactive.Threepenny.html#stepper"><span class="hs-identifier hs-var hs-var">stepper</span></a></span></span><span> </span><span id="local-6989586621679115643"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679115643"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679115644"><span class="annot"><span class="annottext">Event a
</span><a href="#local-6989586621679115644"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Event (a -&gt; a) -&gt; m (Behavior a)
forall (m :: * -&gt; *) a.
MonadIO m =&gt;
a -&gt; Event (a -&gt; a) -&gt; m (Behavior a)
</span><a href="Reactive.Threepenny.html#accumB"><span class="hs-identifier hs-var">accumB</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679115643"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a b. a -&gt; b -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a -&gt; a) -&gt; Event a -&gt; Event (a -&gt; a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Event a
</span><a href="#local-6989586621679115644"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-226"></span><span>
</span><span id="line-227"></span><span class="hs-comment">-- | The 'accumE' function accumulates a stream of events.</span><span>
</span><span id="line-228"></span><span class="hs-comment">-- Example:</span><span>
</span><span id="line-229"></span><span class="hs-comment">--</span><span>
</span><span id="line-230"></span><span class="hs-comment">-- &gt; accumE &quot;x&quot; [(time1,(++&quot;y&quot;)),(time2,(++&quot;z&quot;))]</span><span>
</span><span id="line-231"></span><span class="hs-comment">-- &gt;    = return [(time1,&quot;xy&quot;),(time2,&quot;xyz&quot;)]</span><span>
</span><span id="line-232"></span><span class="hs-comment">--</span><span>
</span><span id="line-233"></span><span class="hs-comment">-- Note that the output events are simultaneous with the input events,</span><span>
</span><span id="line-234"></span><span class="hs-comment">-- there is no \&quot;delay\&quot; like in the case of 'accumB'.</span><span>
</span><span id="line-235"></span><span id="local-6989586621679115392"><span id="local-6989586621679115393"><span class="annot"><a href="Reactive.Threepenny.html#accumE"><span class="hs-identifier hs-type">accumE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#MonadIO"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115392"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>  </span><span class="annot"><a href="#local-6989586621679115393"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679115393"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679115393"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679115392"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115393"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-236"></span><span id="accumE"><span class="annot"><span class="annottext">accumE :: forall (m :: * -&gt; *) a.
MonadIO m =&gt;
a -&gt; Event (a -&gt; a) -&gt; m (Event a)
</span><a href="Reactive.Threepenny.html#accumE"><span class="hs-identifier hs-var hs-var">accumE</span></a></span></span><span> </span><span id="local-6989586621679115651"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679115651"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679115652"><span class="annot"><span class="annottext">Event (a -&gt; a)
</span><a href="#local-6989586621679115652"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO (Event a) -&gt; m (Event a)
forall a. IO a -&gt; m a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Event a) -&gt; m (Event a)) -&gt; IO (Event a) -&gt; m (Event a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-237"></span><span>    </span><span id="local-6989586621679115653"><span class="annot"><span class="annottext">Pulse a
</span><a href="#local-6989586621679115653"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Latch a, Pulse a) -&gt; Pulse a)
-&gt; IO (Latch a, Pulse a) -&gt; IO (Pulse a)
forall a b. (a -&gt; b) -&gt; IO a -&gt; IO b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">(Latch a, Pulse a) -&gt; Pulse a
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Latch a, Pulse a) -&gt; IO (Pulse a))
-&gt; (Pulse (a -&gt; a) -&gt; IO (Latch a, Pulse a))
-&gt; Pulse (a -&gt; a)
-&gt; IO (Pulse a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Pulse (a -&gt; a) -&gt; IO (Latch a, Pulse a)
forall a. a -&gt; Pulse (a -&gt; a) -&gt; Build (Latch a, Pulse a)
</span><a href="Reactive.Threepenny.PulseLatch.html#accumL"><span class="hs-identifier hs-var">Prim.accumL</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679115651"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">(Pulse (a -&gt; a) -&gt; IO (Pulse a))
-&gt; IO (Pulse (a -&gt; a)) -&gt; IO (Pulse a)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Memo (Pulse (a -&gt; a)) -&gt; IO (Pulse (a -&gt; a))
forall a. Memo a -&gt; IO a
</span><a href="Reactive.Threepenny.Memo.html#at"><span class="hs-identifier hs-var">at</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Event (a -&gt; a) -&gt; Memo (Pulse (a -&gt; a))
forall a. Event a -&gt; Memo (Pulse a)
</span><a href="Reactive.Threepenny.html#unE"><span class="hs-identifier hs-var">unE</span></a></span><span> </span><span class="annot"><span class="annottext">Event (a -&gt; a)
</span><a href="#local-6989586621679115652"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-238"></span><span>    </span><span class="annot"><span class="annottext">Event a -&gt; IO (Event a)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Event a -&gt; IO (Event a)) -&gt; Event a -&gt; IO (Event a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Memo (Pulse a) -&gt; Event a
forall a. Memo (Pulse a) -&gt; Event a
</span><a href="Reactive.Threepenny.html#E"><span class="hs-identifier hs-var">E</span></a></span><span> </span><span class="annot"><span class="annottext">(Memo (Pulse a) -&gt; Event a) -&gt; Memo (Pulse a) -&gt; Event a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Pulse a -&gt; Memo (Pulse a)
forall {a}. a -&gt; Memo a
</span><a href="Reactive.Threepenny.Memo.html#fromPure"><span class="hs-identifier hs-var">fromPure</span></a></span><span> </span><span class="annot"><span class="annottext">Pulse a
</span><a href="#local-6989586621679115653"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679115658"><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#Functor"><span class="hs-identifier hs-type">Functor</span></a></span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Behavior"><span class="hs-identifier hs-type">Behavior</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-241"></span><span>    </span><span id="local-6989586621679115660"><span class="annot"><span class="annottext">fmap :: forall a b. (a -&gt; b) -&gt; Behavior a -&gt; Behavior b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></a></span></span><span> </span><span id="local-6989586621679115661"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679115661"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Reactive.Threepenny.html#B"><span class="hs-identifier hs-type">B</span></a></span><span> </span><span id="local-6989586621679115662"><span class="annot"><span class="annottext">Latch a
</span><a href="#local-6989586621679115662"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679115663"><span class="annot"><span class="annottext">Event ()
</span><a href="#local-6989586621679115663"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Latch b -&gt; Event () -&gt; Behavior b
forall a. Latch a -&gt; Event () -&gt; Behavior a
</span><a href="Reactive.Threepenny.html#B"><span class="hs-identifier hs-var">B</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; Latch a -&gt; Latch b
forall a b. (a -&gt; b) -&gt; Latch a -&gt; Latch b
</span><a href="Reactive.Threepenny.PulseLatch.html#mapL"><span class="hs-identifier hs-var">Prim.mapL</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679115661"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Latch a
</span><a href="#local-6989586621679115662"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Event ()
</span><a href="#local-6989586621679115663"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679115670"><span id="local-6989586621679115674"><span id="local-6989586621679115677"><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#Applicative"><span class="hs-identifier hs-type">Applicative</span></a></span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Behavior"><span class="hs-identifier hs-type">Behavior</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-244"></span><span>    </span><span id="local-6989586621679115680"><span class="annot"><span class="annottext">pure :: forall a. a -&gt; Behavior a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var hs-var hs-var hs-var">pure</span></a></span></span><span> </span><span id="local-6989586621679115681"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679115681"><span class="hs-identifier hs-var">a</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Latch a -&gt; Event () -&gt; Behavior a
forall a. Latch a -&gt; Event () -&gt; Behavior a
</span><a href="Reactive.Threepenny.html#B"><span class="hs-identifier hs-var">B</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Latch a
forall a. a -&gt; Latch a
</span><a href="Reactive.Threepenny.PulseLatch.html#pureL"><span class="hs-identifier hs-var">Prim.pureL</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679115681"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Event ()
forall a. Event a
</span><a href="Reactive.Threepenny.html#never"><span class="hs-identifier hs-var">never</span></a></span><span>
</span><span id="line-245"></span><span>    </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Reactive.Threepenny.html#B"><span class="hs-identifier hs-type">B</span></a></span><span> </span><span id="local-6989586621679115683"><span class="annot"><span class="annottext">Latch (a -&gt; b)
</span><a href="#local-6989586621679115683"><span class="hs-identifier hs-var">lf</span></a></span></span><span> </span><span id="local-6989586621679115684"><span class="annot"><span class="annottext">Event ()
</span><a href="#local-6989586621679115684"><span class="hs-identifier hs-var">ef</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679115685"><span class="annot"><span class="annottext">&lt;*&gt; :: forall a b. Behavior (a -&gt; b) -&gt; Behavior a -&gt; Behavior b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;*&gt;</span></a></span></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Reactive.Threepenny.html#B"><span class="hs-identifier hs-type">B</span></a></span><span> </span><span id="local-6989586621679115686"><span class="annot"><span class="annottext">Latch a
</span><a href="#local-6989586621679115686"><span class="hs-identifier hs-var">lx</span></a></span></span><span> </span><span id="local-6989586621679115687"><span class="annot"><span class="annottext">Event ()
</span><a href="#local-6989586621679115687"><span class="hs-identifier hs-var">ex</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-246"></span><span>        </span><span class="annot"><span class="annottext">Latch b -&gt; Event () -&gt; Behavior b
forall a. Latch a -&gt; Event () -&gt; Behavior a
</span><a href="Reactive.Threepenny.html#B"><span class="hs-identifier hs-var">B</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Latch (a -&gt; b) -&gt; Latch a -&gt; Latch b
forall a b. Latch (a -&gt; b) -&gt; Latch a -&gt; Latch b
</span><a href="Reactive.Threepenny.PulseLatch.html#applyL"><span class="hs-identifier hs-var">Prim.applyL</span></a></span><span> </span><span class="annot"><span class="annottext">Latch (a -&gt; b)
</span><a href="#local-6989586621679115683"><span class="hs-identifier hs-var">lf</span></a></span><span> </span><span class="annot"><span class="annottext">Latch a
</span><a href="#local-6989586621679115686"><span class="hs-identifier hs-var">lx</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(() -&gt; () -&gt; ()) -&gt; Event () -&gt; Event () -&gt; Event ()
forall a. (a -&gt; a -&gt; a) -&gt; Event a -&gt; Event a -&gt; Event a
</span><a href="Reactive.Threepenny.html#unionWith"><span class="hs-identifier hs-var">unionWith</span></a></span><span> </span><span class="annot"><span class="annottext">() -&gt; () -&gt; ()
forall a b. a -&gt; b -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Event ()
</span><a href="#local-6989586621679115684"><span class="hs-identifier hs-var">ef</span></a></span><span> </span><span class="annot"><span class="annottext">Event ()
</span><a href="#local-6989586621679115687"><span class="hs-identifier hs-var">ex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-247"></span><span>
</span><span id="line-248"></span><span class="annot"><span class="hs-comment">{- $classes

/Further combinators that Haddock can't document properly./

&gt; instance Applicative Behavior

'Behavior' is an applicative functor. In particular, we have the following functions.

&gt; pure :: a -&gt; Behavior a

The constant time-varying value. Think of it as @pure x = \\time -&gt; x@.

&gt; (&lt;*&gt;) :: Behavior (a -&gt; b) -&gt; Behavior a -&gt; Behavior b

Combine behaviors in applicative style.
Think of it as @bf \&lt;*\&gt; bx = \\time -&gt; bf time $ bx time@.

-}</span></span><span>
</span><span id="line-266"></span><span>
</span><span id="line-267"></span><span class="annot"><span class="hs-comment">{- $recursion

Recursion in the 'IO' monad is possible, but somewhat limited.
The main rule is that the sequence of IO actions must be known
in advance, only the values may be recursive.

Good:

&gt; mdo
&gt;     let e2 = apply (const &lt;$&gt; b) e1   -- applying a behavior is not an IO action
&gt;     b &lt;- accumB $ (+1) &lt;$ e2

Bad:

&gt; mdo
&gt;     b &lt;- accumB $ (+1) &lt;$ e2          -- actions executed here could depend ...
&gt;     let e2 = apply (const &lt;$&gt; b) e1   -- ... on this value

-}</span></span><span>
</span><span id="line-286"></span><span>
</span><span id="line-287"></span><span class="hs-comment">{-----------------------------------------------------------------------------
    Derived Combinators
------------------------------------------------------------------------------}</span><span>
</span><span id="line-290"></span><span class="annot"><span class="hs-comment">-- | Return all event occurrences that fulfill the predicate, discard the rest.</span></span><span>
</span><span id="line-291"></span><span id="local-6989586621679115422"><span class="annot"><a href="Reactive.Threepenny.html#filterE"><span class="hs-identifier hs-type">filterE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679115422"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115422"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115422"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-292"></span><span id="filterE"><span class="annot"><span class="annottext">filterE :: forall a. (a -&gt; Bool) -&gt; Event a -&gt; Event a
</span><a href="Reactive.Threepenny.html#filterE"><span class="hs-identifier hs-var hs-var">filterE</span></a></span></span><span> </span><span id="local-6989586621679115690"><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621679115690"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Event (Maybe a) -&gt; Event a
forall {a}. Event (Maybe a) -&gt; Event a
</span><a href="Reactive.Threepenny.html#filterJust"><span class="hs-identifier hs-var">filterJust</span></a></span><span> </span><span class="annot"><span class="annottext">(Event (Maybe a) -&gt; Event a)
-&gt; (Event a -&gt; Event (Maybe a)) -&gt; Event a -&gt; Event a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; Event a -&gt; Event (Maybe a)
forall a b. (a -&gt; b) -&gt; Event a -&gt; Event b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679115691"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679115691"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621679115690"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679115691"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679115691"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-293"></span><span>
</span><span id="line-294"></span><span class="hs-comment">-- | Return all event occurrences that fulfill the time-varying predicate,</span><span>
</span><span id="line-295"></span><span class="hs-comment">-- discard the rest. Generalization of 'filterE'.</span><span>
</span><span id="line-296"></span><span id="local-6989586621679115425"><span class="annot"><a href="Reactive.Threepenny.html#filterApply"><span class="hs-identifier hs-type">filterApply</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Behavior"><span class="hs-identifier hs-type">Behavior</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679115425"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115425"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115425"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-297"></span><span id="filterApply"><span class="annot"><span class="annottext">filterApply :: forall a. Behavior (a -&gt; Bool) -&gt; Event a -&gt; Event a
</span><a href="Reactive.Threepenny.html#filterApply"><span class="hs-identifier hs-var hs-var">filterApply</span></a></span></span><span> </span><span id="local-6989586621679115694"><span class="annot"><span class="annottext">Behavior (a -&gt; Bool)
</span><a href="#local-6989586621679115694"><span class="hs-identifier hs-var">bp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Bool, a) -&gt; a) -&gt; Event (Bool, a) -&gt; Event a
forall a b. (a -&gt; b) -&gt; Event a -&gt; Event b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">(Bool, a) -&gt; a
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">(Event (Bool, a) -&gt; Event a)
-&gt; (Event a -&gt; Event (Bool, a)) -&gt; Event a -&gt; Event a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">((Bool, a) -&gt; Bool) -&gt; Event (Bool, a) -&gt; Event (Bool, a)
forall a. (a -&gt; Bool) -&gt; Event a -&gt; Event a
</span><a href="Reactive.Threepenny.html#filterE"><span class="hs-identifier hs-var">filterE</span></a></span><span> </span><span class="annot"><span class="annottext">(Bool, a) -&gt; Bool
forall a b. (a, b) -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="annot"><span class="annottext">(Event (Bool, a) -&gt; Event (Bool, a))
-&gt; (Event a -&gt; Event (Bool, a)) -&gt; Event a -&gt; Event (Bool, a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Behavior (a -&gt; (Bool, a)) -&gt; Event a -&gt; Event (Bool, a)
forall a b. Behavior (a -&gt; b) -&gt; Event a -&gt; Event b
</span><a href="Reactive.Threepenny.html#apply"><span class="hs-identifier hs-var">apply</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679115696"><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621679115696"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679115697"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679115697"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621679115696"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679115697"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679115697"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((a -&gt; Bool) -&gt; a -&gt; (Bool, a))
-&gt; Behavior (a -&gt; Bool) -&gt; Behavior (a -&gt; (Bool, a))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Behavior (a -&gt; Bool)
</span><a href="#local-6989586621679115694"><span class="hs-identifier hs-var">bp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-298"></span><span>
</span><span id="line-299"></span><span class="hs-comment">-- | Return event occurrences only when the behavior is 'True'.</span><span>
</span><span id="line-300"></span><span class="hs-comment">-- Variant of 'filterApply'.</span><span>
</span><span id="line-301"></span><span id="local-6989586621679115429"><span class="annot"><a href="Reactive.Threepenny.html#whenE"><span class="hs-identifier hs-type">whenE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Behavior"><span class="hs-identifier hs-type">Behavior</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115429"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115429"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-302"></span><span id="whenE"><span class="annot"><span class="annottext">whenE :: forall a. Behavior Bool -&gt; Event a -&gt; Event a
</span><a href="Reactive.Threepenny.html#whenE"><span class="hs-identifier hs-var hs-var">whenE</span></a></span></span><span> </span><span id="local-6989586621679115699"><span class="annot"><span class="annottext">Behavior Bool
</span><a href="#local-6989586621679115699"><span class="hs-identifier hs-var">bf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Behavior (a -&gt; Bool) -&gt; Event a -&gt; Event a
forall a. Behavior (a -&gt; Bool) -&gt; Event a -&gt; Event a
</span><a href="Reactive.Threepenny.html#filterApply"><span class="hs-identifier hs-var">filterApply</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; a -&gt; Bool
forall a b. a -&gt; b -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; a -&gt; Bool) -&gt; Behavior Bool -&gt; Behavior (a -&gt; Bool)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Behavior Bool
</span><a href="#local-6989586621679115699"><span class="hs-identifier hs-var">bf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-303"></span><span>
</span><span id="line-304"></span><span class="hs-comment">-- | Split event occurrences according to a tag.</span><span>
</span><span id="line-305"></span><span class="hs-comment">-- The 'Left' values go into the left component while the 'Right' values</span><span>
</span><span id="line-306"></span><span class="hs-comment">-- go into the right component of the result.</span><span>
</span><span id="line-307"></span><span id="local-6989586621679115431"><span id="local-6989586621679115432"><span class="annot"><a href="Reactive.Threepenny.html#split"><span class="hs-identifier hs-type">split</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115431"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115432"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115431"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115432"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-308"></span><span id="split"><span class="annot"><span class="annottext">split :: forall a b. Event (Either a b) -&gt; (Event a, Event b)
</span><a href="Reactive.Threepenny.html#split"><span class="hs-identifier hs-var hs-var">split</span></a></span></span><span> </span><span id="local-6989586621679115702"><span class="annot"><span class="annottext">Event (Either a b)
</span><a href="#local-6989586621679115702"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Event (Maybe a) -&gt; Event a
forall {a}. Event (Maybe a) -&gt; Event a
</span><a href="Reactive.Threepenny.html#filterJust"><span class="hs-identifier hs-var">filterJust</span></a></span><span> </span><span class="annot"><span class="annottext">(Event (Maybe a) -&gt; Event a) -&gt; Event (Maybe a) -&gt; Event a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Either a b -&gt; Maybe a
forall {a} {b}. Either a b -&gt; Maybe a
</span><a href="#local-6989586621679115703"><span class="hs-identifier hs-var">fromLeft</span></a></span><span> </span><span class="annot"><span class="annottext">(Either a b -&gt; Maybe a) -&gt; Event (Either a b) -&gt; Event (Maybe a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Event (Either a b)
</span><a href="#local-6989586621679115702"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Event (Maybe b) -&gt; Event b
forall {a}. Event (Maybe a) -&gt; Event a
</span><a href="Reactive.Threepenny.html#filterJust"><span class="hs-identifier hs-var">filterJust</span></a></span><span> </span><span class="annot"><span class="annottext">(Event (Maybe b) -&gt; Event b) -&gt; Event (Maybe b) -&gt; Event b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Either a b -&gt; Maybe b
forall {a} {a}. Either a a -&gt; Maybe a
</span><a href="#local-6989586621679115704"><span class="hs-identifier hs-var">fromRight</span></a></span><span> </span><span class="annot"><span class="annottext">(Either a b -&gt; Maybe b) -&gt; Event (Either a b) -&gt; Event (Maybe b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Event (Either a b)
</span><a href="#local-6989586621679115702"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-309"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-310"></span><span>    </span><span id="local-6989586621679115703"><span class="annot"><span class="annottext">fromLeft :: Either a b -&gt; Maybe a
</span><a href="#local-6989586621679115703"><span class="hs-identifier hs-var hs-var">fromLeft</span></a></span></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span>  </span><span id="local-6989586621679115705"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679115705"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679115705"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-311"></span><span>    </span><span class="annot"><a href="#local-6989586621679115703"><span class="hs-identifier hs-var">fromLeft</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679115706"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679115706"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-312"></span><span>    </span><span id="local-6989586621679115704"><span class="annot"><span class="annottext">fromRight :: Either a a -&gt; Maybe a
</span><a href="#local-6989586621679115704"><span class="hs-identifier hs-var hs-var">fromRight</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span>  </span><span id="local-6989586621679115707"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679115707"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-313"></span><span>    </span><span class="annot"><a href="#local-6989586621679115704"><span class="hs-identifier hs-var">fromRight</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679115708"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679115708"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679115708"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-314"></span><span>
</span><span id="line-315"></span><span class="annot"><span class="hs-comment">-- | Collect simultaneous event occurrences in a list.</span></span><span>
</span><span id="line-316"></span><span id="local-6989586621679115439"><span class="annot"><a href="Reactive.Threepenny.html#unions"><span class="hs-identifier hs-type">unions</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115439"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679115439"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-317"></span><span id="unions"><span class="annot"><span class="annottext">unions :: forall a. [Event a] -&gt; Event [a]
</span><a href="Reactive.Threepenny.html#unions"><span class="hs-identifier hs-var hs-var">unions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Event [a] -&gt; Event [a] -&gt; Event [a])
-&gt; Event [a] -&gt; [Event [a]] -&gt; Event [a]
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Foldable.html#foldr"><span class="hs-identifier hs-var">foldr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([a] -&gt; [a] -&gt; [a]) -&gt; Event [a] -&gt; Event [a] -&gt; Event [a]
forall a. (a -&gt; a -&gt; a) -&gt; Event a -&gt; Event a -&gt; Event a
</span><a href="Reactive.Threepenny.html#unionWith"><span class="hs-identifier hs-var">unionWith</span></a></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a] -&gt; [a]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">(++)</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Event [a]
forall a. Event a
</span><a href="Reactive.Threepenny.html#never"><span class="hs-identifier hs-var">never</span></a></span><span> </span><span class="annot"><span class="annottext">([Event [a]] -&gt; Event [a])
-&gt; ([Event a] -&gt; [Event [a]]) -&gt; [Event a] -&gt; Event [a]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Event a -&gt; Event [a]) -&gt; [Event a] -&gt; [Event [a]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; [a]) -&gt; Event a -&gt; Event [a]
forall a b. (a -&gt; b) -&gt; Event a -&gt; Event b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; [a] -&gt; [a]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-318"></span><span>
</span><span id="line-319"></span><span class="hs-comment">-- | Apply a list of functions in succession.</span><span>
</span><span id="line-320"></span><span class="hs-comment">-- Useful in conjunction with 'unions'.</span><span>
</span><span id="line-321"></span><span class="hs-comment">--</span><span>
</span><span id="line-322"></span><span class="hs-comment">-- &gt; concatenate [f,g,h] = f . g . h</span><span>
</span><span id="line-323"></span><span id="local-6989586621679115447"><span class="annot"><a href="Reactive.Threepenny.html#concatenate"><span class="hs-identifier hs-type">concatenate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679115447"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679115447"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679115447"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679115447"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-324"></span><span id="concatenate"><span class="annot"><span class="annottext">concatenate :: forall a. [a -&gt; a] -&gt; a -&gt; a
</span><a href="Reactive.Threepenny.html#concatenate"><span class="hs-identifier hs-var hs-var">concatenate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((a -&gt; a) -&gt; (a -&gt; a) -&gt; a -&gt; a) -&gt; (a -&gt; a) -&gt; [a -&gt; a] -&gt; a -&gt; a
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Foldable.html#foldr"><span class="hs-identifier hs-var">foldr</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; (a -&gt; a) -&gt; a -&gt; a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">(.)</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. a -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#id"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-325"></span><span>
</span><span id="line-326"></span><span class="annot"><span class="hs-comment">{- $accumulation

Note: All accumulation functions are strict in the accumulated value!
acc -&gt; (x,acc) is the order used by 'unfoldr' and 'State'.

-}</span></span><span>
</span><span id="line-332"></span><span>
</span><span id="line-333"></span><span class="annot"><span class="hs-comment">-- | Efficient combination of 'accumE' and 'accumB'.</span></span><span>
</span><span id="line-334"></span><span id="local-6989586621679115450"><span id="local-6989586621679115451"><span id="local-6989586621679115452"><span class="annot"><a href="Reactive.Threepenny.html#mapAccum"><span class="hs-identifier hs-type">mapAccum</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.IO.Class.html#MonadIO"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115450"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679115451"><span class="hs-identifier hs-type">acc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679115451"><span class="hs-identifier hs-type">acc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679115452"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679115451"><span class="hs-identifier hs-type">acc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679115450"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115452"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Behavior"><span class="hs-identifier hs-type">Behavior</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115451"><span class="hs-identifier hs-type">acc</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-335"></span><span id="mapAccum"><span class="annot"><span class="annottext">mapAccum :: forall (m :: * -&gt; *) acc x.
MonadIO m =&gt;
acc -&gt; Event (acc -&gt; (x, acc)) -&gt; m (Event x, Behavior acc)
</span><a href="Reactive.Threepenny.html#mapAccum"><span class="hs-identifier hs-var hs-var">mapAccum</span></a></span></span><span> </span><span id="local-6989586621679115728"><span class="annot"><span class="annottext">acc
</span><a href="#local-6989586621679115728"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621679115729"><span class="annot"><span class="annottext">Event (acc -&gt; (x, acc))
</span><a href="#local-6989586621679115729"><span class="hs-identifier hs-var">ef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-336"></span><span>    </span><span id="local-6989586621679115730"><span class="annot"><span class="annottext">Event (x, acc)
</span><a href="#local-6989586621679115730"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(x, acc) -&gt; Event ((x, acc) -&gt; (x, acc)) -&gt; m (Event (x, acc))
forall (m :: * -&gt; *) a.
MonadIO m =&gt;
a -&gt; Event (a -&gt; a) -&gt; m (Event a)
</span><a href="Reactive.Threepenny.html#accumE"><span class="hs-identifier hs-var">accumE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">x
forall a. HasCallStack =&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Err.html#undefined"><span class="hs-identifier hs-var">undefined</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">acc
</span><a href="#local-6989586621679115728"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">(acc -&gt; (x, acc)) -&gt; ((x, acc) -&gt; acc) -&gt; (x, acc) -&gt; (x, acc)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(x, acc) -&gt; acc
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((acc -&gt; (x, acc)) -&gt; (x, acc) -&gt; (x, acc))
-&gt; Event (acc -&gt; (x, acc)) -&gt; Event ((x, acc) -&gt; (x, acc))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Event (acc -&gt; (x, acc))
</span><a href="#local-6989586621679115729"><span class="hs-identifier hs-var">ef</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-337"></span><span>    </span><span id="local-6989586621679115732"><span class="annot"><span class="annottext">Behavior acc
</span><a href="#local-6989586621679115732"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">acc -&gt; Event acc -&gt; m (Behavior acc)
forall (m :: * -&gt; *) a. MonadIO m =&gt; a -&gt; Event a -&gt; m (Behavior a)
</span><a href="Reactive.Threepenny.html#stepper"><span class="hs-identifier hs-var">stepper</span></a></span><span> </span><span class="annot"><span class="annottext">acc
</span><a href="#local-6989586621679115728"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(x, acc) -&gt; acc
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">((x, acc) -&gt; acc) -&gt; Event (x, acc) -&gt; Event acc
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Event (x, acc)
</span><a href="#local-6989586621679115730"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-338"></span><span>    </span><span class="annot"><span class="annottext">(Event x, Behavior acc) -&gt; m (Event x, Behavior acc)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(x, acc) -&gt; x
forall a b. (a, b) -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="annot"><span class="annottext">((x, acc) -&gt; x) -&gt; Event (x, acc) -&gt; Event x
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Event (x, acc)
</span><a href="#local-6989586621679115730"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Behavior acc
</span><a href="#local-6989586621679115732"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-339"></span><span>
</span><span id="line-340"></span><span>
</span><span id="line-341"></span><span class="hs-comment">{-----------------------------------------------------------------------------
    Tidings

    Data type for combining user events.
    See &lt;http://apfelmus.nfshost.com/blog/2012/03/29-frp-three-principles-bidirectional-gui.html&gt;
    for more information.
------------------------------------------------------------------------------}</span><span>
</span><span id="line-348"></span><span class="hs-comment">-- | Data type representing a behavior ('facts')</span><span>
</span><span id="line-349"></span><span class="hs-comment">-- and suggestions to change it ('rumors').</span><span>
</span><span id="line-350"></span><span class="hs-keyword">data</span><span> </span><span id="Tidings"><span class="annot"><a href="Reactive.Threepenny.html#Tidings"><span class="hs-identifier hs-var">Tidings</span></a></span></span><span> </span><span id="local-6989586621679115459"><span class="annot"><a href="#local-6989586621679115459"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="T"><span class="annot"><a href="Reactive.Threepenny.html#T"><span class="hs-identifier hs-var">T</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="facts"><span class="annot"><span class="annottext">forall a. Tidings a -&gt; Behavior a
</span><a href="Reactive.Threepenny.html#facts"><span class="hs-identifier hs-var hs-var">facts</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Behavior"><span class="hs-identifier hs-type">Behavior</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115459"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span id="rumors"><span class="annot"><span class="annottext">forall a. Tidings a -&gt; Event a
</span><a href="Reactive.Threepenny.html#rumors"><span class="hs-identifier hs-var hs-var">rumors</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115459"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-351"></span><span>
</span><span id="line-352"></span><span class="annot"><span class="hs-comment">-- | Smart constructor. Combine facts and rumors into 'Tidings'.</span></span><span>
</span><span id="line-353"></span><span id="local-6989586621679115463"><span class="annot"><a href="Reactive.Threepenny.html#tidings"><span class="hs-identifier hs-type">tidings</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Behavior"><span class="hs-identifier hs-type">Behavior</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115463"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115463"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Tidings"><span class="hs-identifier hs-type">Tidings</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115463"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-354"></span><span id="tidings"><span class="annot"><span class="annottext">tidings :: forall a. Behavior a -&gt; Event a -&gt; Tidings a
</span><a href="Reactive.Threepenny.html#tidings"><span class="hs-identifier hs-var hs-var">tidings</span></a></span></span><span> </span><span id="local-6989586621679115734"><span class="annot"><span class="annottext">Behavior a
</span><a href="#local-6989586621679115734"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679115735"><span class="annot"><span class="annottext">Event a
</span><a href="#local-6989586621679115735"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Behavior a -&gt; Event a -&gt; Tidings a
forall a. Behavior a -&gt; Event a -&gt; Tidings a
</span><a href="Reactive.Threepenny.html#T"><span class="hs-identifier hs-var">T</span></a></span><span> </span><span class="annot"><span class="annottext">Behavior a
</span><a href="#local-6989586621679115734"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Event a
</span><a href="#local-6989586621679115735"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-355"></span><span>
</span><span id="line-356"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679115738"><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#Functor"><span class="hs-identifier hs-type">Functor</span></a></span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Tidings"><span class="hs-identifier hs-type">Tidings</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-357"></span><span>    </span><span id="local-6989586621679115743"><span class="annot"><span class="annottext">fmap :: forall a b. (a -&gt; b) -&gt; Tidings a -&gt; Tidings b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></a></span></span><span> </span><span id="local-6989586621679115744"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679115744"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Reactive.Threepenny.html#T"><span class="hs-identifier hs-type">T</span></a></span><span> </span><span id="local-6989586621679115745"><span class="annot"><span class="annottext">Behavior a
</span><a href="#local-6989586621679115745"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679115746"><span class="annot"><span class="annottext">Event a
</span><a href="#local-6989586621679115746"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Behavior b -&gt; Event b -&gt; Tidings b
forall a. Behavior a -&gt; Event a -&gt; Tidings a
</span><a href="Reactive.Threepenny.html#T"><span class="hs-identifier hs-var">T</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; Behavior a -&gt; Behavior b
forall a b. (a -&gt; b) -&gt; Behavior a -&gt; Behavior b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679115744"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Behavior a
</span><a href="#local-6989586621679115745"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; Event a -&gt; Event b
forall a b. (a -&gt; b) -&gt; Event a -&gt; Event b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679115744"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Event a
</span><a href="#local-6989586621679115746"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-358"></span><span>
</span><span id="line-359"></span><span class="hs-comment">-- | The applicative instance combines 'rumors'</span><span>
</span><span id="line-360"></span><span class="hs-comment">-- and uses 'facts' when some of the 'rumors' are not available.</span><span>
</span><span id="line-361"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679115752"><span id="local-6989586621679115756"><span id="local-6989586621679115759"><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#Applicative"><span class="hs-identifier hs-type">Applicative</span></a></span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Tidings"><span class="hs-identifier hs-type">Tidings</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-362"></span><span>    </span><span id="local-6989586621679115762"><span class="annot"><span class="annottext">pure :: forall a. a -&gt; Tidings a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var hs-var hs-var hs-var">pure</span></a></span></span><span> </span><span id="local-6989586621679115763"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679115763"><span class="hs-identifier hs-var">x</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Behavior a -&gt; Event a -&gt; Tidings a
forall a. Behavior a -&gt; Event a -&gt; Tidings a
</span><a href="Reactive.Threepenny.html#T"><span class="hs-identifier hs-var">T</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Behavior a
forall a. a -&gt; Behavior a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679115763"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Event a
forall a. Event a
</span><a href="Reactive.Threepenny.html#never"><span class="hs-identifier hs-var">never</span></a></span><span>
</span><span id="line-363"></span><span>    </span><span id="local-6989586621679115765"><span class="annot"><span class="annottext">Tidings (a -&gt; b)
</span><a href="#local-6989586621679115765"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679115766"><span class="annot"><span class="annottext">&lt;*&gt; :: forall a b. Tidings (a -&gt; b) -&gt; Tidings a -&gt; Tidings b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;*&gt;</span></a></span></span><span> </span><span id="local-6989586621679115767"><span class="annot"><span class="annottext">Tidings a
</span><a href="#local-6989586621679115767"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((a -&gt; b) -&gt; a -&gt; b) -&gt; (a -&gt; b, a) -&gt; b
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Tuple.html#uncurry"><span class="hs-identifier hs-var">uncurry</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; a -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">($)</span></a></span><span> </span><span class="annot"><span class="annottext">((a -&gt; b, a) -&gt; b) -&gt; Tidings (a -&gt; b, a) -&gt; Tidings b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Tidings (a -&gt; b) -&gt; Tidings a -&gt; Tidings (a -&gt; b, a)
forall a b. Tidings a -&gt; Tidings b -&gt; Tidings (a, b)
</span><a href="Reactive.Threepenny.html#pair"><span class="hs-identifier hs-var">pair</span></a></span><span> </span><span class="annot"><span class="annottext">Tidings (a -&gt; b)
</span><a href="#local-6989586621679115765"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Tidings a
</span><a href="#local-6989586621679115767"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-364"></span><span>
</span><span id="line-365"></span><span id="local-6989586621679115473"><span id="local-6989586621679115474"><span class="annot"><a href="Reactive.Threepenny.html#pair"><span class="hs-identifier hs-type">pair</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Tidings"><span class="hs-identifier hs-type">Tidings</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115473"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Tidings"><span class="hs-identifier hs-type">Tidings</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679115474"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Tidings"><span class="hs-identifier hs-type">Tidings</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679115473"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679115474"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-366"></span><span id="pair"><span class="annot"><span class="annottext">pair :: forall a b. Tidings a -&gt; Tidings b -&gt; Tidings (a, b)
</span><a href="Reactive.Threepenny.html#pair"><span class="hs-identifier hs-var hs-var">pair</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Reactive.Threepenny.html#T"><span class="hs-identifier hs-type">T</span></a></span><span> </span><span id="local-6989586621679115770"><span class="annot"><span class="annottext">Behavior a
</span><a href="#local-6989586621679115770"><span class="hs-identifier hs-var">bx</span></a></span></span><span> </span><span id="local-6989586621679115771"><span class="annot"><span class="annottext">Event a
</span><a href="#local-6989586621679115771"><span class="hs-identifier hs-var">ex</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Reactive.Threepenny.html#T"><span class="hs-identifier hs-type">T</span></a></span><span> </span><span id="local-6989586621679115772"><span class="annot"><span class="annottext">Behavior b
</span><a href="#local-6989586621679115772"><span class="hs-identifier hs-var">by</span></a></span></span><span> </span><span id="local-6989586621679115773"><span class="annot"><span class="annottext">Event b
</span><a href="#local-6989586621679115773"><span class="hs-identifier hs-var">ey</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Behavior (a, b) -&gt; Event (a, b) -&gt; Tidings (a, b)
forall a. Behavior a -&gt; Event a -&gt; Tidings a
</span><a href="Reactive.Threepenny.html#T"><span class="hs-identifier hs-var">T</span></a></span><span> </span><span class="annot"><span class="annottext">Behavior (a, b)
</span><a href="#local-6989586621679115774"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Event (a, b)
</span><a href="#local-6989586621679115775"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-367"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-368"></span><span>    </span><span id="local-6989586621679115774"><span class="annot"><span class="annottext">b :: Behavior (a, b)
</span><a href="#local-6989586621679115774"><span class="hs-identifier hs-var hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; (a, b)) -&gt; Behavior a -&gt; Behavior (b -&gt; (a, b))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Behavior a
</span><a href="#local-6989586621679115770"><span class="hs-identifier hs-var">bx</span></a></span><span> </span><span class="annot"><span class="annottext">Behavior (b -&gt; (a, b)) -&gt; Behavior b -&gt; Behavior (a, b)
forall a b. Behavior (a -&gt; b) -&gt; Behavior a -&gt; Behavior b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Behavior b
</span><a href="#local-6989586621679115772"><span class="hs-identifier hs-var">by</span></a></span><span>
</span><span id="line-369"></span><span>    </span><span id="local-6989586621679115779"><span class="annot"><span class="annottext">x :: Event (a, b)
</span><a href="#local-6989586621679115779"><span class="hs-identifier hs-var hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; (a, b)) -&gt; b -&gt; a -&gt; (a, b)
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(b -&gt; a -&gt; (a, b)) -&gt; Behavior b -&gt; Behavior (a -&gt; (a, b))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Behavior b
</span><a href="#local-6989586621679115772"><span class="hs-identifier hs-var">by</span></a></span><span> </span><span class="annot"><span class="annottext">Behavior (a -&gt; (a, b)) -&gt; Event a -&gt; Event (a, b)
forall a b. Behavior (a -&gt; b) -&gt; Event a -&gt; Event b
</span><a href="Reactive.Threepenny.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Event a
</span><a href="#local-6989586621679115771"><span class="hs-identifier hs-var">ex</span></a></span><span>
</span><span id="line-370"></span><span>    </span><span id="local-6989586621679115782"><span class="annot"><span class="annottext">y :: Event (a, b)
</span><a href="#local-6989586621679115782"><span class="hs-identifier hs-var hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; (a, b)) -&gt; Behavior a -&gt; Behavior (b -&gt; (a, b))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Behavior a
</span><a href="#local-6989586621679115770"><span class="hs-identifier hs-var">bx</span></a></span><span> </span><span class="annot"><span class="annottext">Behavior (b -&gt; (a, b)) -&gt; Event b -&gt; Event (a, b)
forall a b. Behavior (a -&gt; b) -&gt; Event a -&gt; Event b
</span><a href="Reactive.Threepenny.html#%3C%40%3E"><span class="hs-operator hs-var">&lt;@&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Event b
</span><a href="#local-6989586621679115773"><span class="hs-identifier hs-var">ey</span></a></span><span>
</span><span id="line-371"></span><span>    </span><span id="local-6989586621679115775"><span class="annot"><span class="annottext">e :: Event (a, b)
</span><a href="#local-6989586621679115775"><span class="hs-identifier hs-var hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((a, b) -&gt; (a, b) -&gt; (a, b))
-&gt; Event (a, b) -&gt; Event (a, b) -&gt; Event (a, b)
forall a. (a -&gt; a -&gt; a) -&gt; Event a -&gt; Event a -&gt; Event a
</span><a href="Reactive.Threepenny.html#unionWith"><span class="hs-identifier hs-var">unionWith</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679115783"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679115783"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621679115784"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679115784"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679115783"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679115784"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Event (a, b)
</span><a href="#local-6989586621679115779"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Event (a, b)
</span><a href="#local-6989586621679115782"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-372"></span><span>
</span><span id="line-373"></span><span>
</span><span id="line-374"></span><span class="hs-comment">{-----------------------------------------------------------------------------
    Test
------------------------------------------------------------------------------}</span><span>
</span><span id="line-377"></span><span class="annot"><a href="Reactive.Threepenny.html#test"><span class="hs-identifier hs-type">test</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-378"></span><span id="test"><span class="annot"><span class="annottext">test :: IO (Int -&gt; IO ())
</span><a href="Reactive.Threepenny.html#test"><span class="hs-identifier hs-var hs-var">test</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-379"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679115786"><span class="annot"><span class="annottext">Event Int
</span><a href="#local-6989586621679115786"><span class="hs-identifier hs-var">e1</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679115787"><span class="annot"><span class="annottext">Int -&gt; IO ()
</span><a href="#local-6989586621679115787"><span class="hs-identifier hs-var">fire</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Event Int, Int -&gt; IO ())
forall a. IO (Event a, Handler a)
</span><a href="Reactive.Threepenny.html#newEvent"><span class="hs-identifier hs-var">newEvent</span></a></span><span>
</span><span id="line-380"></span><span>    </span><span id="local-6989586621679115788"><span class="annot"><span class="annottext">Event Int
</span><a href="#local-6989586621679115788"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Event (Int -&gt; Int) -&gt; IO (Event Int)
forall (m :: * -&gt; *) a.
MonadIO m =&gt;
a -&gt; Event (a -&gt; a) -&gt; m (Event a)
</span><a href="Reactive.Threepenny.html#accumE"><span class="hs-identifier hs-var">accumE</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Event (Int -&gt; Int) -&gt; IO (Event Int))
-&gt; Event (Int -&gt; Int) -&gt; IO (Event Int)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">(+)</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Int -&gt; Int) -&gt; Event Int -&gt; Event (Int -&gt; Int)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Event Int
</span><a href="#local-6989586621679115786"><span class="hs-identifier hs-var">e1</span></a></span><span>
</span><span id="line-381"></span><span>    </span><span class="annot"><span class="annottext">IO ()
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Event Int -&gt; (Int -&gt; IO ()) -&gt; IO (IO ())
forall a. Event a -&gt; Handler a -&gt; IO (IO ())
</span><a href="Reactive.Threepenny.html#register"><span class="hs-identifier hs-var">register</span></a></span><span> </span><span class="annot"><span class="annottext">Event Int
</span><a href="#local-6989586621679115788"><span class="hs-identifier hs-var">e2</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; IO ()
forall a. Show a =&gt; a -&gt; IO ()
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/System.IO.html#print"><span class="hs-identifier hs-var">print</span></a></span><span>
</span><span id="line-382"></span><span>
</span><span id="line-383"></span><span>    </span><span class="annot"><span class="annottext">(Int -&gt; IO ()) -&gt; IO (Int -&gt; IO ())
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; IO ()
</span><a href="#local-6989586621679115787"><span class="hs-identifier hs-var">fire</span></a></span><span>
</span><span id="line-384"></span><span>
</span><span id="line-385"></span><span class="annot"><a href="Reactive.Threepenny.html#test_recursion1"><span class="hs-identifier hs-type">test_recursion1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-386"></span><span id="test_recursion1"><span class="annot"><span class="annottext">test_recursion1 :: IO (IO ())
</span><a href="Reactive.Threepenny.html#test_recursion1"><span class="hs-identifier hs-var hs-var">test_recursion1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">mdo</span><span>
</span><span id="line-387"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679115791"><span class="annot"><span class="annottext">Event ()
</span><a href="#local-6989586621679115791"><span class="hs-identifier hs-var">e1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679115792"><span class="annot"><span class="annottext">Handler ()
</span><a href="#local-6989586621679115792"><span class="hs-identifier hs-var">fire</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Event (), Handler ())
forall a. IO (Event a, Handler a)
</span><a href="Reactive.Threepenny.html#newEvent"><span class="hs-identifier hs-var">newEvent</span></a></span><span>
</span><span id="line-388"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621679115793"><span class="hs-identifier hs-type">e2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Reactive.Threepenny.html#Event"><span class="hs-identifier hs-type">Event</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-389"></span><span>        </span><span id="local-6989586621679115793"><span class="annot"><span class="annottext">e2 :: Event Int
</span><a href="#local-6989586621679115793"><span class="hs-identifier hs-var hs-var">e2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Behavior (() -&gt; Int) -&gt; Event () -&gt; Event Int
forall a b. Behavior (a -&gt; b) -&gt; Event a -&gt; Event b
</span><a href="Reactive.Threepenny.html#apply"><span class="hs-identifier hs-var">apply</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; () -&gt; Int
forall a b. a -&gt; b -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; () -&gt; Int) -&gt; Behavior Int -&gt; Behavior (() -&gt; Int)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Behavior Int
</span><a href="#local-6989586621679115794"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Event ()
</span><a href="#local-6989586621679115791"><span class="hs-identifier hs-var">e1</span></a></span><span>
</span><span id="line-390"></span><span>    </span><span id="local-6989586621679115794"><span class="annot"><span class="annottext">Behavior Int
</span><a href="#local-6989586621679115794"><span class="hs-identifier hs-var">b</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Event (Int -&gt; Int) -&gt; IO (Behavior Int)
forall (m :: * -&gt; *) a.
MonadIO m =&gt;
a -&gt; Event (a -&gt; a) -&gt; m (Behavior a)
</span><a href="Reactive.Threepenny.html#accumB"><span class="hs-identifier hs-var">accumB</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Event (Int -&gt; Int) -&gt; IO (Behavior Int))
-&gt; Event (Int -&gt; Int) -&gt; IO (Behavior Int)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Int) -&gt; Event Int -&gt; Event (Int -&gt; Int)
forall a b. a -&gt; Event b -&gt; Event a
forall (f :: * -&gt; *) a b. Functor f =&gt; a -&gt; f b -&gt; f a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%3C%24"><span class="hs-operator hs-var">&lt;$</span></a></span><span> </span><span class="annot"><span class="annottext">Event Int
</span><a href="#local-6989586621679115793"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-391"></span><span>    </span><span class="annot"><span class="annottext">IO ()
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Event Int -&gt; (Int -&gt; IO ()) -&gt; IO (IO ())
forall a. Event a -&gt; Handler a -&gt; IO (IO ())
</span><a href="Reactive.Threepenny.html#register"><span class="hs-identifier hs-var">register</span></a></span><span> </span><span class="annot"><span class="annottext">Event Int
</span><a href="#local-6989586621679115793"><span class="hs-identifier hs-var">e2</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; IO ()
forall a. Show a =&gt; a -&gt; IO ()
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/System.IO.html#print"><span class="hs-identifier hs-var">print</span></a></span><span>
</span><span id="line-392"></span><span>
</span><span id="line-393"></span><span>    </span><span class="annot"><span class="annottext">IO () -&gt; IO (IO ())
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO (IO ())) -&gt; IO () -&gt; IO (IO ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Handler ()
</span><a href="#local-6989586621679115792"><span class="hs-identifier hs-var">fire</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-394"></span><span>
</span><span id="line-395"></span><span>
</span><span id="line-396"></span></pre></body></html>