<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-- editorconfig-checker-disable-file</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-3"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Codec.CBOR.Extras</span><span>
</span><span id="line-4"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Codec.CBOR.Extras.html#SerialiseViaFlat"><span class="hs-identifier">SerialiseViaFlat</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-5"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.CBOR.Extras.html#decodeViaFlat"><span class="hs-identifier">decodeViaFlat</span></a></span><span>
</span><span id="line-6"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.CBOR.Extras.html#DeserialiseFailureInfo"><span class="hs-identifier">DeserialiseFailureInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-7"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.CBOR.Extras.html#DeserialiseFailureReason"><span class="hs-identifier">DeserialiseFailureReason</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-8"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.CBOR.Extras.html#readDeserialiseFailureInfo"><span class="hs-identifier">readDeserialiseFailureInfo</span></a></span><span>
</span><span id="line-9"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Codec.CBOR.Decoding</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">CBOR</span></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Codec.CBOR.Read</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">CBOR</span></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Codec.Serialise</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Serialise</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">decode</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">encode</span></span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Either.Extras</span></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Flat</span></span><span> </span><span class="hs-keyword">qualified</span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Flat.Decoder</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Flat</span></span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span class="hs-comment">-- | Newtype to provide 'Serialise' instances for types with a 'Flat' instance that</span><span>
</span><span id="line-19"></span><span class="hs-comment">-- just encodes the flat-serialized value as a CBOR bytestring</span><span>
</span><span id="line-20"></span><span class="hs-keyword">newtype</span><span> </span><span id="SerialiseViaFlat"><span class="annot"><a href="Codec.CBOR.Extras.html#SerialiseViaFlat"><span class="hs-identifier hs-var">SerialiseViaFlat</span></a></span></span><span> </span><span id="local-6989586621680432587"><span class="annot"><a href="#local-6989586621680432587"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SerialiseViaFlat"><span class="annot"><a href="Codec.CBOR.Extras.html#SerialiseViaFlat"><span class="hs-identifier hs-var">SerialiseViaFlat</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680432587"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-21"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680432579"><span id="local-6989586621680432631"><span id="local-6989586621680432635"><span class="annot"><span class="hs-identifier hs-type">Flat.Flat</span></span><span> </span><span class="annot"><a href="#local-6989586621680432579"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Serialise</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.CBOR.Extras.html#SerialiseViaFlat"><span class="hs-identifier hs-type">SerialiseViaFlat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680432579"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-22"></span><span>  </span><span id="local-6989586621680432641"><span class="annot"><span class="annottext">encode :: SerialiseViaFlat a -&gt; Encoding
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.CBOR.Extras.html#SerialiseViaFlat"><span class="hs-identifier hs-type">SerialiseViaFlat</span></a></span><span> </span><span id="local-6989586621680432642"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680432642"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Encoding
forall a. Serialise a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Encoding) -&gt; ByteString -&gt; Encoding
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; ByteString
forall a. Flat a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">Flat.flat</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680432642"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-23"></span><span>  </span><span id="local-6989586621680432647"><span class="annot"><span class="annottext">decode :: forall s. Decoder s (SerialiseViaFlat a)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; SerialiseViaFlat a
forall a. a -&gt; SerialiseViaFlat a
</span><a href="Codec.CBOR.Extras.html#SerialiseViaFlat"><span class="hs-identifier hs-var">SerialiseViaFlat</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; SerialiseViaFlat a)
-&gt; Decoder s a -&gt; Decoder s (SerialiseViaFlat a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Get a -&gt; Decoder s a
forall a s. Get a -&gt; Decoder s a
</span><a href="Codec.CBOR.Extras.html#decodeViaFlat"><span class="hs-identifier hs-var">decodeViaFlat</span></a></span><span> </span><span class="annot"><span class="annottext">Get a
forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">Flat.decode</span></span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span id="local-6989586621680432592"><span id="local-6989586621680432593"><span class="annot"><a href="Codec.CBOR.Extras.html#decodeViaFlat"><span class="hs-identifier hs-type">decodeViaFlat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat.Get</span></span><span> </span><span class="annot"><a href="#local-6989586621680432592"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CBOR.Decoder</span></span><span> </span><span class="annot"><a href="#local-6989586621680432593"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680432592"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-26"></span><span id="decodeViaFlat"><span class="annot"><span class="annottext">decodeViaFlat :: forall a s. Get a -&gt; Decoder s a
</span><a href="Codec.CBOR.Extras.html#decodeViaFlat"><span class="hs-identifier hs-var hs-var">decodeViaFlat</span></a></span></span><span> </span><span id="local-6989586621680432659"><span class="annot"><span class="annottext">Get a
</span><a href="#local-6989586621680432659"><span class="hs-identifier hs-var">decoder</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-27"></span><span>    </span><span id="local-6989586621680432660"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621680432660"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Decoder s ByteString
forall s. Decoder s ByteString
</span><span class="hs-identifier hs-var">decodeBytes</span></span><span>
</span><span id="line-28"></span><span>    </span><span class="hs-comment">-- lift any flat's failures to be cborg failures (MonadFail)</span><span>
</span><span id="line-29"></span><span>    </span><span class="annot"><span class="annottext">(DecodeException -&gt; Decoder s a)
-&gt; Either DecodeException a -&gt; Decoder s a
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Either a b -&gt; m b
</span><span class="hs-identifier hs-var">fromRightM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Decoder s a
forall a. String -&gt; Decoder s a
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/Control.Monad.Fail.html#fail"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Decoder s a)
-&gt; (DecodeException -&gt; String) -&gt; DecodeException -&gt; Decoder s a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">DecodeException -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Either DecodeException a -&gt; Decoder s a)
-&gt; Either DecodeException a -&gt; Decoder s a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-30"></span><span>        </span><span class="annot"><span class="annottext">Get a -&gt; ByteString -&gt; Either DecodeException a
forall b a. AsByteString b =&gt; Get a -&gt; b -&gt; Decoded a
</span><span class="hs-identifier hs-var">Flat.unflatWith</span></span><span> </span><span class="annot"><span class="annottext">Get a
</span><a href="#local-6989586621680432659"><span class="hs-identifier hs-var">decoder</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621680432660"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span class="annot"><span class="hs-comment">{- | The errors returned by `cborg` are plain strings (untyped). With this function we try to
map onto datatypes, those cborg error messages that we are interested in.

Currently we are only interested in error messages returned by the `CBOR.decodeBytes` decoder;
see `PlutusLedgerApi.Common.SerialisedScript.scriptCBORDecoder`.
-}</span></span><span>
</span><span id="line-38"></span><span class="annot"><a href="Codec.CBOR.Extras.html#readDeserialiseFailureInfo"><span class="hs-identifier hs-type">readDeserialiseFailureInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CBOR.DeserialiseFailure</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Codec.CBOR.Extras.html#DeserialiseFailureInfo"><span class="hs-identifier hs-type">DeserialiseFailureInfo</span></a></span><span>
</span><span id="line-39"></span><span id="readDeserialiseFailureInfo"><span class="annot"><span class="annottext">readDeserialiseFailureInfo :: DeserialiseFailure -&gt; DeserialiseFailureInfo
</span><a href="Codec.CBOR.Extras.html#readDeserialiseFailureInfo"><span class="hs-identifier hs-var hs-var">readDeserialiseFailureInfo</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CBOR.DeserialiseFailure</span></span><span> </span><span id="local-6989586621680432667"><span class="annot"><span class="annottext">ByteOffset
</span><a href="#local-6989586621680432667"><span class="hs-identifier hs-var">byteOffset</span></a></span></span><span> </span><span id="local-6989586621680432668"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680432668"><span class="hs-identifier hs-var">reason</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-40"></span><span>    </span><span class="annot"><span class="annottext">ByteOffset -&gt; DeserialiseFailureReason -&gt; DeserialiseFailureInfo
</span><a href="Codec.CBOR.Extras.html#DeserialiseFailureInfo"><span class="hs-identifier hs-var">DeserialiseFailureInfo</span></a></span><span> </span><span class="annot"><span class="annottext">ByteOffset
</span><a href="#local-6989586621680432667"><span class="hs-identifier hs-var">byteOffset</span></a></span><span> </span><span class="annot"><span class="annottext">(DeserialiseFailureReason -&gt; DeserialiseFailureInfo)
-&gt; DeserialiseFailureReason -&gt; DeserialiseFailureInfo
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; DeserialiseFailureReason
</span><a href="#local-6989586621680432670"><span class="hs-identifier hs-var">interpretReason</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680432668"><span class="hs-identifier hs-var">reason</span></a></span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-42"></span><span>    </span><span class="hs-comment">-- Note that this is subject to change if `cborg` dependency changes. Currently: cborg-0.2.9.0</span><span>
</span><span id="line-43"></span><span>    </span><span class="annot"><a href="#local-6989586621680432670"><span class="hs-identifier hs-type">interpretReason</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Codec.CBOR.Extras.html#DeserialiseFailureReason"><span class="hs-identifier hs-type">DeserialiseFailureReason</span></a></span><span>
</span><span id="line-44"></span><span>    </span><span id="local-6989586621680432670"><span class="annot"><span class="annottext">interpretReason :: String -&gt; DeserialiseFailureReason
</span><a href="#local-6989586621680432670"><span class="hs-identifier hs-var hs-var">interpretReason</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-45"></span><span>        </span><span class="hs-comment">-- Relevant Sources:</span><span>
</span><span id="line-46"></span><span>        </span><span class="hs-comment">-- &lt;https://github.com/well-typed/cborg/blob/cborg-0.2.9.0/cborg/src/Codec/CBOR/Read.hs#L226&gt;</span><span>
</span><span id="line-47"></span><span>        </span><span class="hs-comment">-- &lt;https://github.com/well-typed/cborg/blob/cborg-0.2.9.0/cborg/src/Codec/CBOR/Read.hs#L1424&gt;</span><span>
</span><span id="line-48"></span><span>        </span><span class="hs-comment">-- &lt;https://github.com/well-typed/cborg/blob/cborg-0.2.9.0/cborg/src/Codec/CBOR/Read.hs#L1441&gt;</span><span>
</span><span id="line-49"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;end of input&quot;</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DeserialiseFailureReason
</span><a href="Codec.CBOR.Extras.html#EndOfInput"><span class="hs-identifier hs-var">EndOfInput</span></a></span><span>
</span><span id="line-50"></span><span>        </span><span class="hs-comment">-- Relevant Sources:</span><span>
</span><span id="line-51"></span><span>        </span><span class="hs-comment">-- &lt;https://github.com/well-typed/cborg/blob/cborg-0.2.9.0/cborg/src/Codec/CBOR/Read.hs#L1051&gt;</span><span>
</span><span id="line-52"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;expected bytes&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DeserialiseFailureReason
</span><a href="Codec.CBOR.Extras.html#ExpectedBytes"><span class="hs-identifier hs-var">ExpectedBytes</span></a></span><span>
</span><span id="line-53"></span><span>        </span><span id="local-6989586621680432673"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680432673"><span class="hs-identifier hs-var">msg</span></a></span></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; DeserialiseFailureReason
</span><a href="Codec.CBOR.Extras.html#OtherReason"><span class="hs-identifier hs-var">OtherReason</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680432673"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-54"></span><span>
</span><span id="line-55"></span><span class="hs-comment">-- | Similar to `CBOR.DeserialiseFailure`, with the difference that plain string reason</span><span>
</span><span id="line-56"></span><span class="hs-comment">-- messages are turned into the datatype: `DeserialiseFailureReason`.</span><span>
</span><span id="line-57"></span><span class="hs-keyword">data</span><span> </span><span id="DeserialiseFailureInfo"><span class="annot"><a href="Codec.CBOR.Extras.html#DeserialiseFailureInfo"><span class="hs-identifier hs-var">DeserialiseFailureInfo</span></a></span></span><span>
</span><span id="line-58"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="DeserialiseFailureInfo"><span class="annot"><a href="Codec.CBOR.Extras.html#DeserialiseFailureInfo"><span class="hs-identifier hs-var">DeserialiseFailureInfo</span></a></span></span><span>
</span><span id="line-59"></span><span>        </span><span class="hs-special">{</span><span> </span><span id="dfOffset"><span class="annot"><span class="annottext">DeserialiseFailureInfo -&gt; ByteOffset
</span><a href="Codec.CBOR.Extras.html#dfOffset"><span class="hs-identifier hs-var hs-var">dfOffset</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CBOR.ByteOffset</span></span><span>
</span><span id="line-60"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="dfReason"><span class="annot"><span class="annottext">DeserialiseFailureInfo -&gt; DeserialiseFailureReason
</span><a href="Codec.CBOR.Extras.html#dfReason"><span class="hs-identifier hs-var hs-var">dfReason</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.CBOR.Extras.html#DeserialiseFailureReason"><span class="hs-identifier hs-type">DeserialiseFailureReason</span></a></span><span>
</span><span id="line-61"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-62"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680432678"><span id="local-6989586621680432684"><span class="annot"><span class="annottext">DeserialiseFailureInfo -&gt; DeserialiseFailureInfo -&gt; Bool
(DeserialiseFailureInfo -&gt; DeserialiseFailureInfo -&gt; Bool)
-&gt; (DeserialiseFailureInfo -&gt; DeserialiseFailureInfo -&gt; Bool)
-&gt; Eq DeserialiseFailureInfo
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: DeserialiseFailureInfo -&gt; DeserialiseFailureInfo -&gt; Bool
== :: DeserialiseFailureInfo -&gt; DeserialiseFailureInfo -&gt; Bool
$c/= :: DeserialiseFailureInfo -&gt; DeserialiseFailureInfo -&gt; Bool
/= :: DeserialiseFailureInfo -&gt; DeserialiseFailureInfo -&gt; Bool
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680432689"><span id="local-6989586621680432697"><span id="local-6989586621680432701"><span class="annot"><span class="annottext">Int -&gt; DeserialiseFailureInfo -&gt; ShowS
[DeserialiseFailureInfo] -&gt; ShowS
DeserialiseFailureInfo -&gt; String
(Int -&gt; DeserialiseFailureInfo -&gt; ShowS)
-&gt; (DeserialiseFailureInfo -&gt; String)
-&gt; ([DeserialiseFailureInfo] -&gt; ShowS)
-&gt; Show DeserialiseFailureInfo
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; DeserialiseFailureInfo -&gt; ShowS
showsPrec :: Int -&gt; DeserialiseFailureInfo -&gt; ShowS
$cshow :: DeserialiseFailureInfo -&gt; String
show :: DeserialiseFailureInfo -&gt; String
$cshowList :: [DeserialiseFailureInfo] -&gt; ShowS
showList :: [DeserialiseFailureInfo] -&gt; ShowS
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span class="annot"><span class="hs-comment">-- | The reason of the cbor failure as a datatype, not as a plain string.</span></span><span>
</span><span id="line-65"></span><span class="hs-keyword">data</span><span> </span><span id="DeserialiseFailureReason"><span class="annot"><a href="Codec.CBOR.Extras.html#DeserialiseFailureReason"><span class="hs-identifier hs-var">DeserialiseFailureReason</span></a></span></span><span>
</span><span id="line-66"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="EndOfInput"><span class="annot"><a href="Codec.CBOR.Extras.html#EndOfInput"><span class="hs-identifier hs-var">EndOfInput</span></a></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Not enough input provided</span></span><span>
</span><span id="line-67"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="ExpectedBytes"><span class="annot"><a href="Codec.CBOR.Extras.html#ExpectedBytes"><span class="hs-identifier hs-var">ExpectedBytes</span></a></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ The bytes inside the input are malformed.</span></span><span>
</span><span id="line-68"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="OtherReason"><span class="annot"><a href="Codec.CBOR.Extras.html#OtherReason"><span class="hs-identifier hs-var">OtherReason</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-comment">-- ^ A failure reason we (plutus) are not aware of, use whatever</span><span>
</span><span id="line-69"></span><span>                         </span><span class="hs-comment">-- message that `cborg` returns.</span><span>
</span><span id="line-70"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680432705"><span id="local-6989586621680432710"><span class="annot"><span class="annottext">DeserialiseFailureReason -&gt; DeserialiseFailureReason -&gt; Bool
(DeserialiseFailureReason -&gt; DeserialiseFailureReason -&gt; Bool)
-&gt; (DeserialiseFailureReason -&gt; DeserialiseFailureReason -&gt; Bool)
-&gt; Eq DeserialiseFailureReason
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: DeserialiseFailureReason -&gt; DeserialiseFailureReason -&gt; Bool
== :: DeserialiseFailureReason -&gt; DeserialiseFailureReason -&gt; Bool
$c/= :: DeserialiseFailureReason -&gt; DeserialiseFailureReason -&gt; Bool
/= :: DeserialiseFailureReason -&gt; DeserialiseFailureReason -&gt; Bool
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680432714"><span id="local-6989586621680432720"><span id="local-6989586621680432723"><span class="annot"><span class="annottext">Int -&gt; DeserialiseFailureReason -&gt; ShowS
[DeserialiseFailureReason] -&gt; ShowS
DeserialiseFailureReason -&gt; String
(Int -&gt; DeserialiseFailureReason -&gt; ShowS)
-&gt; (DeserialiseFailureReason -&gt; String)
-&gt; ([DeserialiseFailureReason] -&gt; ShowS)
-&gt; Show DeserialiseFailureReason
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; DeserialiseFailureReason -&gt; ShowS
showsPrec :: Int -&gt; DeserialiseFailureReason -&gt; ShowS
$cshow :: DeserialiseFailureReason -&gt; String
show :: DeserialiseFailureReason -&gt; String
$cshowList :: [DeserialiseFailureReason] -&gt; ShowS
showList :: [DeserialiseFailureReason] -&gt; ShowS
</span><a href="file:///nix/store/9f69j6hfgwz5xdil7lfn1c1mbhrhidl1-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span></pre></body></html>